<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>bilishield</title>
    <link href="github.css"  type="text/css" rel="stylesheet">
</head>
<body>
<pre><code class="language-js"><span class="hljs-comment">// ==UserScript==</span>
<span class="hljs-comment">// @name            bilibili屏蔽</span>
<span class="hljs-comment">// @version         1.1.1675422343306</span>
<span class="hljs-comment">// @author          zzxt0019</span>
<span class="hljs-comment">// @namespace       zzxt0019/bilishield</span>
<span class="hljs-comment">// @icon64          https://zzxt0019.github.io/bilishield/img/Elysia.png</span>
<span class="hljs-comment">// @updateURL       https://zzxt0019.github.io/bilishield/userscript.s.js</span>
<span class="hljs-comment">// @downloadURL     https://zzxt0019.github.io/bilishield/userscript.s.js</span>
<span class="hljs-comment">// @supportURL      https://github.com/zzxt0019/bilishield</span>
<span class="hljs-comment">// @homepage        https://github.com/zzxt0019/bilishield</span>
<span class="hljs-comment">// @description     bilibili屏蔽 更新时间: 2023-02-03 19:05:43.306</span>
<span class="hljs-comment">// @require         https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js</span>
<span class="hljs-comment">// @require         https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js</span>
<span class="hljs-comment">// @require         https://cdnjs.cloudflare.com/ajax/libs/dayjs/1.11.7/dayjs.min.js</span>
<span class="hljs-comment">// @require         https://cdnjs.cloudflare.com/ajax/libs/antd/5.1.7/antd.min.js</span>
<span class="hljs-comment">// @require         https://cdnjs.cloudflare.com/ajax/libs/arrive/2.4.1/arrive.min.js</span>
<span class="hljs-comment">// @require         https://cdnjs.cloudflare.com/ajax/libs/ant-design-icons/5.0.1/index.umd.min.js</span>

<span class="hljs-comment">// @match           *://*.bilibili.com/*</span>
<span class="hljs-comment">// @noframes</span>
<span class="hljs-comment">// @grant           GM_setValue</span>
<span class="hljs-comment">// @grant           GM_getValue</span>
<span class="hljs-comment">// @grant           GM_deleteValue</span>
<span class="hljs-comment">// @grant           GM_listValues</span>
<span class="hljs-comment">// @grant           GM_registerMenuCommand</span>
<span class="hljs-comment">// @grant           GM_xmlhttpRequest</span>
<span class="hljs-comment">// @grant           GM_info</span>
<span class="hljs-comment">// @connect         *</span>
<span class="hljs-comment">// ==/UserScript==</span>

<span class="hljs-comment">/******/</span> (<span class="hljs-function">() =&gt;</span> { <span class="hljs-comment">// webpackBootstrap</span>
<span class="hljs-comment">/******/</span> 	<span class="hljs-keyword">var</span> __webpack_modules__ = ({

<span class="hljs-comment">/***/</span> <span class="hljs-number">852</span>:
<span class="hljs-comment">/***/</span> (<span class="hljs-keyword">function</span>(<span class="hljs-params"><span class="hljs-variable language_">module</span>, __unused_webpack_exports, __webpack_require__</span>) {

!<span class="hljs-keyword">function</span>(<span class="hljs-params">e,_</span>){ <span class="hljs-literal">true</span>?<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>=<span class="hljs-title function_">_</span>(<span class="hljs-title function_">__webpack_require__</span>(<span class="hljs-number">212</span>)):<span class="hljs-number">0</span>}(<span class="hljs-variable language_">this</span>,(<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>){<span class="hljs-string">&quot;use strict&quot;</span>;<span class="hljs-keyword">function</span> <span class="hljs-title function_">_</span>(<span class="hljs-params">e</span>){<span class="hljs-keyword">return</span> e&amp;&amp;<span class="hljs-string">&quot;object&quot;</span>==<span class="hljs-keyword">typeof</span> e&amp;&amp;<span class="hljs-string">&quot;default&quot;</span><span class="hljs-keyword">in</span> e?<span class="hljs-attr">e</span>:{<span class="hljs-attr">default</span>:e}}<span class="hljs-keyword">var</span> t=<span class="hljs-title function_">_</span>(e),d={<span class="hljs-attr">name</span>:<span class="hljs-string">&quot;zh-cn&quot;</span>,<span class="hljs-attr">weekdays</span>:<span class="hljs-string">&quot;星期日_星期一_星期二_星期三_星期四_星期五_星期六&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;_&quot;</span>),<span class="hljs-attr">weekdaysShort</span>:<span class="hljs-string">&quot;周日_周一_周二_周三_周四_周五_周六&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;_&quot;</span>),<span class="hljs-attr">weekdaysMin</span>:<span class="hljs-string">&quot;日_一_二_三_四_五_六&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;_&quot;</span>),<span class="hljs-attr">months</span>:<span class="hljs-string">&quot;一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;_&quot;</span>),<span class="hljs-attr">monthsShort</span>:<span class="hljs-string">&quot;1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;_&quot;</span>),<span class="hljs-attr">ordinal</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">e,_</span>){<span class="hljs-keyword">return</span><span class="hljs-string">&quot;W&quot;</span>===_?e+<span class="hljs-string">&quot;周&quot;</span>:e+<span class="hljs-string">&quot;日&quot;</span>},<span class="hljs-attr">weekStart</span>:<span class="hljs-number">1</span>,<span class="hljs-attr">yearStart</span>:<span class="hljs-number">4</span>,<span class="hljs-attr">formats</span>:{<span class="hljs-attr">LT</span>:<span class="hljs-string">&quot;HH:mm&quot;</span>,<span class="hljs-attr">LTS</span>:<span class="hljs-string">&quot;HH:mm:ss&quot;</span>,<span class="hljs-attr">L</span>:<span class="hljs-string">&quot;YYYY/MM/DD&quot;</span>,<span class="hljs-attr">LL</span>:<span class="hljs-string">&quot;YYYY年M月D日&quot;</span>,<span class="hljs-attr">LLL</span>:<span class="hljs-string">&quot;YYYY年M月D日Ah点mm分&quot;</span>,<span class="hljs-attr">LLLL</span>:<span class="hljs-string">&quot;YYYY年M月D日ddddAh点mm分&quot;</span>,<span class="hljs-attr">l</span>:<span class="hljs-string">&quot;YYYY/M/D&quot;</span>,<span class="hljs-attr">ll</span>:<span class="hljs-string">&quot;YYYY年M月D日&quot;</span>,<span class="hljs-attr">lll</span>:<span class="hljs-string">&quot;YYYY年M月D日 HH:mm&quot;</span>,<span class="hljs-attr">llll</span>:<span class="hljs-string">&quot;YYYY年M月D日dddd HH:mm&quot;</span>},<span class="hljs-attr">relativeTime</span>:{<span class="hljs-attr">future</span>:<span class="hljs-string">&quot;%s内&quot;</span>,<span class="hljs-attr">past</span>:<span class="hljs-string">&quot;%s前&quot;</span>,<span class="hljs-attr">s</span>:<span class="hljs-string">&quot;几秒&quot;</span>,<span class="hljs-attr">m</span>:<span class="hljs-string">&quot;1 分钟&quot;</span>,<span class="hljs-attr">mm</span>:<span class="hljs-string">&quot;%d 分钟&quot;</span>,<span class="hljs-attr">h</span>:<span class="hljs-string">&quot;1 小时&quot;</span>,<span class="hljs-attr">hh</span>:<span class="hljs-string">&quot;%d 小时&quot;</span>,<span class="hljs-attr">d</span>:<span class="hljs-string">&quot;1 天&quot;</span>,<span class="hljs-attr">dd</span>:<span class="hljs-string">&quot;%d 天&quot;</span>,<span class="hljs-attr">M</span>:<span class="hljs-string">&quot;1 个月&quot;</span>,<span class="hljs-attr">MM</span>:<span class="hljs-string">&quot;%d 个月&quot;</span>,<span class="hljs-attr">y</span>:<span class="hljs-string">&quot;1 年&quot;</span>,<span class="hljs-attr">yy</span>:<span class="hljs-string">&quot;%d 年&quot;</span>},<span class="hljs-attr">meridiem</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">e,_</span>){<span class="hljs-keyword">var</span> t=<span class="hljs-number">100</span>*e+_;<span class="hljs-keyword">return</span> t&lt;<span class="hljs-number">600</span>?<span class="hljs-string">&quot;凌晨&quot;</span>:t&lt;<span class="hljs-number">900</span>?<span class="hljs-string">&quot;早上&quot;</span>:t&lt;<span class="hljs-number">1100</span>?<span class="hljs-string">&quot;上午&quot;</span>:t&lt;<span class="hljs-number">1300</span>?<span class="hljs-string">&quot;中午&quot;</span>:t&lt;<span class="hljs-number">1800</span>?<span class="hljs-string">&quot;下午&quot;</span>:<span class="hljs-string">&quot;晚上&quot;</span>}};<span class="hljs-keyword">return</span> t.<span class="hljs-property">default</span>.<span class="hljs-title function_">locale</span>(d,<span class="hljs-literal">null</span>,!<span class="hljs-number">0</span>),d}));

<span class="hljs-comment">/***/</span> }),

<span class="hljs-comment">/***/</span> <span class="hljs-number">745</span>:
<span class="hljs-comment">/***/</span> (<span class="hljs-function">(<span class="hljs-params">__unused_webpack_module, <span class="hljs-built_in">exports</span>, __webpack_require__</span>) =&gt;</span> {

<span class="hljs-meta">&quot;use strict&quot;</span>;
<span class="hljs-keyword">var</span> __webpack_unused_export__;


<span class="hljs-keyword">var</span> m = <span class="hljs-title function_">__webpack_require__</span>(<span class="hljs-number">533</span>);
<span class="hljs-keyword">if</span> (<span class="hljs-literal">true</span>) {
  <span class="hljs-built_in">exports</span>.<span class="hljs-property">s</span> = m.<span class="hljs-property">createRoot</span>;
  __webpack_unused_export__ = m.<span class="hljs-property">hydrateRoot</span>;
} <span class="hljs-keyword">else</span> { <span class="hljs-keyword">var</span> i; }


<span class="hljs-comment">/***/</span> }),

<span class="hljs-comment">/***/</span> <span class="hljs-number">533</span>:
<span class="hljs-comment">/***/</span> (<span class="hljs-function">(<span class="hljs-params"><span class="hljs-variable language_">module</span></span>) =&gt;</span> {

<span class="hljs-meta">&quot;use strict&quot;</span>;
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-title class_">ReactDOM</span>;

<span class="hljs-comment">/***/</span> }),

<span class="hljs-comment">/***/</span> <span class="hljs-number">212</span>:
<span class="hljs-comment">/***/</span> (<span class="hljs-function">(<span class="hljs-params"><span class="hljs-variable language_">module</span></span>) =&gt;</span> {

<span class="hljs-meta">&quot;use strict&quot;</span>;
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = dayjs;

<span class="hljs-comment">/***/</span> })

<span class="hljs-comment">/******/</span> 	});
<span class="hljs-comment">/************************************************************************/</span>
<span class="hljs-comment">/******/</span> 	<span class="hljs-comment">// The module cache</span>
<span class="hljs-comment">/******/</span> 	<span class="hljs-keyword">var</span> __webpack_module_cache__ = {};
<span class="hljs-comment">/******/</span> 	
<span class="hljs-comment">/******/</span> 	<span class="hljs-comment">// The require function</span>
<span class="hljs-comment">/******/</span> 	<span class="hljs-keyword">function</span> <span class="hljs-title function_">__webpack_require__</span>(<span class="hljs-params">moduleId</span>) {
<span class="hljs-comment">/******/</span> 		<span class="hljs-comment">// Check if module is in cache</span>
<span class="hljs-comment">/******/</span> 		<span class="hljs-keyword">var</span> cachedModule = __webpack_module_cache__[moduleId];
<span class="hljs-comment">/******/</span> 		<span class="hljs-keyword">if</span> (cachedModule !== <span class="hljs-literal">undefined</span>) {
<span class="hljs-comment">/******/</span> 			<span class="hljs-keyword">return</span> cachedModule.<span class="hljs-property">exports</span>;
<span class="hljs-comment">/******/</span> 		}
<span class="hljs-comment">/******/</span> 		<span class="hljs-comment">// Create a new module (and put it into the cache)</span>
<span class="hljs-comment">/******/</span> 		<span class="hljs-keyword">var</span> <span class="hljs-variable language_">module</span> = __webpack_module_cache__[moduleId] = {
<span class="hljs-comment">/******/</span> 			<span class="hljs-comment">// no module.id needed</span>
<span class="hljs-comment">/******/</span> 			<span class="hljs-comment">// no module.loaded needed</span>
<span class="hljs-comment">/******/</span> 			<span class="hljs-attr">exports</span>: {}
<span class="hljs-comment">/******/</span> 		};
<span class="hljs-comment">/******/</span> 	
<span class="hljs-comment">/******/</span> 		<span class="hljs-comment">// Execute the module function</span>
<span class="hljs-comment">/******/</span> 		__webpack_modules__[moduleId].<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>, <span class="hljs-variable language_">module</span>, <span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>, __webpack_require__);
<span class="hljs-comment">/******/</span> 	
<span class="hljs-comment">/******/</span> 		<span class="hljs-comment">// Return the exports of the module</span>
<span class="hljs-comment">/******/</span> 		<span class="hljs-keyword">return</span> <span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>;
<span class="hljs-comment">/******/</span> 	}
<span class="hljs-comment">/******/</span> 	
<span class="hljs-comment">/************************************************************************/</span>
<span class="hljs-comment">/******/</span> 	<span class="hljs-comment">/* webpack/runtime/compat get default export */</span>
<span class="hljs-comment">/******/</span> 	(<span class="hljs-function">() =&gt;</span> {
<span class="hljs-comment">/******/</span> 		<span class="hljs-comment">// getDefaultExport function for compatibility with non-harmony modules</span>
<span class="hljs-comment">/******/</span> 		__webpack_require__.<span class="hljs-property">n</span> = <span class="hljs-function">(<span class="hljs-params"><span class="hljs-variable language_">module</span></span>) =&gt;</span> {
<span class="hljs-comment">/******/</span> 			<span class="hljs-keyword">var</span> getter = <span class="hljs-variable language_">module</span> &amp;&amp; <span class="hljs-variable language_">module</span>.<span class="hljs-property">__esModule</span> ?
<span class="hljs-comment">/******/</span> 				<span class="hljs-function">() =&gt;</span> (<span class="hljs-variable language_">module</span>[<span class="hljs-string">&#x27;default&#x27;</span>]) :
<span class="hljs-comment">/******/</span> 				<span class="hljs-function">() =&gt;</span> (<span class="hljs-variable language_">module</span>);
<span class="hljs-comment">/******/</span> 			__webpack_require__.<span class="hljs-title function_">d</span>(getter, { <span class="hljs-attr">a</span>: getter });
<span class="hljs-comment">/******/</span> 			<span class="hljs-keyword">return</span> getter;
<span class="hljs-comment">/******/</span> 		};
<span class="hljs-comment">/******/</span> 	})();
<span class="hljs-comment">/******/</span> 	
<span class="hljs-comment">/******/</span> 	<span class="hljs-comment">/* webpack/runtime/define property getters */</span>
<span class="hljs-comment">/******/</span> 	(<span class="hljs-function">() =&gt;</span> {
<span class="hljs-comment">/******/</span> 		<span class="hljs-comment">// define getter functions for harmony exports</span>
<span class="hljs-comment">/******/</span> 		__webpack_require__.<span class="hljs-property">d</span> = <span class="hljs-function">(<span class="hljs-params"><span class="hljs-built_in">exports</span>, definition</span>) =&gt;</span> {
<span class="hljs-comment">/******/</span> 			<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> definition) {
<span class="hljs-comment">/******/</span> 				<span class="hljs-keyword">if</span>(__webpack_require__.<span class="hljs-title function_">o</span>(definition, key) &amp;&amp; !__webpack_require__.<span class="hljs-title function_">o</span>(<span class="hljs-built_in">exports</span>, key)) {
<span class="hljs-comment">/******/</span> 					<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(<span class="hljs-built_in">exports</span>, key, { <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">get</span>: definition[key] });
<span class="hljs-comment">/******/</span> 				}
<span class="hljs-comment">/******/</span> 			}
<span class="hljs-comment">/******/</span> 		};
<span class="hljs-comment">/******/</span> 	})();
<span class="hljs-comment">/******/</span> 	
<span class="hljs-comment">/******/</span> 	<span class="hljs-comment">/* webpack/runtime/hasOwnProperty shorthand */</span>
<span class="hljs-comment">/******/</span> 	(<span class="hljs-function">() =&gt;</span> {
<span class="hljs-comment">/******/</span> 		__webpack_require__.<span class="hljs-property">o</span> = <span class="hljs-function">(<span class="hljs-params">obj, prop</span>) =&gt;</span> (<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">hasOwnProperty</span>.<span class="hljs-title function_">call</span>(obj, prop))
<span class="hljs-comment">/******/</span> 	})();
<span class="hljs-comment">/******/</span> 	
<span class="hljs-comment">/************************************************************************/</span>
<span class="hljs-keyword">var</span> __webpack_exports__ = {};
<span class="hljs-comment">// This entry need to be wrapped in an IIFE because it need to be in strict mode.</span>
(<span class="hljs-function">() =&gt;</span> {
<span class="hljs-meta">&quot;use strict&quot;</span>;

;<span class="hljs-comment">// CONCATENATED MODULE: external &quot;arrive&quot;</span>
<span class="hljs-keyword">const</span> external_arrive_namespaceObject = arrive;
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/main-static.ts</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">AppId</span> = <span class="hljs-string">&#x27;zzxt0019-bilishield-app&#x27;</span>;
<span class="hljs-keyword">const</span> <span class="hljs-title class_">DisplayClass</span> = <span class="hljs-string">&#x27;zzxt0019-bilishield-class&#x27;</span>;
<span class="hljs-keyword">const</span> <span class="hljs-title class_">DisplayStyleId</span> = <span class="hljs-string">&#x27;zzxt0019-bilishield-style&#x27;</span>;
<span class="hljs-keyword">const</span> <span class="hljs-title class_">DisplayStyleAttribute</span> = <span class="hljs-string">&#x27;zzxt0019-bilishield-display&#x27;</span>;
<span class="hljs-keyword">const</span> <span class="hljs-title class_">CssInnerHtml</span> = {
  <span class="hljs-attr">hide</span>: <span class="hljs-string">`.<span class="hljs-subst">${DisplayClass}</span> { display: none !important; }`</span>,
  <span class="hljs-attr">debug</span>: <span class="hljs-string">`.<span class="hljs-subst">${DisplayClass}</span> { background-color: yellow !important; border: 5px groove yellow; }`</span>
};
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/config/page/special/special-pages.ts</span>
<span class="hljs-comment">// import {BaiduPage} from &quot;@/config/page/special/impl/baidu-page&quot;;</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SpecialPages</span> {
  <span class="hljs-keyword">static</span> sp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">init</span>(<span class="hljs-params">specialPage</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">sp</span>.<span class="hljs-title function_">set</span>(specialPage.<span class="hljs-property">key</span>, specialPage);
  }
  <span class="hljs-keyword">static</span>
    <span class="hljs-comment">// this.init(new BaiduPage())  // 测试使用</span>
  {}
}
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/config/rule/rule.ts</span>
<span class="hljs-comment">/**
 * 规则配置
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Rule</span> {
  key; <span class="hljs-comment">// 规则key yaml的key 相当于id</span>
  name; <span class="hljs-comment">// 规则名称 用于展示</span>
  mainSelector; <span class="hljs-comment">// 主选择器 目标的主体</span>
  checker; <span class="hljs-comment">// 选择器 判断条件</span>
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">rule</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">key</span> = rule.<span class="hljs-property">key</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = rule.<span class="hljs-property">name</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">mainSelector</span> = rule.<span class="hljs-property">mainSelector</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">checker</span> = rule.<span class="hljs-property">checker</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">checker</span>.<span class="hljs-property">bingo</span>) {
      <span class="hljs-comment">// 普通规则没有bingo</span>
      <span class="hljs-keyword">delete</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">checker</span>.<span class="hljs-property">bingo</span>;
    }
  }
}
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/config/setting/default-setting.ts</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DefaultSettings</span> {
  <span class="hljs-comment">/*******************
   *   原始的4个配置方法
   *******************/</span>
  <span class="hljs-comment">// 原始的获取配置值</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">_selectSettingData</span>(<span class="hljs-params">paramKey</span>) {
    <span class="hljs-keyword">let</span> data = <span class="hljs-title function_">GM_getValue</span>(<span class="hljs-string">&#x27;settings.&#x27;</span> + paramKey, []);
    <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
    <span class="hljs-keyword">let</span> checkedData = data.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">datum</span> =&gt;</span> !datum.<span class="hljs-property">expireTime</span> || datum.<span class="hljs-property">expireTime</span> &gt; now);
    <span class="hljs-keyword">if</span> (checkedData.<span class="hljs-property">length</span> !== data.<span class="hljs-property">length</span>) {
      <span class="hljs-title function_">GM_setValue</span>(<span class="hljs-string">&#x27;setting.&#x27;</span> + paramKey, checkedData);
    }
    <span class="hljs-keyword">return</span> checkedData;
  }
  <span class="hljs-comment">// 原始的设置配置值</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">_resetSettingData</span>(<span class="hljs-params">paramKey, data</span>) {
    <span class="hljs-title function_">GM_setValue</span>(<span class="hljs-string">&#x27;settings.&#x27;</span> + paramKey, data);
  }
  <span class="hljs-comment">// 原始的添加配置值</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">_insertSettingData</span>(<span class="hljs-params">paramKey, newData</span>) {
    <span class="hljs-keyword">let</span> oldData = <span class="hljs-title class_">DefaultSettings</span>.<span class="hljs-title function_">_selectSettingData</span>(paramKey);
    <span class="hljs-keyword">let</span> oldKeys = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(oldData.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">datum</span> =&gt;</span> datum.<span class="hljs-property">key</span>));
    oldData.<span class="hljs-title function_">push</span>(...newData.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">datum</span> =&gt;</span> !oldKeys.<span class="hljs-title function_">has</span>(datum.<span class="hljs-property">key</span>)));
    <span class="hljs-title class_">DefaultSettings</span>.<span class="hljs-title function_">_resetSettingData</span>(paramKey, oldData);
  }
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">_updateSettingData</span>(<span class="hljs-params">paramKey, newData</span>) {
    <span class="hljs-keyword">let</span> oldData = <span class="hljs-title class_">DefaultSettings</span>.<span class="hljs-title function_">_selectSettingData</span>(paramKey);
    <span class="hljs-keyword">let</span> newMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    newData.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">datum</span> =&gt;</span> newMap.<span class="hljs-title function_">set</span>(datum.<span class="hljs-property">key</span>, datum));
    oldData.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">datum</span> =&gt;</span> {
      <span class="hljs-keyword">if</span> (newMap.<span class="hljs-title function_">has</span>(datum.<span class="hljs-property">key</span>)) {
        datum.<span class="hljs-property">hide</span> = newMap.<span class="hljs-title function_">get</span>(datum.<span class="hljs-property">key</span>).<span class="hljs-property">hide</span>;
        datum.<span class="hljs-property">expireTime</span> = newMap.<span class="hljs-title function_">get</span>(datum.<span class="hljs-property">key</span>).<span class="hljs-property">expireTime</span>;
      }
    });
    <span class="hljs-title class_">DefaultSettings</span>.<span class="hljs-title function_">_resetSettingData</span>(paramKey, oldData);
  }
  <span class="hljs-comment">// 原始的删除配置值</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">_deleteSettingData</span>(<span class="hljs-params">paramKey, key</span>) {
    <span class="hljs-keyword">let</span> delKeys = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(key);
    <span class="hljs-title class_">DefaultSettings</span>.<span class="hljs-title function_">_resetSettingData</span>(paramKey, <span class="hljs-title class_">DefaultSettings</span>.<span class="hljs-title function_">_selectSettingData</span>(paramKey).<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> !delKeys.<span class="hljs-title function_">has</span>(item.<span class="hljs-property">key</span>)));
  }
}
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/config/setting/special/special-setting.ts</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SpecialSetting</span> {}
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/config/setting/special/impl/uid-username.ts</span>


<span class="hljs-keyword">class</span> <span class="hljs-title class_">UidUsername</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">SpecialSetting</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">select</span>(<span class="hljs-params">key</span>) {
    <span class="hljs-keyword">if</span> (key === <span class="hljs-string">&#x27;uid&#x27;</span>) {
      <span class="hljs-keyword">let</span> uids = <span class="hljs-title class_">DefaultSettings</span>.<span class="hljs-title function_">_selectSettingData</span>(<span class="hljs-string">&#x27;uid&#x27;</span>);
      uids.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">uid</span> =&gt;</span> uid.<span class="hljs-property">uid</span> = uid.<span class="hljs-property">key</span>);
      <span class="hljs-keyword">return</span> uids;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (key === <span class="hljs-string">&#x27;username&#x27;</span>) {
      <span class="hljs-keyword">let</span> uids = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">select</span>(<span class="hljs-string">&#x27;uid&#x27;</span>);
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(uids.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">uid</span> =&gt;</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> {
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">uid2username</span>(uid.<span class="hljs-property">key</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">username</span> =&gt;</span> <span class="hljs-title function_">res</span>({
            <span class="hljs-attr">key</span>: uid.<span class="hljs-property">key</span>,
            <span class="hljs-attr">username</span>: username,
            <span class="hljs-attr">hide</span>: uid.<span class="hljs-property">hide</span>,
            <span class="hljs-attr">expireTime</span>: uid.<span class="hljs-property">expireTime</span>
          }));
        });
      }));
    }
    <span class="hljs-keyword">return</span> [];
  }
  <span class="hljs-title function_">reset</span>(<span class="hljs-params">key, uid</span>) {
    <span class="hljs-title class_">DefaultSettings</span>.<span class="hljs-title function_">_resetSettingData</span>(<span class="hljs-string">&#x27;uid&#x27;</span>, uid);
  }
  <span class="hljs-title function_">insert</span>(<span class="hljs-params">key, uid</span>) {
    <span class="hljs-title class_">DefaultSettings</span>.<span class="hljs-title function_">_insertSettingData</span>(<span class="hljs-string">&#x27;uid&#x27;</span>, uid);
  }
  <span class="hljs-title function_">update</span>(<span class="hljs-params">key, uid</span>) {
    <span class="hljs-title class_">DefaultSettings</span>.<span class="hljs-title function_">_updateSettingData</span>(<span class="hljs-string">&#x27;uid&#x27;</span>, uid);
  }
  <span class="hljs-title function_">delete</span>(<span class="hljs-params">key, uid</span>) {
    <span class="hljs-title class_">DefaultSettings</span>.<span class="hljs-title function_">_deleteSettingData</span>(<span class="hljs-string">&#x27;uid&#x27;</span>, uid);
  }
  <span class="hljs-title function_">type</span>(<span class="hljs-params">key</span>) {
    <span class="hljs-keyword">if</span> (key === <span class="hljs-string">&#x27;uid&#x27;</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;equal&#x27;</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (key === <span class="hljs-string">&#x27;username&#x27;</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;like&#x27;</span>;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;like&#x27;</span>;
    }
  }
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">uid2username</span>(<span class="hljs-params">_uid</span>) {
    <span class="hljs-comment">// 输入错误</span>
    <span class="hljs-keyword">if</span> (_uid === <span class="hljs-string">&#x27;&#x27;</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span>;
    }
    <span class="hljs-comment">// 缓存在有效期内, 取缓存</span>
    <span class="hljs-keyword">let</span> uid = <span class="hljs-title class_">Number</span>(_uid);
    <span class="hljs-keyword">let</span> obj = <span class="hljs-title function_">GM_getValue</span>(<span class="hljs-string">&#x27;uid_&#x27;</span> + uid);
    <span class="hljs-keyword">let</span> biliUp = obj;
    <span class="hljs-keyword">if</span> (biliUp &amp;&amp; <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">getTime</span>() &lt; biliUp.<span class="hljs-property">expireTime</span>) {
      <span class="hljs-keyword">return</span> biliUp.<span class="hljs-property">username</span>;
    }
    <span class="hljs-comment">// 异步查询</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">res, rej</span>) =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">queryUsername</span>(res, rej, uid, <span class="hljs-title class_">UidUsername</span>.<span class="hljs-property">apiIndex</span>, <span class="hljs-title class_">UidUsername</span>.<span class="hljs-property">apiIndex</span>);
    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">&#x27;&#x27;</span>));
  }
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">username2infos</span>(<span class="hljs-params">username, page = <span class="hljs-number">1</span></span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">res, rej</span>) =&gt;</span> {
      <span class="hljs-title function_">GM_xmlhttpRequest</span>({
        <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;GET&#x27;</span>,
        <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;http://api.bilibili.com/x/web-interface/search/type?search_type=bili_user&amp;page=&#x27;</span> + page + <span class="hljs-string">&#x27;&amp;keyword=&#x27;</span> + username,
        <span class="hljs-attr">onload</span>: <span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> {
          <span class="hljs-keyword">let</span> json = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(response.<span class="hljs-property">responseText</span>);
          <span class="hljs-keyword">if</span> (json.<span class="hljs-property">code</span> === <span class="hljs-number">0</span> &amp;&amp; json.<span class="hljs-property">data</span>?.<span class="hljs-property">result</span>) {
            <span class="hljs-keyword">let</span> results = [];
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; json.<span class="hljs-property">data</span>.<span class="hljs-property">result</span>.<span class="hljs-property">length</span>; i++) {
              results.<span class="hljs-title function_">push</span>({
                <span class="hljs-attr">uid</span>: json.<span class="hljs-property">data</span>.<span class="hljs-property">result</span>[i].<span class="hljs-property">mid</span>,
                <span class="hljs-attr">username</span>: json.<span class="hljs-property">data</span>.<span class="hljs-property">result</span>[i].<span class="hljs-property">uname</span>
              });
            }
            <span class="hljs-title function_">res</span>(results);
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-title function_">rej</span>();
          }
        }
      });
    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>([]));
  }
  <span class="hljs-comment">/**
   * 查询用户名
   * <span class="hljs-doctag">@param</span> <span class="hljs-variable">res</span>
   * <span class="hljs-doctag">@param</span> <span class="hljs-variable">rej</span>
   * <span class="hljs-doctag">@param</span> <span class="hljs-variable">uid</span>
   * <span class="hljs-doctag">@param</span> firstIndex 首次调用时的index
   * <span class="hljs-doctag">@param</span> apiIndex 当前调用时的index
   */</span>
  <span class="hljs-title function_">queryUsername</span>(<span class="hljs-params">res, rej, uid, firstIndex, apiIndex</span>) {
    <span class="hljs-keyword">let</span> api = <span class="hljs-title class_">UidUsername</span>.<span class="hljs-property">apis</span>[apiIndex];
    <span class="hljs-title function_">GM_xmlhttpRequest</span>({
      <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;GET&#x27;</span>,
      <span class="hljs-attr">url</span>: api.<span class="hljs-title function_">url</span>(uid),
      <span class="hljs-attr">onload</span>: <span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> {
        <span class="hljs-keyword">let</span> json = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(response.<span class="hljs-property">responseText</span>);
        <span class="hljs-keyword">if</span> (api.<span class="hljs-title function_">success</span>(json)) {
          <span class="hljs-comment">// 成功, 记录并返回</span>
          <span class="hljs-title class_">UidUsername</span>.<span class="hljs-property">apiIndex</span> = apiIndex;
          <span class="hljs-keyword">let</span> username = api.<span class="hljs-title function_">username</span>(json);
          <span class="hljs-comment">// 保存至GM</span>
          <span class="hljs-keyword">let</span> biliUp = {
            uid,
            username,
            <span class="hljs-attr">expireTime</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">getTime</span>() + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>
          };
          <span class="hljs-title function_">GM_setValue</span>(<span class="hljs-string">&#x27;uid_&#x27;</span> + uid, biliUp);
          <span class="hljs-title function_">res</span>(username);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (api.<span class="hljs-title function_">change</span>(json)) {
          <span class="hljs-comment">// 拦截请求, 尝试其他api</span>
          apiIndex = (apiIndex + <span class="hljs-number">1</span>) % <span class="hljs-title class_">UidUsername</span>.<span class="hljs-property">apis</span>.<span class="hljs-property">length</span>;
          <span class="hljs-comment">// 若firstIndex === apiIndex 说明循环一圈都被拦截, 不需要再查了, 直接错误</span>
          <span class="hljs-keyword">if</span> (firstIndex !== apiIndex) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">queryUsername</span>(res, rej, uid, firstIndex, apiIndex);
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-title function_">rej</span>();
          }
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-comment">// 其他 错误</span>
          <span class="hljs-title function_">rej</span>();
        }
      }
    });
  }
  <span class="hljs-keyword">static</span> apiIndex = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">static</span> apis = [{
    <span class="hljs-attr">url</span>: <span class="hljs-function"><span class="hljs-params">uid</span> =&gt;</span> <span class="hljs-string">&#x27;http://api.bilibili.com/x/web-interface/card?mid=&#x27;</span> + uid,
    <span class="hljs-attr">success</span>: <span class="hljs-function"><span class="hljs-params">json</span> =&gt;</span> json.<span class="hljs-property">code</span> === <span class="hljs-number">0</span>,
    <span class="hljs-attr">username</span>: <span class="hljs-function"><span class="hljs-params">json</span> =&gt;</span> json.<span class="hljs-property">data</span>.<span class="hljs-property">card</span>.<span class="hljs-property">name</span>,
    <span class="hljs-attr">change</span>: <span class="hljs-function"><span class="hljs-params">json</span> =&gt;</span> json.<span class="hljs-property">code</span> === -<span class="hljs-number">412</span> <span class="hljs-comment">// 请求被拦截</span>
  }, {
    <span class="hljs-attr">url</span>: <span class="hljs-function"><span class="hljs-params">uid</span> =&gt;</span> <span class="hljs-string">&#x27;https://api.bilibili.com/x/space/acc/info?mid=&#x27;</span> + uid,
    <span class="hljs-attr">success</span>: <span class="hljs-function"><span class="hljs-params">json</span> =&gt;</span> json.<span class="hljs-property">code</span> === <span class="hljs-number">0</span>,
    <span class="hljs-attr">username</span>: <span class="hljs-function"><span class="hljs-params">json</span> =&gt;</span> json.<span class="hljs-property">data</span>.<span class="hljs-property">name</span>,
    <span class="hljs-attr">change</span>: <span class="hljs-function"><span class="hljs-params">json</span> =&gt;</span> json.<span class="hljs-property">code</span> === -<span class="hljs-number">412</span> <span class="hljs-comment">// 请求被拦截</span>
  }];
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">BiliUp</span> {
  uid;
  username;
  expireTime;
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">uid, username, expireTime</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">uid</span> = uid;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">username</span> = username;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">expireTime</span> = expireTime;
  }
}
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/config/setting/special/special-settings.ts</span>


<span class="hljs-keyword">const</span> <span class="hljs-title class_">Specials</span> = {
  <span class="hljs-attr">uid</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">UidUsername</span>(),
  <span class="hljs-attr">username</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">UidUsername</span>()
};
<span class="hljs-keyword">const</span> <span class="hljs-title class_">SpecialKeySet</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(<span class="hljs-title class_">Specials</span>));
<span class="hljs-keyword">function</span> <span class="hljs-title function_">isSpecialKeys</span>(<span class="hljs-params">key</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">SpecialKeySet</span>.<span class="hljs-title function_">has</span>(key);
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">specialSetting</span>(<span class="hljs-params">key</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Setting</span>({
    <span class="hljs-attr">key</span>: key,
    <span class="hljs-attr">name</span>: key,
    <span class="hljs-attr">type</span>: <span class="hljs-title class_">Specials</span>[key].<span class="hljs-title function_">type</span>(key)
  });
}
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/config/setting/setting-data.ts</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SettingDataBase</span> {
  key;
  hide;
  expireTime;
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">settingData</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">key</span> = settingData.<span class="hljs-property">key</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hide</span> = settingData.<span class="hljs-property">hide</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">expireTime</span> = settingData.<span class="hljs-property">expireTime</span>;
  }
}
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/config/setting/setting.ts</span>



<span class="hljs-comment">/**
 * 数据配置
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Setting</span> {
  key;
  name;
  type;
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">setting</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">key</span> = setting.<span class="hljs-property">key</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = setting.<span class="hljs-property">name</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> = setting.<span class="hljs-property">type</span>;
  }
}
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Settings</span> {
  <span class="hljs-keyword">static</span> settingMap;
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">getSystemSettings</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">Settings</span>.<span class="hljs-property">settingMap</span>) {
      <span class="hljs-keyword">let</span> obj = <span class="hljs-title function_">GM_getValue</span>(<span class="hljs-string">&#x27;script.setting&#x27;</span>);
      <span class="hljs-title class_">Settings</span>.<span class="hljs-property">settingMap</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
      <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(obj).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> {
        <span class="hljs-keyword">let</span> setting = obj[key];
        setting.<span class="hljs-property">key</span> = key;
        <span class="hljs-title class_">Settings</span>.<span class="hljs-property">settingMap</span>.<span class="hljs-title function_">set</span>(key, setting);
      });
    }
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Settings</span>.<span class="hljs-property">settingMap</span>;
  }
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">toSettingData</span>(<span class="hljs-params">data</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(data)) {
      <span class="hljs-keyword">if</span> (data.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">return</span> [];
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> data[<span class="hljs-number">0</span>] === <span class="hljs-string">&#x27;string&#x27;</span>) {
          <span class="hljs-keyword">return</span> data.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">str</span> =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SettingDataBase</span>({
            <span class="hljs-attr">key</span>: str
          }));
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">return</span> data;
        }
      }
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> data === <span class="hljs-string">&#x27;string&#x27;</span>) {
        <span class="hljs-keyword">return</span> [{
          <span class="hljs-attr">key</span>: data
        }];
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> [data];
      }
    }
  }
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">toSettingKey</span>(<span class="hljs-params">data</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(data)) {
      <span class="hljs-keyword">if</span> (data.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">return</span> [];
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> data[<span class="hljs-number">0</span>] === <span class="hljs-string">&#x27;string&#x27;</span>) {
          <span class="hljs-keyword">return</span> data;
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">return</span> data.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">datum</span> =&gt;</span> datum.<span class="hljs-property">key</span>);
        }
      }
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> data === <span class="hljs-string">&#x27;string&#x27;</span>) {
        <span class="hljs-keyword">return</span> [data];
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> [data.<span class="hljs-property">key</span>];
      }
    }
  }
  <span class="hljs-comment">// 加入特殊配置后的获取配置值</span>
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">selectSettingData</span>(<span class="hljs-params">paramKey</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isSpecialKeys</span>(paramKey)) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title class_">Specials</span>[paramKey].<span class="hljs-title function_">select</span>(paramKey);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">DefaultSettings</span>.<span class="hljs-title function_">_selectSettingData</span>(paramKey);
    }
  }
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">selectSettingDataString</span>(<span class="hljs-params">paramKey</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isSpecialKeys</span>(paramKey)) {
      <span class="hljs-keyword">return</span> (<span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">selectSettingData</span>(paramKey)).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item[paramKey]);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> (<span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">selectSettingData</span>(paramKey)).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">key</span>);
    }
  }
  <span class="hljs-comment">// 加入特殊配置后的设置配置值</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">resetSettingData</span>(<span class="hljs-params">paramKey, data</span>) {
    <span class="hljs-keyword">let</span> settingData = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">toSettingData</span>(data);
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isSpecialKeys</span>(paramKey)) {
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Specials</span>[paramKey].<span class="hljs-title function_">reset</span>(paramKey, settingData);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-title class_">DefaultSettings</span>.<span class="hljs-title function_">_resetSettingData</span>(paramKey, settingData);
    }
  }
  <span class="hljs-comment">// 加入特殊配置后的添加配置值</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">insertSettingData</span>(<span class="hljs-params">paramKey, data</span>) {
    <span class="hljs-keyword">let</span> settingData = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">toSettingData</span>(data);
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isSpecialKeys</span>(paramKey)) {
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Specials</span>[paramKey].<span class="hljs-title function_">insert</span>(paramKey, settingData);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-title class_">DefaultSettings</span>.<span class="hljs-title function_">_insertSettingData</span>(paramKey, settingData);
    }
  }
  <span class="hljs-comment">// 加入特殊配置后的修改配置值</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">updateSettingData</span>(<span class="hljs-params">paramKey, data</span>) {
    <span class="hljs-keyword">let</span> settingData = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">toSettingData</span>(data);
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isSpecialKeys</span>(paramKey)) {
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Specials</span>[paramKey].<span class="hljs-title function_">update</span>(paramKey, settingData);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-title class_">DefaultSettings</span>.<span class="hljs-title function_">_updateSettingData</span>(paramKey, settingData);
    }
  }
  <span class="hljs-comment">// 加入特殊配置后的删除配置值</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">deleteSettingData</span>(<span class="hljs-params">paramKey, data</span>) {
    <span class="hljs-keyword">let</span> settingKey = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">toSettingKey</span>(data);
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isSpecialKeys</span>(paramKey)) {
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Specials</span>[paramKey].<span class="hljs-title function_">delete</span>(paramKey, settingKey);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-title class_">DefaultSettings</span>.<span class="hljs-title function_">_deleteSettingData</span>(paramKey, settingKey);
    }
  }
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">getCheckType</span>(<span class="hljs-params">paramKey</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isSpecialKeys</span>(paramKey)) {
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Specials</span>[paramKey].<span class="hljs-title function_">type</span>(paramKey);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Settings</span>.<span class="hljs-title function_">getSystemSettings</span>().<span class="hljs-title function_">get</span>(paramKey).<span class="hljs-property">type</span>;
    }
  }
}
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/config/rule/do-rule.ts</span>


<span class="hljs-comment">/**
 * 执行的规则
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DoRule</span> {
  mainSelector;
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">mainSelector</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">mainSelector</span> = mainSelector;
  }
  <span class="hljs-comment">/**
   * 隐藏主体元素
   * <span class="hljs-doctag">@param</span> mainElement 主体元素
   */</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">display</span>(<span class="hljs-params">mainElement</span>) {
    <span class="hljs-keyword">if</span> ((<span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">bingo</span>(mainElement)) &amp;&amp; !mainElement.<span class="hljs-property">classList</span>.<span class="hljs-title function_">contains</span>(<span class="hljs-title class_">DisplayClass</span>)) {
      mainElement.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-title class_">DisplayClass</span>);
    }
  }
  <span class="hljs-comment">/**
   * 显示主体元素
   */</span>
  <span class="hljs-title function_">show</span>(<span class="hljs-params"><span class="hljs-variable language_">document</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-variable language_">document</span></span>) {
    <span class="hljs-keyword">let</span> elements = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">mainSelector</span> + <span class="hljs-string">&#x27;.&#x27;</span> + <span class="hljs-title class_">DisplayClass</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; elements.<span class="hljs-property">length</span>; i++) {
      elements[i].<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-title class_">DisplayClass</span>);
    }
  }
}
<span class="hljs-comment">/**
 * 执行的多规则
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DoRuleN</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">DoRule</span> {
  mainSelector;
  checkers;
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">mainSelector, checkers</span>) {
    <span class="hljs-variable language_">super</span>(mainSelector);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">mainSelector</span> = mainSelector;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">checkers</span> = checkers;
  }
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">bingo</span>(<span class="hljs-params">mainElement</span>) {
    <span class="hljs-comment">// 所有检查器之中满足一个即为中奖</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> checker <span class="hljs-keyword">of</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">checkers</span>) {
      <span class="hljs-keyword">if</span> (checker.<span class="hljs-property">innerSelector</span>) {
        <span class="hljs-comment">// 有内部选择器, 选择所有内部元素判断, 满足一个即为中奖</span>
        <span class="hljs-keyword">let</span> elements = mainElement.<span class="hljs-title function_">querySelectorAll</span>(checker.<span class="hljs-property">innerSelector</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; elements.<span class="hljs-property">length</span>; i++) {
          <span class="hljs-keyword">const</span> element = elements[i];
          <span class="hljs-keyword">if</span> (<span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">bingo0</span>(element, checker)) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
          }
        }
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// 没有内部选择器, 即为当前元素, 判断</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">bingo0</span>(mainElement, checker)) {
          <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
      }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }
  <span class="hljs-comment">/**
   * 判断当前一个元素是否中奖
   * <span class="hljs-doctag">@param</span> element 当前元素
   * <span class="hljs-doctag">@param</span> checker 内部检查器
   * <span class="hljs-doctag">@returns</span> 是否中奖
   */</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">bingo0</span>(<span class="hljs-params">element, checker</span>) {
    <span class="hljs-keyword">if</span> (checker.<span class="hljs-property">bingo</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> checker.<span class="hljs-title function_">bingo</span>(element);
    }
    <span class="hljs-comment">// 如果是always 中奖</span>
    <span class="hljs-keyword">if</span> (checker.<span class="hljs-property">always</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    <span class="hljs-comment">// 是innerHTML 判断innerHTML是否在data的范围</span>
    <span class="hljs-keyword">if</span> (checker.<span class="hljs-property">innerHTML</span> &amp;&amp; checker.<span class="hljs-property">setting</span>) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> settingData <span class="hljs-keyword">of</span> <span class="hljs-keyword">await</span> <span class="hljs-title class_">Settings</span>.<span class="hljs-title function_">selectSettingDataString</span>(checker.<span class="hljs-property">setting</span>.<span class="hljs-property">key</span>)) {
        <span class="hljs-keyword">let</span> type = checker.<span class="hljs-property">type</span> ?? <span class="hljs-title class_">Settings</span>.<span class="hljs-title function_">getCheckType</span>(checker.<span class="hljs-property">setting</span>.<span class="hljs-property">key</span>);
        <span class="hljs-keyword">switch</span> (type) {
          <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;equal&#x27;</span>:
            <span class="hljs-keyword">if</span> (element.<span class="hljs-property">innerHTML</span> === settingData) {
              <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
            <span class="hljs-keyword">break</span>;
          <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;like&#x27;</span>:
            <span class="hljs-keyword">if</span> (element.<span class="hljs-property">innerHTML</span>.<span class="hljs-title function_">includes</span>(settingData)) {
              <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
            <span class="hljs-keyword">break</span>;
          <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;regexp&#x27;</span>:
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(settingData, <span class="hljs-string">&#x27;i&#x27;</span>).<span class="hljs-title function_">test</span>(element.<span class="hljs-property">innerHTML</span>)) {
              <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
            <span class="hljs-keyword">break</span>;
        }
      }
    }
    <span class="hljs-comment">// 有attribute 判断attribute的value是否在data的范围  元素有这个属性</span>
    <span class="hljs-keyword">if</span> (checker.<span class="hljs-property">attribute</span> &amp;&amp; checker.<span class="hljs-property">setting</span> &amp;&amp; element.<span class="hljs-title function_">hasAttribute</span>(checker.<span class="hljs-property">attribute</span>)) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> settingData <span class="hljs-keyword">of</span> <span class="hljs-keyword">await</span> <span class="hljs-title class_">Settings</span>.<span class="hljs-title function_">selectSettingDataString</span>(checker.<span class="hljs-property">setting</span>.<span class="hljs-property">key</span>)) {
        <span class="hljs-keyword">let</span> type = checker.<span class="hljs-property">type</span> ?? <span class="hljs-title class_">Settings</span>.<span class="hljs-title function_">getCheckType</span>(checker.<span class="hljs-property">setting</span>.<span class="hljs-property">key</span>);
        <span class="hljs-keyword">let</span> value = element.<span class="hljs-title function_">getAttribute</span>(checker.<span class="hljs-property">attribute</span>);
        <span class="hljs-keyword">switch</span> (type) {
          <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;equal&#x27;</span>:
            <span class="hljs-keyword">if</span> (value === settingData) {
              <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
            <span class="hljs-keyword">break</span>;
          <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;like&#x27;</span>:
            <span class="hljs-keyword">if</span> (value.<span class="hljs-title function_">includes</span>(settingData)) {
              <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
            <span class="hljs-keyword">break</span>;
          <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;regexp&#x27;</span>:
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(settingData, <span class="hljs-string">&#x27;i&#x27;</span>).<span class="hljs-title function_">test</span>(value)) {
              <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
            <span class="hljs-keyword">break</span>;
        }
      }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }
}
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/config/rule/special/special-rule.ts</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SpecialRule</span> {}
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/config/rule/special/impl/live-page.ts</span>



<span class="hljs-keyword">class</span> <span class="hljs-title class_">LivePageRule</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">SpecialRule</span> {
  pageKey = <span class="hljs-string">&#x27;bilibili_live&#x27;</span>;
  danmakuMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
  spCheckers = [{
    <span class="hljs-attr">mainSelector</span>: <span class="hljs-string">&#x27;.chat-item.danmaku-item&#x27;</span>,
    <span class="hljs-attr">bingo</span>: <span class="hljs-keyword">async</span> node =&gt; {
      <span class="hljs-comment">/**
       * 屏蔽带粉丝牌子的发言
       */</span>
      <span class="hljs-keyword">if</span> ((<span class="hljs-keyword">await</span> <span class="hljs-title class_">Settings</span>.<span class="hljs-title function_">selectSettingDataString</span>(<span class="hljs-string">&#x27;uid&#x27;</span>)).<span class="hljs-title function_">includes</span>(node.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;[data-anchor-id]&#x27;</span>)?.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&#x27;data-anchor-id&#x27;</span>))) {
        <span class="hljs-keyword">try</span> {
          <span class="hljs-comment">/**
           * 记录发言存入map 计数 + 1
           */</span>
          <span class="hljs-keyword">let</span> text = <span class="hljs-title class_">String</span>(node.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&#x27;data-danmaku&#x27;</span>)); <span class="hljs-comment">// 记录发言</span>
          <span class="hljs-keyword">let</span> lastCount = <span class="hljs-variable language_">this</span>.<span class="hljs-property">danmakuMap</span>.<span class="hljs-title function_">get</span>(text);
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">danmakuMap</span>.<span class="hljs-title function_">set</span>(text, lastCount ? lastCount + <span class="hljs-number">1</span> : <span class="hljs-number">1</span>); <span class="hljs-comment">// danmakuMap 对应发言的 count + 1</span>
          <span class="hljs-comment">/**
           * 清除中央弹幕
           * 删除与发言相同内容,同时计数 - 1
           */</span>
          <span class="hljs-keyword">let</span> nodeList = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&#x27;.bilibili-danmaku.mode-roll&#x27;</span>);
          <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; nodeList.<span class="hljs-property">length</span>; i++) {
            <span class="hljs-keyword">const</span> node = nodeList[i];
            <span class="hljs-keyword">if</span> (node.<span class="hljs-property">innerHTML</span> === text) {
              node.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-title class_">DisplayClass</span>);
              <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">danmakuMap</span>.<span class="hljs-title function_">get</span>(text) === <span class="hljs-number">1</span>) {
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">danmakuMap</span>.<span class="hljs-title function_">delete</span>(text);
              } <span class="hljs-keyword">else</span> {
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">danmakuMap</span>.<span class="hljs-title function_">set</span>(text, <span class="hljs-variable language_">this</span>.<span class="hljs-property">danmakuMap</span>.<span class="hljs-title function_">get</span>(text) - <span class="hljs-number">1</span>);
              }
              <span class="hljs-keyword">break</span>;
            }
          }
        } <span class="hljs-keyword">catch</span> (e) {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(e, node);
        } <span class="hljs-keyword">finally</span> {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-literal">true</span>, node);
        }
        <span class="hljs-comment">// 无论如何都要删除这条</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
      }
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
  }, {
    <span class="hljs-attr">mainSelector</span>: <span class="hljs-string">&#x27;.bilibili-danmaku.mode-roll&#x27;</span>,
    <span class="hljs-attr">bingo</span>: <span class="hljs-keyword">async</span> element =&gt; {
      <span class="hljs-keyword">let</span> text = element.<span class="hljs-property">innerHTML</span>;
      <span class="hljs-keyword">let</span> lastCount = <span class="hljs-variable language_">this</span>.<span class="hljs-property">danmakuMap</span>.<span class="hljs-title function_">get</span>(text);
      <span class="hljs-keyword">if</span> (lastCount) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">danmakuMap</span>.<span class="hljs-title function_">set</span>(text, lastCount - <span class="hljs-number">1</span>); <span class="hljs-comment">// 计数 - 1</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
      }
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
  }];
}
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/config/rule/special/special-rules.ts</span>

<span class="hljs-comment">// import {BaiduTest} from &quot;@/config/rule/special/impl/baidu-test&quot;;</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SpecialRules</span> {
  <span class="hljs-keyword">static</span> sp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">init</span>(<span class="hljs-params">specialRule</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">sp</span>.<span class="hljs-title function_">set</span>(specialRule.<span class="hljs-property">pageKey</span>, specialRule);
  }
  <span class="hljs-keyword">static</span> {
    <span class="hljs-comment">// this.init(new BaiduTest())</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">init</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">LivePageRule</span>());
  }
}
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/observer/observer.ts</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Observer</span> {
  <span class="hljs-title function_">windowKey</span>(<span class="hljs-params">window0</span>) {
    <span class="hljs-keyword">if</span> (window0 === <span class="hljs-variable language_">window</span>) {
      <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
    }
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">window</span>.<span class="hljs-property">frames</span>.<span class="hljs-property">length</span>; i++) {
      <span class="hljs-keyword">if</span> (window0 === <span class="hljs-variable language_">window</span>.<span class="hljs-property">frames</span>[i]) {
        <span class="hljs-keyword">return</span> i;
      }
    }
    <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>; <span class="hljs-comment">// 都没有是错的, 默认-1为主window(然后不做处理)</span>
  }

  <span class="hljs-title function_">wrKey</span>(<span class="hljs-params">rule, window0</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">windowKey</span>(window0) + <span class="hljs-string">&#x27;:&#x27;</span> + rule.<span class="hljs-property">mainSelector</span>;
  }
}
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/observer/impl/my-observer.ts</span>


<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyObserver</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Observer</span> {
  observerMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
  <span class="hljs-title function_">start</span>(<span class="hljs-params">rule, <span class="hljs-variable language_">window</span></span>) {
    <span class="hljs-keyword">let</span> key = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">wrKey</span>(rule, <span class="hljs-variable language_">window</span>);
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">observerMap</span>.<span class="hljs-title function_">has</span>(key)) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handle</span>(rule, <span class="hljs-variable language_">window</span>); <span class="hljs-comment">// start处理(第一次)</span>
      <span class="hljs-keyword">let</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MutationObserver</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handle</span>(rule, <span class="hljs-variable language_">window</span>); <span class="hljs-comment">// 变化后处理</span>
      });

      observer.<span class="hljs-title function_">observe</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">document</span>, {
        <span class="hljs-attr">childList</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">subtree</span>: <span class="hljs-literal">true</span>
      });
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">observerMap</span>.<span class="hljs-title function_">set</span>(key, observer);
    }
  }
  <span class="hljs-title function_">handle</span>(<span class="hljs-params">rule, <span class="hljs-variable language_">window</span></span>) {
    <span class="hljs-keyword">let</span> mains = <span class="hljs-variable language_">window</span>.<span class="hljs-property">document</span>.<span class="hljs-title function_">querySelectorAll</span>(rule.<span class="hljs-property">mainSelector</span> + <span class="hljs-string">&#x27;:not(.&#x27;</span> + <span class="hljs-title class_">DisplayClass</span> + <span class="hljs-string">&#x27;)&#x27;</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; mains.<span class="hljs-property">length</span>; i++) {
      rule.<span class="hljs-title function_">display</span>(mains[i]);
    }
  }
  <span class="hljs-title function_">stop</span>(<span class="hljs-params">rule, <span class="hljs-variable language_">window</span></span>) {
    <span class="hljs-keyword">let</span> key = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">wrKey</span>(rule, <span class="hljs-variable language_">window</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">observerMap</span>.<span class="hljs-title function_">get</span>(key)?.<span class="hljs-title function_">disconnect</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">observerMap</span>.<span class="hljs-title function_">delete</span>(key);
  }
}
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/observer/impl/arrive-observer.ts</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ArriveObserver</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Observer</span> {
  <span class="hljs-title function_">start</span>(<span class="hljs-params">rule, <span class="hljs-variable language_">window</span></span>) {
    <span class="hljs-variable language_">window</span>.<span class="hljs-property">document</span>.<span class="hljs-title function_">arrive</span>(rule.<span class="hljs-property">mainSelector</span>, {
      <span class="hljs-attr">fireOnAttributesModification</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">existing</span>: <span class="hljs-literal">true</span>
    }, <span class="hljs-function"><span class="hljs-params">mainElement</span> =&gt;</span> {
      rule.<span class="hljs-title function_">display</span>(mainElement);
    });
  }
  <span class="hljs-title function_">stop</span>(<span class="hljs-params">rule, <span class="hljs-variable language_">window</span></span>) {
    <span class="hljs-variable language_">window</span>.<span class="hljs-property">document</span>.<span class="hljs-title function_">unbindArrive</span>(rule.<span class="hljs-property">mainSelector</span>);
  }
}
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/config/page/page.ts</span>




<span class="hljs-comment">/**
 * 页面配置
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Page</span> {
  key; <span class="hljs-comment">// 页面key yaml的key 相当于id</span>
  name; <span class="hljs-comment">// 页面名称 用于展示</span>
  regexp; <span class="hljs-comment">// 正则表达式 真实页面是否匹配配置页面</span>
  observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArriveObserver</span>();
  iframeObserver = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyObserver</span>();
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">page</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">key</span> = page.<span class="hljs-property">key</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = page.<span class="hljs-property">name</span> ?? page.<span class="hljs-property">key</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">regexp</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(page.<span class="hljs-property">regexp</span>.<span class="hljs-property">pattern</span>, page.<span class="hljs-property">regexp</span>.<span class="hljs-property">modifiers</span>);
    <span class="hljs-comment">// 添加特殊规则 特殊规则优先处理</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">SpecialRules</span>.<span class="hljs-property">sp</span>.<span class="hljs-title function_">has</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">key</span>)) {
      <span class="hljs-keyword">let</span> specialRule = <span class="hljs-title class_">SpecialRules</span>.<span class="hljs-property">sp</span>.<span class="hljs-title function_">get</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">key</span>);
      specialRule.<span class="hljs-property">spCheckers</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">spChecker</span> =&gt;</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">insert</span>({
          <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;&#x27;</span>,
          <span class="hljs-attr">key</span>: <span class="hljs-string">&#x27;&#x27;</span>,
          <span class="hljs-attr">mainSelector</span>: spChecker.<span class="hljs-property">mainSelector</span>,
          <span class="hljs-attr">checker</span>: {
            <span class="hljs-attr">bingo</span>: spChecker.<span class="hljs-property">bingo</span>
          }
        });
      });
    }
  }
  <span class="hljs-title function_">isCurrent</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">regexp</span>.<span class="hljs-title function_">test</span>(location.<span class="hljs-property">href</span>);
  }
  working = <span class="hljs-literal">false</span>;
  checkerMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
  <span class="hljs-title function_">insert</span>(<span class="hljs-params">rule</span>) {
    <span class="hljs-keyword">let</span> _checkers = <span class="hljs-variable language_">this</span>.<span class="hljs-property">checkerMap</span>.<span class="hljs-title function_">get</span>(rule.<span class="hljs-property">mainSelector</span>);
    <span class="hljs-keyword">let</span> checkers = _checkers ? _checkers : [];
    checkers.<span class="hljs-title function_">push</span>(rule.<span class="hljs-property">checker</span>);
    <span class="hljs-keyword">if</span> (!_checkers) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">checkerMap</span>.<span class="hljs-title function_">set</span>(rule.<span class="hljs-property">mainSelector</span>, checkers);
    }
  }
  <span class="hljs-title function_">rules</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">let</span> arr = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">checkerMap</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">checkers, mainSelector</span>) =&gt;</span> {
      arr.<span class="hljs-title function_">push</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">DoRuleN</span>(mainSelector, checkers));
    });
    <span class="hljs-keyword">return</span> arr;
  }
  <span class="hljs-title function_">start</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> rule <span class="hljs-keyword">of</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">rules</span>()) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">observer</span>.<span class="hljs-title function_">start</span>(rule, <span class="hljs-variable language_">window</span>);
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">window</span>.<span class="hljs-property">frames</span>.<span class="hljs-property">length</span>; i++) {
        <span class="hljs-keyword">try</span> {
          <span class="hljs-keyword">let</span> frame = <span class="hljs-variable language_">window</span>.<span class="hljs-property">frames</span>[i];
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">iframeObserver</span>.<span class="hljs-title function_">start</span>(rule, frame);
        } <span class="hljs-keyword">catch</span> (ignore) {}
      }
    }
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">working</span> = <span class="hljs-literal">true</span>;
  }
  <span class="hljs-title function_">stop</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> rule <span class="hljs-keyword">of</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">rules</span>()) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">observer</span>.<span class="hljs-title function_">stop</span>(rule, <span class="hljs-variable language_">window</span>);
      <span class="hljs-comment">// document.unbindArrive(rule.mainSelector);</span>
      rule.<span class="hljs-title function_">show</span>();
      <span class="hljs-comment">// iframe里执行stop()</span>
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">window</span>.<span class="hljs-property">frames</span>.<span class="hljs-property">length</span>; i++) {
        <span class="hljs-keyword">try</span> {
          <span class="hljs-keyword">let</span> frame = <span class="hljs-variable language_">window</span>.<span class="hljs-property">frames</span>[i];
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">iframeObserver</span>.<span class="hljs-title function_">stop</span>(rule, frame);
          rule.<span class="hljs-title function_">show</span>(frame.<span class="hljs-property">document</span>);
        } <span class="hljs-keyword">catch</span> (ignore) {}
      }
    }
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">working</span> = <span class="hljs-literal">false</span>;
  }
  <span class="hljs-comment">/**
   * 初始化start
   * <span class="hljs-doctag">@param</span> <span class="hljs-variable">window0</span>
   */</span>
  <span class="hljs-title function_">arrive</span>(<span class="hljs-params">window0</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isCurrent</span>()) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> rule <span class="hljs-keyword">of</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">rules</span>()) {
        <span class="hljs-keyword">if</span> (window0 === <span class="hljs-variable language_">window</span>) {
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">observer</span>.<span class="hljs-title function_">start</span>(rule, window0);
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">iframeObserver</span>.<span class="hljs-title function_">start</span>(rule, window0);
        }
      }
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">document</span> === <span class="hljs-variable language_">window</span>.<span class="hljs-property">document</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">working</span> = <span class="hljs-literal">true</span>;
      }
    }
  }
  <span class="hljs-comment">/**
   * dom离开时stop
   * <span class="hljs-doctag">@param</span> <span class="hljs-variable">window0</span>
   */</span>
  <span class="hljs-title function_">leave</span>(<span class="hljs-params">window0</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isCurrent</span>()) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> rule <span class="hljs-keyword">of</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">rules</span>()) {
        <span class="hljs-keyword">if</span> (window0 === <span class="hljs-variable language_">window</span>) {
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">observer</span>.<span class="hljs-title function_">stop</span>(rule, window0);
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">iframeObserver</span>.<span class="hljs-title function_">stop</span>(rule, window0);
        }
      }
    }
  }
}
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/init/read-etc.ts</span>





<span class="hljs-keyword">function</span> <span class="hljs-title function_">readEtc</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">let</span> pageData = <span class="hljs-title function_">GM_getValue</span>(<span class="hljs-string">&#x27;script.page&#x27;</span>);
  <span class="hljs-keyword">let</span> pageMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
  <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(pageData).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">pageKey</span> =&gt;</span> {
    pageData[pageKey].<span class="hljs-property">key</span> = pageKey;
    pageMap.<span class="hljs-title function_">set</span>(pageKey, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Page</span>(pageData[pageKey]));
  });
  <span class="hljs-comment">// 特殊页面配置</span>
  <span class="hljs-title class_">SpecialPages</span>.<span class="hljs-property">sp</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">page, key</span>) =&gt;</span> {
    pageMap.<span class="hljs-title function_">set</span>(key, page);
  });
  <span class="hljs-keyword">let</span> ruleData = <span class="hljs-title function_">GM_getValue</span>(<span class="hljs-string">&#x27;script.rule&#x27;</span>);
  <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(ruleData).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">ruleKey</span> =&gt;</span> {
    <span class="hljs-keyword">let</span> rule0 = ruleData[ruleKey];
    rule0.<span class="hljs-property">key</span> = ruleKey;
    <span class="hljs-keyword">if</span> (rule0.<span class="hljs-property">checker</span>?.<span class="hljs-property">setting</span>) {
      <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Settings</span>.<span class="hljs-title function_">getSystemSettings</span>().<span class="hljs-title function_">has</span>(rule0.<span class="hljs-property">checker</span>.<span class="hljs-property">setting</span>)) {
        rule0.<span class="hljs-property">checker</span>.<span class="hljs-property">setting</span> = <span class="hljs-title class_">Settings</span>.<span class="hljs-title function_">getSystemSettings</span>().<span class="hljs-title function_">get</span>(rule0.<span class="hljs-property">checker</span>.<span class="hljs-property">setting</span>);
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isSpecialKeys</span>(rule0.<span class="hljs-property">checker</span>.<span class="hljs-property">setting</span>)) {
        rule0.<span class="hljs-property">checker</span>.<span class="hljs-property">setting</span> = <span class="hljs-title function_">specialSetting</span>(rule0.<span class="hljs-property">checker</span>.<span class="hljs-property">setting</span>);
      }
    }
    pageMap.<span class="hljs-title function_">get</span>(rule0.<span class="hljs-property">page</span>)?.<span class="hljs-title function_">insert</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Rule</span>(rule0));
  });
  <span class="hljs-keyword">return</span> pageMap;
}
;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/nodes/Node.js</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">ALIAS</span> = <span class="hljs-title class_">Symbol</span>.<span class="hljs-title function_">for</span>(<span class="hljs-string">&#x27;yaml.alias&#x27;</span>);
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">DOC</span> = <span class="hljs-title class_">Symbol</span>.<span class="hljs-title function_">for</span>(<span class="hljs-string">&#x27;yaml.document&#x27;</span>);
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">MAP</span> = <span class="hljs-title class_">Symbol</span>.<span class="hljs-title function_">for</span>(<span class="hljs-string">&#x27;yaml.map&#x27;</span>);
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">PAIR</span> = <span class="hljs-title class_">Symbol</span>.<span class="hljs-title function_">for</span>(<span class="hljs-string">&#x27;yaml.pair&#x27;</span>);
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">SCALAR</span> = <span class="hljs-title class_">Symbol</span>.<span class="hljs-title function_">for</span>(<span class="hljs-string">&#x27;yaml.scalar&#x27;</span>);
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">SEQ</span> = <span class="hljs-title class_">Symbol</span>.<span class="hljs-title function_">for</span>(<span class="hljs-string">&#x27;yaml.seq&#x27;</span>);
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">NODE_TYPE</span> = <span class="hljs-title class_">Symbol</span>.<span class="hljs-title function_">for</span>(<span class="hljs-string">&#x27;yaml.node.type&#x27;</span>);
<span class="hljs-keyword">const</span> <span class="hljs-title function_">isAlias</span> = (<span class="hljs-params">node</span>) =&gt; !!node &amp;&amp; <span class="hljs-keyword">typeof</span> node === <span class="hljs-string">&#x27;object&#x27;</span> &amp;&amp; node[<span class="hljs-variable constant_">NODE_TYPE</span>] === <span class="hljs-variable constant_">ALIAS</span>;
<span class="hljs-keyword">const</span> <span class="hljs-title function_">isDocument</span> = (<span class="hljs-params">node</span>) =&gt; !!node &amp;&amp; <span class="hljs-keyword">typeof</span> node === <span class="hljs-string">&#x27;object&#x27;</span> &amp;&amp; node[<span class="hljs-variable constant_">NODE_TYPE</span>] === <span class="hljs-variable constant_">DOC</span>;
<span class="hljs-keyword">const</span> <span class="hljs-title function_">isMap</span> = (<span class="hljs-params">node</span>) =&gt; !!node &amp;&amp; <span class="hljs-keyword">typeof</span> node === <span class="hljs-string">&#x27;object&#x27;</span> &amp;&amp; node[<span class="hljs-variable constant_">NODE_TYPE</span>] === <span class="hljs-variable constant_">MAP</span>;
<span class="hljs-keyword">const</span> <span class="hljs-title function_">isPair</span> = (<span class="hljs-params">node</span>) =&gt; !!node &amp;&amp; <span class="hljs-keyword">typeof</span> node === <span class="hljs-string">&#x27;object&#x27;</span> &amp;&amp; node[<span class="hljs-variable constant_">NODE_TYPE</span>] === <span class="hljs-variable constant_">PAIR</span>;
<span class="hljs-keyword">const</span> <span class="hljs-title function_">isScalar</span> = (<span class="hljs-params">node</span>) =&gt; !!node &amp;&amp; <span class="hljs-keyword">typeof</span> node === <span class="hljs-string">&#x27;object&#x27;</span> &amp;&amp; node[<span class="hljs-variable constant_">NODE_TYPE</span>] === <span class="hljs-variable constant_">SCALAR</span>;
<span class="hljs-keyword">const</span> <span class="hljs-title function_">isSeq</span> = (<span class="hljs-params">node</span>) =&gt; !!node &amp;&amp; <span class="hljs-keyword">typeof</span> node === <span class="hljs-string">&#x27;object&#x27;</span> &amp;&amp; node[<span class="hljs-variable constant_">NODE_TYPE</span>] === <span class="hljs-variable constant_">SEQ</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">isCollection</span>(<span class="hljs-params">node</span>) {
    <span class="hljs-keyword">if</span> (node &amp;&amp; <span class="hljs-keyword">typeof</span> node === <span class="hljs-string">&#x27;object&#x27;</span>)
        <span class="hljs-keyword">switch</span> (node[<span class="hljs-variable constant_">NODE_TYPE</span>]) {
            <span class="hljs-keyword">case</span> <span class="hljs-attr">MAP</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-attr">SEQ</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">isNode</span>(<span class="hljs-params">node</span>) {
    <span class="hljs-keyword">if</span> (node &amp;&amp; <span class="hljs-keyword">typeof</span> node === <span class="hljs-string">&#x27;object&#x27;</span>)
        <span class="hljs-keyword">switch</span> (node[<span class="hljs-variable constant_">NODE_TYPE</span>]) {
            <span class="hljs-keyword">case</span> <span class="hljs-attr">ALIAS</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-attr">MAP</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-attr">SCALAR</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-attr">SEQ</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
<span class="hljs-keyword">const</span> <span class="hljs-title function_">hasAnchor</span> = (<span class="hljs-params">node</span>) =&gt; (<span class="hljs-title function_">isScalar</span>(node) || <span class="hljs-title function_">isCollection</span>(node)) &amp;&amp; !!node.<span class="hljs-property">anchor</span>;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">NodeBase</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">type</span>) {
        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable constant_">NODE_TYPE</span>, { <span class="hljs-attr">value</span>: type });
    }
    <span class="hljs-comment">/** Create a copy of this node.  */</span>
    <span class="hljs-title function_">clone</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">const</span> copy = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(<span class="hljs-variable language_">this</span>), <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertyDescriptors</span>(<span class="hljs-variable language_">this</span>));
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">range</span>)
            copy.<span class="hljs-property">range</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">range</span>.<span class="hljs-title function_">slice</span>();
        <span class="hljs-keyword">return</span> copy;
    }
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/visit.js</span>


<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">BREAK</span> = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&#x27;break visit&#x27;</span>);
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">SKIP</span> = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&#x27;skip children&#x27;</span>);
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">REMOVE</span> = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&#x27;remove node&#x27;</span>);
<span class="hljs-comment">/**
 * Apply a visitor to an AST node or document.
 *
 * Walks through the tree (depth-first) starting from `node`, calling a
 * `visitor` function with three arguments:
 *   - `key`: For sequence values and map `Pair`, the node&#x27;s index in the
 *     collection. Within a `Pair`, `&#x27;key&#x27;` or `&#x27;value&#x27;`, correspondingly.
 *     `null` for the root node.
 *   - `node`: The current node.
 *   - `path`: The ancestry of the current node.
 *
 * The return value of the visitor may be used to control the traversal:
 *   - `undefined` (default): Do nothing and continue
 *   - `visit.SKIP`: Do not visit the children of this node, continue with next
 *     sibling
 *   - `visit.BREAK`: Terminate traversal completely
 *   - `visit.REMOVE`: Remove the current node, then continue with the next one
 *   - `Node`: Replace the current node, then continue by visiting it
 *   - `number`: While iterating the items of a sequence or map, set the index
 *     of the next step. This is useful especially if the index of the current
 *     node has changed.
 *
 * If `visitor` is a single function, it will be called with all values
 * encountered in the tree, including e.g. `null` values. Alternatively,
 * separate visitor functions may be defined for each `Map`, `Pair`, `Seq`,
 * `Alias` and `Scalar` node. To define the same visitor function for more than
 * one node type, use the `Collection` (map and seq), `Value` (map, seq &amp; scalar)
 * and `Node` (alias, map, seq &amp; scalar) targets. Of all these, only the most
 * specific defined one will be used for each node.
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">visit</span>(<span class="hljs-params">node, visitor</span>) {
    <span class="hljs-keyword">const</span> visitor_ = <span class="hljs-title function_">initVisitor</span>(visitor);
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isDocument</span>(node)) {
        <span class="hljs-keyword">const</span> cd = <span class="hljs-title function_">visit_</span>(<span class="hljs-literal">null</span>, node.<span class="hljs-property">contents</span>, visitor_, <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">freeze</span>([node]));
        <span class="hljs-keyword">if</span> (cd === <span class="hljs-variable constant_">REMOVE</span>)
            node.<span class="hljs-property">contents</span> = <span class="hljs-literal">null</span>;
    }
    <span class="hljs-keyword">else</span>
        <span class="hljs-title function_">visit_</span>(<span class="hljs-literal">null</span>, node, visitor_, <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">freeze</span>([]));
}
<span class="hljs-comment">// Without the `as symbol` casts, TS declares these in the `visit`</span>
<span class="hljs-comment">// namespace using `var`, but then complains about that because</span>
<span class="hljs-comment">// `unique symbol` must be `const`.</span>
<span class="hljs-comment">/** Terminate visit traversal completely */</span>
visit.<span class="hljs-property">BREAK</span> = <span class="hljs-variable constant_">BREAK</span>;
<span class="hljs-comment">/** Do not visit the children of the current node */</span>
visit.<span class="hljs-property">SKIP</span> = <span class="hljs-variable constant_">SKIP</span>;
<span class="hljs-comment">/** Remove the current node */</span>
visit.<span class="hljs-property">REMOVE</span> = <span class="hljs-variable constant_">REMOVE</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">visit_</span>(<span class="hljs-params">key, node, visitor, path</span>) {
    <span class="hljs-keyword">const</span> ctrl = <span class="hljs-title function_">callVisitor</span>(key, node, visitor, path);
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isNode</span>(ctrl) || <span class="hljs-title function_">isPair</span>(ctrl)) {
        <span class="hljs-title function_">replaceNode</span>(key, path, ctrl);
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">visit_</span>(key, ctrl, visitor, path);
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> ctrl !== <span class="hljs-string">&#x27;symbol&#x27;</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isCollection</span>(node)) {
            path = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">freeze</span>(path.<span class="hljs-title function_">concat</span>(node));
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; node.<span class="hljs-property">items</span>.<span class="hljs-property">length</span>; ++i) {
                <span class="hljs-keyword">const</span> ci = <span class="hljs-title function_">visit_</span>(i, node.<span class="hljs-property">items</span>[i], visitor, path);
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> ci === <span class="hljs-string">&#x27;number&#x27;</span>)
                    i = ci - <span class="hljs-number">1</span>;
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ci === <span class="hljs-variable constant_">BREAK</span>)
                    <span class="hljs-keyword">return</span> <span class="hljs-variable constant_">BREAK</span>;
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ci === <span class="hljs-variable constant_">REMOVE</span>) {
                    node.<span class="hljs-property">items</span>.<span class="hljs-title function_">splice</span>(i, <span class="hljs-number">1</span>);
                    i -= <span class="hljs-number">1</span>;
                }
            }
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isPair</span>(node)) {
            path = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">freeze</span>(path.<span class="hljs-title function_">concat</span>(node));
            <span class="hljs-keyword">const</span> ck = <span class="hljs-title function_">visit_</span>(<span class="hljs-string">&#x27;key&#x27;</span>, node.<span class="hljs-property">key</span>, visitor, path);
            <span class="hljs-keyword">if</span> (ck === <span class="hljs-variable constant_">BREAK</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-variable constant_">BREAK</span>;
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ck === <span class="hljs-variable constant_">REMOVE</span>)
                node.<span class="hljs-property">key</span> = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">const</span> cv = <span class="hljs-title function_">visit_</span>(<span class="hljs-string">&#x27;value&#x27;</span>, node.<span class="hljs-property">value</span>, visitor, path);
            <span class="hljs-keyword">if</span> (cv === <span class="hljs-variable constant_">BREAK</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-variable constant_">BREAK</span>;
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (cv === <span class="hljs-variable constant_">REMOVE</span>)
                node.<span class="hljs-property">value</span> = <span class="hljs-literal">null</span>;
        }
    }
    <span class="hljs-keyword">return</span> ctrl;
}
<span class="hljs-comment">/**
 * Apply an async visitor to an AST node or document.
 *
 * Walks through the tree (depth-first) starting from `node`, calling a
 * `visitor` function with three arguments:
 *   - `key`: For sequence values and map `Pair`, the node&#x27;s index in the
 *     collection. Within a `Pair`, `&#x27;key&#x27;` or `&#x27;value&#x27;`, correspondingly.
 *     `null` for the root node.
 *   - `node`: The current node.
 *   - `path`: The ancestry of the current node.
 *
 * The return value of the visitor may be used to control the traversal:
 *   - `Promise`: Must resolve to one of the following values
 *   - `undefined` (default): Do nothing and continue
 *   - `visit.SKIP`: Do not visit the children of this node, continue with next
 *     sibling
 *   - `visit.BREAK`: Terminate traversal completely
 *   - `visit.REMOVE`: Remove the current node, then continue with the next one
 *   - `Node`: Replace the current node, then continue by visiting it
 *   - `number`: While iterating the items of a sequence or map, set the index
 *     of the next step. This is useful especially if the index of the current
 *     node has changed.
 *
 * If `visitor` is a single function, it will be called with all values
 * encountered in the tree, including e.g. `null` values. Alternatively,
 * separate visitor functions may be defined for each `Map`, `Pair`, `Seq`,
 * `Alias` and `Scalar` node. To define the same visitor function for more than
 * one node type, use the `Collection` (map and seq), `Value` (map, seq &amp; scalar)
 * and `Node` (alias, map, seq &amp; scalar) targets. Of all these, only the most
 * specific defined one will be used for each node.
 */</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">visitAsync</span>(<span class="hljs-params">node, visitor</span>) {
    <span class="hljs-keyword">const</span> visitor_ = <span class="hljs-title function_">initVisitor</span>(visitor);
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isDocument</span>(node)) {
        <span class="hljs-keyword">const</span> cd = <span class="hljs-keyword">await</span> <span class="hljs-title function_">visitAsync_</span>(<span class="hljs-literal">null</span>, node.<span class="hljs-property">contents</span>, visitor_, <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">freeze</span>([node]));
        <span class="hljs-keyword">if</span> (cd === <span class="hljs-variable constant_">REMOVE</span>)
            node.<span class="hljs-property">contents</span> = <span class="hljs-literal">null</span>;
    }
    <span class="hljs-keyword">else</span>
        <span class="hljs-keyword">await</span> <span class="hljs-title function_">visitAsync_</span>(<span class="hljs-literal">null</span>, node, visitor_, <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">freeze</span>([]));
}
<span class="hljs-comment">// Without the `as symbol` casts, TS declares these in the `visit`</span>
<span class="hljs-comment">// namespace using `var`, but then complains about that because</span>
<span class="hljs-comment">// `unique symbol` must be `const`.</span>
<span class="hljs-comment">/** Terminate visit traversal completely */</span>
visitAsync.<span class="hljs-property">BREAK</span> = <span class="hljs-variable constant_">BREAK</span>;
<span class="hljs-comment">/** Do not visit the children of the current node */</span>
visitAsync.<span class="hljs-property">SKIP</span> = <span class="hljs-variable constant_">SKIP</span>;
<span class="hljs-comment">/** Remove the current node */</span>
visitAsync.<span class="hljs-property">REMOVE</span> = <span class="hljs-variable constant_">REMOVE</span>;
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">visitAsync_</span>(<span class="hljs-params">key, node, visitor, path</span>) {
    <span class="hljs-keyword">const</span> ctrl = <span class="hljs-keyword">await</span> <span class="hljs-title function_">callVisitor</span>(key, node, visitor, path);
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isNode</span>(ctrl) || <span class="hljs-title function_">isPair</span>(ctrl)) {
        <span class="hljs-title function_">replaceNode</span>(key, path, ctrl);
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">visitAsync_</span>(key, ctrl, visitor, path);
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> ctrl !== <span class="hljs-string">&#x27;symbol&#x27;</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isCollection</span>(node)) {
            path = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">freeze</span>(path.<span class="hljs-title function_">concat</span>(node));
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; node.<span class="hljs-property">items</span>.<span class="hljs-property">length</span>; ++i) {
                <span class="hljs-keyword">const</span> ci = <span class="hljs-keyword">await</span> <span class="hljs-title function_">visitAsync_</span>(i, node.<span class="hljs-property">items</span>[i], visitor, path);
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> ci === <span class="hljs-string">&#x27;number&#x27;</span>)
                    i = ci - <span class="hljs-number">1</span>;
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ci === <span class="hljs-variable constant_">BREAK</span>)
                    <span class="hljs-keyword">return</span> <span class="hljs-variable constant_">BREAK</span>;
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ci === <span class="hljs-variable constant_">REMOVE</span>) {
                    node.<span class="hljs-property">items</span>.<span class="hljs-title function_">splice</span>(i, <span class="hljs-number">1</span>);
                    i -= <span class="hljs-number">1</span>;
                }
            }
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isPair</span>(node)) {
            path = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">freeze</span>(path.<span class="hljs-title function_">concat</span>(node));
            <span class="hljs-keyword">const</span> ck = <span class="hljs-keyword">await</span> <span class="hljs-title function_">visitAsync_</span>(<span class="hljs-string">&#x27;key&#x27;</span>, node.<span class="hljs-property">key</span>, visitor, path);
            <span class="hljs-keyword">if</span> (ck === <span class="hljs-variable constant_">BREAK</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-variable constant_">BREAK</span>;
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ck === <span class="hljs-variable constant_">REMOVE</span>)
                node.<span class="hljs-property">key</span> = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">const</span> cv = <span class="hljs-keyword">await</span> <span class="hljs-title function_">visitAsync_</span>(<span class="hljs-string">&#x27;value&#x27;</span>, node.<span class="hljs-property">value</span>, visitor, path);
            <span class="hljs-keyword">if</span> (cv === <span class="hljs-variable constant_">BREAK</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-variable constant_">BREAK</span>;
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (cv === <span class="hljs-variable constant_">REMOVE</span>)
                node.<span class="hljs-property">value</span> = <span class="hljs-literal">null</span>;
        }
    }
    <span class="hljs-keyword">return</span> ctrl;
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">initVisitor</span>(<span class="hljs-params">visitor</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> visitor === <span class="hljs-string">&#x27;object&#x27;</span> &amp;&amp;
        (visitor.<span class="hljs-property">Collection</span> || visitor.<span class="hljs-property">Node</span> || visitor.<span class="hljs-property">Value</span>)) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({
            <span class="hljs-title class_">Alias</span>: visitor.<span class="hljs-property">Node</span>,
            <span class="hljs-title class_">Map</span>: visitor.<span class="hljs-property">Node</span>,
            <span class="hljs-title class_">Scalar</span>: visitor.<span class="hljs-property">Node</span>,
            <span class="hljs-title class_">Seq</span>: visitor.<span class="hljs-property">Node</span>
        }, visitor.<span class="hljs-property">Value</span> &amp;&amp; {
            <span class="hljs-title class_">Map</span>: visitor.<span class="hljs-property">Value</span>,
            <span class="hljs-title class_">Scalar</span>: visitor.<span class="hljs-property">Value</span>,
            <span class="hljs-title class_">Seq</span>: visitor.<span class="hljs-property">Value</span>
        }, visitor.<span class="hljs-property">Collection</span> &amp;&amp; {
            <span class="hljs-title class_">Map</span>: visitor.<span class="hljs-property">Collection</span>,
            <span class="hljs-title class_">Seq</span>: visitor.<span class="hljs-property">Collection</span>
        }, visitor);
    }
    <span class="hljs-keyword">return</span> visitor;
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">callVisitor</span>(<span class="hljs-params">key, node, visitor, path</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> visitor === <span class="hljs-string">&#x27;function&#x27;</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">visitor</span>(key, node, path);
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isMap</span>(node))
        <span class="hljs-keyword">return</span> visitor.<span class="hljs-property">Map</span>?.(key, node, path);
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isSeq</span>(node))
        <span class="hljs-keyword">return</span> visitor.<span class="hljs-property">Seq</span>?.(key, node, path);
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isPair</span>(node))
        <span class="hljs-keyword">return</span> visitor.<span class="hljs-property">Pair</span>?.(key, node, path);
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isScalar</span>(node))
        <span class="hljs-keyword">return</span> visitor.<span class="hljs-property">Scalar</span>?.(key, node, path);
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isAlias</span>(node))
        <span class="hljs-keyword">return</span> visitor.<span class="hljs-property">Alias</span>?.(key, node, path);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>;
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">replaceNode</span>(<span class="hljs-params">key, path, node</span>) {
    <span class="hljs-keyword">const</span> parent = path[path.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>];
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isCollection</span>(parent)) {
        parent.<span class="hljs-property">items</span>[key] = node;
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isPair</span>(parent)) {
        <span class="hljs-keyword">if</span> (key === <span class="hljs-string">&#x27;key&#x27;</span>)
            parent.<span class="hljs-property">key</span> = node;
        <span class="hljs-keyword">else</span>
            parent.<span class="hljs-property">value</span> = node;
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isDocument</span>(parent)) {
        parent.<span class="hljs-property">contents</span> = node;
    }
    <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">const</span> pt = <span class="hljs-title function_">isAlias</span>(parent) ? <span class="hljs-string">&#x27;alias&#x27;</span> : <span class="hljs-string">&#x27;scalar&#x27;</span>;
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Cannot replace node with <span class="hljs-subst">${pt}</span> parent`</span>);
    }
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/doc/directives.js</span>



<span class="hljs-keyword">const</span> escapeChars = {
    <span class="hljs-string">&#x27;!&#x27;</span>: <span class="hljs-string">&#x27;%21&#x27;</span>,
    <span class="hljs-string">&#x27;,&#x27;</span>: <span class="hljs-string">&#x27;%2C&#x27;</span>,
    <span class="hljs-string">&#x27;[&#x27;</span>: <span class="hljs-string">&#x27;%5B&#x27;</span>,
    <span class="hljs-string">&#x27;]&#x27;</span>: <span class="hljs-string">&#x27;%5D&#x27;</span>,
    <span class="hljs-string">&#x27;{&#x27;</span>: <span class="hljs-string">&#x27;%7B&#x27;</span>,
    <span class="hljs-string">&#x27;}&#x27;</span>: <span class="hljs-string">&#x27;%7D&#x27;</span>
};
<span class="hljs-keyword">const</span> <span class="hljs-title function_">escapeTagName</span> = (<span class="hljs-params">tn</span>) =&gt; tn.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[!,[\]{}]/g</span>, <span class="hljs-function"><span class="hljs-params">ch</span> =&gt;</span> escapeChars[ch]);
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Directives</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">yaml, tags</span>) {
        <span class="hljs-comment">/**
         * The directives-end/doc-start marker `---`. If `null`, a marker may still be
         * included in the document&#x27;s stringified representation.
         */</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">docStart</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-comment">/** The doc-end marker `...`.  */</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">docEnd</span> = <span class="hljs-literal">false</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">yaml</span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, <span class="hljs-title class_">Directives</span>.<span class="hljs-property">defaultYaml</span>, yaml);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">tags</span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, <span class="hljs-title class_">Directives</span>.<span class="hljs-property">defaultTags</span>, tags);
    }
    <span class="hljs-title function_">clone</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">const</span> copy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Directives</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">yaml</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">tags</span>);
        copy.<span class="hljs-property">docStart</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">docStart</span>;
        <span class="hljs-keyword">return</span> copy;
    }
    <span class="hljs-comment">/**
     * During parsing, get a Directives instance for the current document and
     * update the stream state according to the current version&#x27;s spec.
     */</span>
    <span class="hljs-title function_">atDocument</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Directives</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">yaml</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">tags</span>);
        <span class="hljs-keyword">switch</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">yaml</span>.<span class="hljs-property">version</span>) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;1.1&#x27;</span>:
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">atNextDocument</span> = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;1.2&#x27;</span>:
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">atNextDocument</span> = <span class="hljs-literal">false</span>;
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">yaml</span> = {
                    <span class="hljs-attr">explicit</span>: <span class="hljs-title class_">Directives</span>.<span class="hljs-property">defaultYaml</span>.<span class="hljs-property">explicit</span>,
                    <span class="hljs-attr">version</span>: <span class="hljs-string">&#x27;1.2&#x27;</span>
                };
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">tags</span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, <span class="hljs-title class_">Directives</span>.<span class="hljs-property">defaultTags</span>);
                <span class="hljs-keyword">break</span>;
        }
        <span class="hljs-keyword">return</span> res;
    }
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> <span class="hljs-variable">onError</span> - May be called even if the action was successful
     * <span class="hljs-doctag">@returns</span> `true` on success
     */</span>
    <span class="hljs-title function_">add</span>(<span class="hljs-params">line, onError</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">atNextDocument</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">yaml</span> = { <span class="hljs-attr">explicit</span>: <span class="hljs-title class_">Directives</span>.<span class="hljs-property">defaultYaml</span>.<span class="hljs-property">explicit</span>, <span class="hljs-attr">version</span>: <span class="hljs-string">&#x27;1.1&#x27;</span> };
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">tags</span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, <span class="hljs-title class_">Directives</span>.<span class="hljs-property">defaultTags</span>);
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">atNextDocument</span> = <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">const</span> parts = line.<span class="hljs-title function_">trim</span>().<span class="hljs-title function_">split</span>(<span class="hljs-regexp">/[ \t]+/</span>);
        <span class="hljs-keyword">const</span> name = parts.<span class="hljs-title function_">shift</span>();
        <span class="hljs-keyword">switch</span> (name) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;%TAG&#x27;</span>: {
                <span class="hljs-keyword">if</span> (parts.<span class="hljs-property">length</span> !== <span class="hljs-number">2</span>) {
                    <span class="hljs-title function_">onError</span>(<span class="hljs-number">0</span>, <span class="hljs-string">&#x27;%TAG directive should contain exactly two parts&#x27;</span>);
                    <span class="hljs-keyword">if</span> (parts.<span class="hljs-property">length</span> &lt; <span class="hljs-number">2</span>)
                        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                }
                <span class="hljs-keyword">const</span> [handle, prefix] = parts;
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">tags</span>[handle] = prefix;
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;%YAML&#x27;</span>: {
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">yaml</span>.<span class="hljs-property">explicit</span> = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">if</span> (parts.<span class="hljs-property">length</span> !== <span class="hljs-number">1</span>) {
                    <span class="hljs-title function_">onError</span>(<span class="hljs-number">0</span>, <span class="hljs-string">&#x27;%YAML directive should contain exactly one part&#x27;</span>);
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                }
                <span class="hljs-keyword">const</span> [version] = parts;
                <span class="hljs-keyword">if</span> (version === <span class="hljs-string">&#x27;1.1&#x27;</span> || version === <span class="hljs-string">&#x27;1.2&#x27;</span>) {
                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">yaml</span>.<span class="hljs-property">version</span> = version;
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                }
                <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">const</span> isValid = <span class="hljs-regexp">/^\d+\.\d+$/</span>.<span class="hljs-title function_">test</span>(version);
                    <span class="hljs-title function_">onError</span>(<span class="hljs-number">6</span>, <span class="hljs-string">`Unsupported YAML version <span class="hljs-subst">${version}</span>`</span>, isValid);
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                }
            }
            <span class="hljs-attr">default</span>:
                <span class="hljs-title function_">onError</span>(<span class="hljs-number">0</span>, <span class="hljs-string">`Unknown directive <span class="hljs-subst">${name}</span>`</span>, <span class="hljs-literal">true</span>);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    <span class="hljs-comment">/**
     * Resolves a tag, matching handles to those defined in %TAG directives.
     *
     * <span class="hljs-doctag">@returns</span> Resolved tag, which may also be the non-specific tag `&#x27;!&#x27;` or a
     *   `&#x27;!local&#x27;` tag, or `null` if unresolvable.
     */</span>
    <span class="hljs-title function_">tagName</span>(<span class="hljs-params">source, onError</span>) {
        <span class="hljs-keyword">if</span> (source === <span class="hljs-string">&#x27;!&#x27;</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;!&#x27;</span>; <span class="hljs-comment">// non-specific tag</span>
        <span class="hljs-keyword">if</span> (source[<span class="hljs-number">0</span>] !== <span class="hljs-string">&#x27;!&#x27;</span>) {
            <span class="hljs-title function_">onError</span>(<span class="hljs-string">`Not a valid tag: <span class="hljs-subst">${source}</span>`</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">if</span> (source[<span class="hljs-number">1</span>] === <span class="hljs-string">&#x27;&lt;&#x27;</span>) {
            <span class="hljs-keyword">const</span> verbatim = source.<span class="hljs-title function_">slice</span>(<span class="hljs-number">2</span>, -<span class="hljs-number">1</span>);
            <span class="hljs-keyword">if</span> (verbatim === <span class="hljs-string">&#x27;!&#x27;</span> || verbatim === <span class="hljs-string">&#x27;!!&#x27;</span>) {
                <span class="hljs-title function_">onError</span>(<span class="hljs-string">`Verbatim tags aren&#x27;t resolved, so <span class="hljs-subst">${source}</span> is invalid.`</span>);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
            }
            <span class="hljs-keyword">if</span> (source[source.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>] !== <span class="hljs-string">&#x27;&gt;&#x27;</span>)
                <span class="hljs-title function_">onError</span>(<span class="hljs-string">&#x27;Verbatim tags must end with a &gt;&#x27;</span>);
            <span class="hljs-keyword">return</span> verbatim;
        }
        <span class="hljs-keyword">const</span> [, handle, suffix] = source.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/^(.*!)([^!]*)$/</span>);
        <span class="hljs-keyword">if</span> (!suffix)
            <span class="hljs-title function_">onError</span>(<span class="hljs-string">`The <span class="hljs-subst">${source}</span> tag has no suffix`</span>);
        <span class="hljs-keyword">const</span> prefix = <span class="hljs-variable language_">this</span>.<span class="hljs-property">tags</span>[handle];
        <span class="hljs-keyword">if</span> (prefix)
            <span class="hljs-keyword">return</span> prefix + <span class="hljs-built_in">decodeURIComponent</span>(suffix);
        <span class="hljs-keyword">if</span> (handle === <span class="hljs-string">&#x27;!&#x27;</span>)
            <span class="hljs-keyword">return</span> source; <span class="hljs-comment">// local tag</span>
        <span class="hljs-title function_">onError</span>(<span class="hljs-string">`Could not resolve tag: <span class="hljs-subst">${source}</span>`</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
    <span class="hljs-comment">/**
     * Given a fully resolved tag, returns its printable string form,
     * taking into account current tag prefixes and defaults.
     */</span>
    <span class="hljs-title function_">tagString</span>(<span class="hljs-params">tag</span>) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [handle, prefix] <span class="hljs-keyword">of</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">tags</span>)) {
            <span class="hljs-keyword">if</span> (tag.<span class="hljs-title function_">startsWith</span>(prefix))
                <span class="hljs-keyword">return</span> handle + escapeTagName(tag.<span class="hljs-title function_">substring</span>(prefix.<span class="hljs-property">length</span>));
        }
        <span class="hljs-keyword">return</span> tag[<span class="hljs-number">0</span>] === <span class="hljs-string">&#x27;!&#x27;</span> ? tag : <span class="hljs-string">`!&lt;<span class="hljs-subst">${tag}</span>&gt;`</span>;
    }
    <span class="hljs-title function_">toString</span>(<span class="hljs-params">doc</span>) {
        <span class="hljs-keyword">const</span> lines = <span class="hljs-variable language_">this</span>.<span class="hljs-property">yaml</span>.<span class="hljs-property">explicit</span>
            ? [<span class="hljs-string">`%YAML <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.yaml.version || <span class="hljs-string">&#x27;1.2&#x27;</span>}</span>`</span>]
            : [];
        <span class="hljs-keyword">const</span> tagEntries = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">tags</span>);
        <span class="hljs-keyword">let</span> tagNames;
        <span class="hljs-keyword">if</span> (doc &amp;&amp; tagEntries.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-title function_">isNode</span>(doc.<span class="hljs-property">contents</span>)) {
            <span class="hljs-keyword">const</span> tags = {};
            <span class="hljs-title function_">visit</span>(doc.<span class="hljs-property">contents</span>, <span class="hljs-function">(<span class="hljs-params">_key, node</span>) =&gt;</span> {
                <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isNode</span>(node) &amp;&amp; node.<span class="hljs-property">tag</span>)
                    tags[node.<span class="hljs-property">tag</span>] = <span class="hljs-literal">true</span>;
            });
            tagNames = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(tags);
        }
        <span class="hljs-keyword">else</span>
            tagNames = [];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [handle, prefix] <span class="hljs-keyword">of</span> tagEntries) {
            <span class="hljs-keyword">if</span> (handle === <span class="hljs-string">&#x27;!!&#x27;</span> &amp;&amp; prefix === <span class="hljs-string">&#x27;tag:yaml.org,2002:&#x27;</span>)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">if</span> (!doc || tagNames.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">tn</span> =&gt;</span> tn.<span class="hljs-title function_">startsWith</span>(prefix)))
                lines.<span class="hljs-title function_">push</span>(<span class="hljs-string">`%TAG <span class="hljs-subst">${handle}</span> <span class="hljs-subst">${prefix}</span>`</span>);
        }
        <span class="hljs-keyword">return</span> lines.<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;\n&#x27;</span>);
    }
}
<span class="hljs-title class_">Directives</span>.<span class="hljs-property">defaultYaml</span> = { <span class="hljs-attr">explicit</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">version</span>: <span class="hljs-string">&#x27;1.2&#x27;</span> };
<span class="hljs-title class_">Directives</span>.<span class="hljs-property">defaultTags</span> = { <span class="hljs-string">&#x27;!!&#x27;</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:&#x27;</span> };



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/doc/anchors.js</span>



<span class="hljs-comment">/**
 * Verify that the input string is a valid anchor.
 *
 * Will throw on errors.
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">anchorIsValid</span>(<span class="hljs-params">anchor</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/[\x00-\x19\s,[\]{}]/</span>.<span class="hljs-title function_">test</span>(anchor)) {
        <span class="hljs-keyword">const</span> sa = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(anchor);
        <span class="hljs-keyword">const</span> msg = <span class="hljs-string">`Anchor must not contain whitespace or control characters: <span class="hljs-subst">${sa}</span>`</span>;
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(msg);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">anchorNames</span>(<span class="hljs-params">root</span>) {
    <span class="hljs-keyword">const</span> anchors = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
    <span class="hljs-title function_">visit</span>(root, {
        <span class="hljs-title class_">Value</span>(_key, node) {
            <span class="hljs-keyword">if</span> (node.<span class="hljs-property">anchor</span>)
                anchors.<span class="hljs-title function_">add</span>(node.<span class="hljs-property">anchor</span>);
        }
    });
    <span class="hljs-keyword">return</span> anchors;
}
<span class="hljs-comment">/** Find a new anchor name with the given `prefix` and a one-indexed suffix. */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">findNewAnchor</span>(<span class="hljs-params">prefix, exclude</span>) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; <span class="hljs-literal">true</span>; ++i) {
        <span class="hljs-keyword">const</span> name = <span class="hljs-string">`<span class="hljs-subst">${prefix}</span><span class="hljs-subst">${i}</span>`</span>;
        <span class="hljs-keyword">if</span> (!exclude.<span class="hljs-title function_">has</span>(name))
            <span class="hljs-keyword">return</span> name;
    }
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createNodeAnchors</span>(<span class="hljs-params">doc, prefix</span>) {
    <span class="hljs-keyword">const</span> aliasObjects = [];
    <span class="hljs-keyword">const</span> sourceObjects = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    <span class="hljs-keyword">let</span> prevAnchors = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">onAnchor</span>: <span class="hljs-function">(<span class="hljs-params">source</span>) =&gt;</span> {
            aliasObjects.<span class="hljs-title function_">push</span>(source);
            <span class="hljs-keyword">if</span> (!prevAnchors)
                prevAnchors = <span class="hljs-title function_">anchorNames</span>(doc);
            <span class="hljs-keyword">const</span> anchor = <span class="hljs-title function_">findNewAnchor</span>(prefix, prevAnchors);
            prevAnchors.<span class="hljs-title function_">add</span>(anchor);
            <span class="hljs-keyword">return</span> anchor;
        },
        <span class="hljs-comment">/**
         * With circular references, the source node is only resolved after all
         * of its child nodes are. This is why anchors are set only after all of
         * the nodes have been created.
         */</span>
        <span class="hljs-attr">setAnchors</span>: <span class="hljs-function">() =&gt;</span> {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> source <span class="hljs-keyword">of</span> aliasObjects) {
                <span class="hljs-keyword">const</span> ref = sourceObjects.<span class="hljs-title function_">get</span>(source);
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> ref === <span class="hljs-string">&#x27;object&#x27;</span> &amp;&amp;
                    ref.<span class="hljs-property">anchor</span> &amp;&amp;
                    (<span class="hljs-title function_">isScalar</span>(ref.<span class="hljs-property">node</span>) || <span class="hljs-title function_">isCollection</span>(ref.<span class="hljs-property">node</span>))) {
                    ref.<span class="hljs-property">node</span>.<span class="hljs-property">anchor</span> = ref.<span class="hljs-property">anchor</span>;
                }
                <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">const</span> error = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Failed to resolve repeated object (this should not happen)&#x27;</span>);
                    error.<span class="hljs-property">source</span> = source;
                    <span class="hljs-keyword">throw</span> error;
                }
            }
        },
        sourceObjects
    };
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/nodes/Alias.js</span>




<span class="hljs-keyword">class</span> <span class="hljs-title class_">Alias</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeBase</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">source</span>) {
        <span class="hljs-variable language_">super</span>(<span class="hljs-variable constant_">ALIAS</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">source</span> = source;
        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-string">&#x27;tag&#x27;</span>, {
            <span class="hljs-title function_">set</span>(<span class="hljs-params"></span>) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Alias nodes cannot have tags&#x27;</span>);
            }
        });
    }
    <span class="hljs-comment">/**
     * Resolve the value of this alias within `doc`, finding the last
     * instance of the `source` anchor before this node.
     */</span>
    <span class="hljs-title function_">resolve</span>(<span class="hljs-params">doc</span>) {
        <span class="hljs-keyword">let</span> found = <span class="hljs-literal">undefined</span>;
        <span class="hljs-title function_">visit</span>(doc, {
            <span class="hljs-title class_">Node</span>: <span class="hljs-function">(<span class="hljs-params">_key, node</span>) =&gt;</span> {
                <span class="hljs-keyword">if</span> (node === <span class="hljs-variable language_">this</span>)
                    <span class="hljs-keyword">return</span> visit.<span class="hljs-property">BREAK</span>;
                <span class="hljs-keyword">if</span> (node.<span class="hljs-property">anchor</span> === <span class="hljs-variable language_">this</span>.<span class="hljs-property">source</span>)
                    found = node;
            }
        });
        <span class="hljs-keyword">return</span> found;
    }
    <span class="hljs-title function_">toJSON</span>(<span class="hljs-params">_arg, ctx</span>) {
        <span class="hljs-keyword">if</span> (!ctx)
            <span class="hljs-keyword">return</span> { <span class="hljs-attr">source</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">source</span> };
        <span class="hljs-keyword">const</span> { anchors, doc, maxAliasCount } = ctx;
        <span class="hljs-keyword">const</span> source = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">resolve</span>(doc);
        <span class="hljs-keyword">if</span> (!source) {
            <span class="hljs-keyword">const</span> msg = <span class="hljs-string">`Unresolved alias (the anchor must be set before the alias): <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.source}</span>`</span>;
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReferenceError</span>(msg);
        }
        <span class="hljs-keyword">const</span> data = anchors.<span class="hljs-title function_">get</span>(source);
        <span class="hljs-comment">/* istanbul ignore if */</span>
        <span class="hljs-keyword">if</span> (!data || data.<span class="hljs-property">res</span> === <span class="hljs-literal">undefined</span>) {
            <span class="hljs-keyword">const</span> msg = <span class="hljs-string">&#x27;This should not happen: Alias anchor was not resolved?&#x27;</span>;
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReferenceError</span>(msg);
        }
        <span class="hljs-keyword">if</span> (maxAliasCount &gt;= <span class="hljs-number">0</span>) {
            data.<span class="hljs-property">count</span> += <span class="hljs-number">1</span>;
            <span class="hljs-keyword">if</span> (data.<span class="hljs-property">aliasCount</span> === <span class="hljs-number">0</span>)
                data.<span class="hljs-property">aliasCount</span> = <span class="hljs-title function_">getAliasCount</span>(doc, source, anchors);
            <span class="hljs-keyword">if</span> (data.<span class="hljs-property">count</span> * data.<span class="hljs-property">aliasCount</span> &gt; maxAliasCount) {
                <span class="hljs-keyword">const</span> msg = <span class="hljs-string">&#x27;Excessive alias count indicates a resource exhaustion attack&#x27;</span>;
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReferenceError</span>(msg);
            }
        }
        <span class="hljs-keyword">return</span> data.<span class="hljs-property">res</span>;
    }
    <span class="hljs-title function_">toString</span>(<span class="hljs-params">ctx, _onComment, _onChompKeep</span>) {
        <span class="hljs-keyword">const</span> src = <span class="hljs-string">`*<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.source}</span>`</span>;
        <span class="hljs-keyword">if</span> (ctx) {
            <span class="hljs-title function_">anchorIsValid</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">source</span>);
            <span class="hljs-keyword">if</span> (ctx.<span class="hljs-property">options</span>.<span class="hljs-property">verifyAliasOrder</span> &amp;&amp; !ctx.<span class="hljs-property">anchors</span>.<span class="hljs-title function_">has</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">source</span>)) {
                <span class="hljs-keyword">const</span> msg = <span class="hljs-string">`Unresolved alias (the anchor must be set before the alias): <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.source}</span>`</span>;
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(msg);
            }
            <span class="hljs-keyword">if</span> (ctx.<span class="hljs-property">implicitKey</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${src}</span> `</span>;
        }
        <span class="hljs-keyword">return</span> src;
    }
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getAliasCount</span>(<span class="hljs-params">doc, node, anchors</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isAlias</span>(node)) {
        <span class="hljs-keyword">const</span> source = node.<span class="hljs-title function_">resolve</span>(doc);
        <span class="hljs-keyword">const</span> anchor = anchors &amp;&amp; source &amp;&amp; anchors.<span class="hljs-title function_">get</span>(source);
        <span class="hljs-keyword">return</span> anchor ? anchor.<span class="hljs-property">count</span> * anchor.<span class="hljs-property">aliasCount</span> : <span class="hljs-number">0</span>;
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isCollection</span>(node)) {
        <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> item <span class="hljs-keyword">of</span> node.<span class="hljs-property">items</span>) {
            <span class="hljs-keyword">const</span> c = <span class="hljs-title function_">getAliasCount</span>(doc, item, anchors);
            <span class="hljs-keyword">if</span> (c &gt; count)
                count = c;
        }
        <span class="hljs-keyword">return</span> count;
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isPair</span>(node)) {
        <span class="hljs-keyword">const</span> kc = <span class="hljs-title function_">getAliasCount</span>(doc, node.<span class="hljs-property">key</span>, anchors);
        <span class="hljs-keyword">const</span> vc = <span class="hljs-title function_">getAliasCount</span>(doc, node.<span class="hljs-property">value</span>, anchors);
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(kc, vc);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/nodes/toJS.js</span>


<span class="hljs-comment">/**
 * Recursively convert any node or its contents to native JavaScript
 *
 * <span class="hljs-doctag">@param</span> <span class="hljs-variable">value</span> - The input value
 * <span class="hljs-doctag">@param</span> <span class="hljs-variable">arg</span> - If `value` defines a `toJSON()` method, use this
 *   as its first argument
 * <span class="hljs-doctag">@param</span> <span class="hljs-variable">ctx</span> - Conversion context, originally set in Document#toJS(). If
 *   `{ keep: true }` is not set, output should be suitable for JSON
 *   stringification.
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">toJS</span>(<span class="hljs-params">value, arg, ctx</span>) {
    <span class="hljs-comment">// eslint-disable-next-line @typescript-eslint/no-unsafe-return</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(value))
        <span class="hljs-keyword">return</span> value.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">v, i</span>) =&gt;</span> <span class="hljs-title function_">toJS</span>(v, <span class="hljs-title class_">String</span>(i), ctx));
    <span class="hljs-keyword">if</span> (value &amp;&amp; <span class="hljs-keyword">typeof</span> value.<span class="hljs-property">toJSON</span> === <span class="hljs-string">&#x27;function&#x27;</span>) {
        <span class="hljs-comment">// eslint-disable-next-line @typescript-eslint/no-unsafe-call</span>
        <span class="hljs-keyword">if</span> (!ctx || !<span class="hljs-title function_">hasAnchor</span>(value))
            <span class="hljs-keyword">return</span> value.<span class="hljs-title function_">toJSON</span>(arg, ctx);
        <span class="hljs-keyword">const</span> data = { <span class="hljs-attr">aliasCount</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">count</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">res</span>: <span class="hljs-literal">undefined</span> };
        ctx.<span class="hljs-property">anchors</span>.<span class="hljs-title function_">set</span>(value, data);
        ctx.<span class="hljs-property">onCreate</span> = <span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> {
            data.<span class="hljs-property">res</span> = res;
            <span class="hljs-keyword">delete</span> ctx.<span class="hljs-property">onCreate</span>;
        };
        <span class="hljs-keyword">const</span> res = value.<span class="hljs-title function_">toJSON</span>(arg, ctx);
        <span class="hljs-keyword">if</span> (ctx.<span class="hljs-property">onCreate</span>)
            ctx.<span class="hljs-title function_">onCreate</span>(res);
        <span class="hljs-keyword">return</span> res;
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&#x27;bigint&#x27;</span> &amp;&amp; !ctx?.<span class="hljs-property">keep</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Number</span>(value);
    <span class="hljs-keyword">return</span> value;
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/nodes/Scalar.js</span>



<span class="hljs-keyword">const</span> <span class="hljs-title function_">isScalarValue</span> = (<span class="hljs-params">value</span>) =&gt; !value || (<span class="hljs-keyword">typeof</span> value !== <span class="hljs-string">&#x27;function&#x27;</span> &amp;&amp; <span class="hljs-keyword">typeof</span> value !== <span class="hljs-string">&#x27;object&#x27;</span>);
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Scalar</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeBase</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">value</span>) {
        <span class="hljs-variable language_">super</span>(<span class="hljs-variable constant_">SCALAR</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = value;
    }
    <span class="hljs-title function_">toJSON</span>(<span class="hljs-params">arg, ctx</span>) {
        <span class="hljs-keyword">return</span> ctx?.<span class="hljs-property">keep</span> ? <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> : <span class="hljs-title function_">toJS</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>, arg, ctx);
    }
    <span class="hljs-title function_">toString</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">String</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>);
    }
}
<span class="hljs-title class_">Scalar</span>.<span class="hljs-property">BLOCK_FOLDED</span> = <span class="hljs-string">&#x27;BLOCK_FOLDED&#x27;</span>;
<span class="hljs-title class_">Scalar</span>.<span class="hljs-property">BLOCK_LITERAL</span> = <span class="hljs-string">&#x27;BLOCK_LITERAL&#x27;</span>;
<span class="hljs-title class_">Scalar</span>.<span class="hljs-property">PLAIN</span> = <span class="hljs-string">&#x27;PLAIN&#x27;</span>;
<span class="hljs-title class_">Scalar</span>.<span class="hljs-property">QUOTE_DOUBLE</span> = <span class="hljs-string">&#x27;QUOTE_DOUBLE&#x27;</span>;
<span class="hljs-title class_">Scalar</span>.<span class="hljs-property">QUOTE_SINGLE</span> = <span class="hljs-string">&#x27;QUOTE_SINGLE&#x27;</span>;



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/doc/createNode.js</span>




<span class="hljs-keyword">const</span> defaultTagPrefix = <span class="hljs-string">&#x27;tag:yaml.org,2002:&#x27;</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">findTagObject</span>(<span class="hljs-params">value, tagName, tags</span>) {
    <span class="hljs-keyword">if</span> (tagName) {
        <span class="hljs-keyword">const</span> match = tags.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">tag</span> === tagName);
        <span class="hljs-keyword">const</span> tagObj = match.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> !t.<span class="hljs-property">format</span>) ?? match[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">if</span> (!tagObj)
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Tag <span class="hljs-subst">${tagName}</span> not found`</span>);
        <span class="hljs-keyword">return</span> tagObj;
    }
    <span class="hljs-keyword">return</span> tags.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">identify</span>?.(value) &amp;&amp; !t.<span class="hljs-property">format</span>);
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createNode</span>(<span class="hljs-params">value, tagName, ctx</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isDocument</span>(value))
        value = value.<span class="hljs-property">contents</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isNode</span>(value))
        <span class="hljs-keyword">return</span> value;
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isPair</span>(value)) {
        <span class="hljs-keyword">const</span> map = ctx.<span class="hljs-property">schema</span>[<span class="hljs-variable constant_">MAP</span>].<span class="hljs-property">createNode</span>?.(ctx.<span class="hljs-property">schema</span>, <span class="hljs-literal">null</span>, ctx);
        map.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>(value);
        <span class="hljs-keyword">return</span> map;
    }
    <span class="hljs-keyword">if</span> (value <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">String</span> ||
        value <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Number</span> ||
        value <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Boolean</span> ||
        (<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">BigInt</span> !== <span class="hljs-string">&#x27;undefined&#x27;</span> &amp;&amp; value <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">BigInt</span>) <span class="hljs-comment">// not supported everywhere</span>
    ) {
        <span class="hljs-comment">// https://tc39.es/ecma262/#sec-serializejsonproperty</span>
        value = value.<span class="hljs-title function_">valueOf</span>();
    }
    <span class="hljs-keyword">const</span> { aliasDuplicateObjects, onAnchor, onTagObj, schema, sourceObjects } = ctx;
    <span class="hljs-comment">// Detect duplicate references to the same object &amp; use Alias nodes for all</span>
    <span class="hljs-comment">// after first. The `ref` wrapper allows for circular references to resolve.</span>
    <span class="hljs-keyword">let</span> ref = <span class="hljs-literal">undefined</span>;
    <span class="hljs-keyword">if</span> (aliasDuplicateObjects &amp;&amp; value &amp;&amp; <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&#x27;object&#x27;</span>) {
        ref = sourceObjects.<span class="hljs-title function_">get</span>(value);
        <span class="hljs-keyword">if</span> (ref) {
            <span class="hljs-keyword">if</span> (!ref.<span class="hljs-property">anchor</span>)
                ref.<span class="hljs-property">anchor</span> = <span class="hljs-title function_">onAnchor</span>(value);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Alias</span>(ref.<span class="hljs-property">anchor</span>);
        }
        <span class="hljs-keyword">else</span> {
            ref = { <span class="hljs-attr">anchor</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">node</span>: <span class="hljs-literal">null</span> };
            sourceObjects.<span class="hljs-title function_">set</span>(value, ref);
        }
    }
    <span class="hljs-keyword">if</span> (tagName?.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">&#x27;!!&#x27;</span>))
        tagName = defaultTagPrefix + tagName.<span class="hljs-title function_">slice</span>(<span class="hljs-number">2</span>);
    <span class="hljs-keyword">let</span> tagObj = <span class="hljs-title function_">findTagObject</span>(value, tagName, schema.<span class="hljs-property">tags</span>);
    <span class="hljs-keyword">if</span> (!tagObj) {
        <span class="hljs-keyword">if</span> (value &amp;&amp; <span class="hljs-keyword">typeof</span> value.<span class="hljs-property">toJSON</span> === <span class="hljs-string">&#x27;function&#x27;</span>) {
            <span class="hljs-comment">// eslint-disable-next-line @typescript-eslint/no-unsafe-call</span>
            value = value.<span class="hljs-title function_">toJSON</span>();
        }
        <span class="hljs-keyword">if</span> (!value || <span class="hljs-keyword">typeof</span> value !== <span class="hljs-string">&#x27;object&#x27;</span>) {
            <span class="hljs-keyword">const</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scalar</span>(value);
            <span class="hljs-keyword">if</span> (ref)
                ref.<span class="hljs-property">node</span> = node;
            <span class="hljs-keyword">return</span> node;
        }
        tagObj =
            value <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Map</span>
                ? schema[<span class="hljs-variable constant_">MAP</span>]
                : <span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span> <span class="hljs-keyword">in</span> <span class="hljs-title class_">Object</span>(value)
                    ? schema[<span class="hljs-variable constant_">SEQ</span>]
                    : schema[<span class="hljs-variable constant_">MAP</span>];
    }
    <span class="hljs-keyword">if</span> (onTagObj) {
        <span class="hljs-title function_">onTagObj</span>(tagObj);
        <span class="hljs-keyword">delete</span> ctx.<span class="hljs-property">onTagObj</span>;
    }
    <span class="hljs-keyword">const</span> node = tagObj?.<span class="hljs-property">createNode</span>
        ? tagObj.<span class="hljs-title function_">createNode</span>(ctx.<span class="hljs-property">schema</span>, value, ctx)
        : <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scalar</span>(value);
    <span class="hljs-keyword">if</span> (tagName)
        node.<span class="hljs-property">tag</span> = tagName;
    <span class="hljs-keyword">if</span> (ref)
        ref.<span class="hljs-property">node</span> = node;
    <span class="hljs-keyword">return</span> node;
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/nodes/Collection.js</span>



<span class="hljs-keyword">function</span> <span class="hljs-title function_">collectionFromPath</span>(<span class="hljs-params">schema, path, value</span>) {
    <span class="hljs-keyword">let</span> v = value;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = path.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; --i) {
        <span class="hljs-keyword">const</span> k = path[i];
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> k === <span class="hljs-string">&#x27;number&#x27;</span> &amp;&amp; <span class="hljs-title class_">Number</span>.<span class="hljs-title function_">isInteger</span>(k) &amp;&amp; k &gt;= <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">const</span> a = [];
            a[k] = v;
            v = a;
        }
        <span class="hljs-keyword">else</span> {
            v = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>([[k, v]]);
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">createNode</span>(v, <span class="hljs-literal">undefined</span>, {
        <span class="hljs-attr">aliasDuplicateObjects</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">keepUndefined</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">onAnchor</span>: <span class="hljs-function">() =&gt;</span> {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;This should not happen, please report a bug.&#x27;</span>);
        },
        schema,
        <span class="hljs-attr">sourceObjects</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>()
    });
}
<span class="hljs-comment">// Type guard is intentionally a little wrong so as to be more useful,</span>
<span class="hljs-comment">// as it does not cover untypable empty non-string iterables (e.g. []).</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">isEmptyPath</span> = (<span class="hljs-params">path</span>) =&gt; path == <span class="hljs-literal">null</span> ||
    (<span class="hljs-keyword">typeof</span> path === <span class="hljs-string">&#x27;object&#x27;</span> &amp;&amp; !!path[<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>]().<span class="hljs-title function_">next</span>().<span class="hljs-property">done</span>);
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Collection</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeBase</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">type, schema</span>) {
        <span class="hljs-variable language_">super</span>(type);
        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-string">&#x27;schema&#x27;</span>, {
            <span class="hljs-attr">value</span>: schema,
            <span class="hljs-attr">configurable</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">writable</span>: <span class="hljs-literal">true</span>
        });
    }
    <span class="hljs-comment">/**
     * Create a copy of this collection.
     *
     * <span class="hljs-doctag">@param</span> <span class="hljs-variable">schema</span> - If defined, overwrites the original&#x27;s schema
     */</span>
    <span class="hljs-title function_">clone</span>(<span class="hljs-params">schema</span>) {
        <span class="hljs-keyword">const</span> copy = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(<span class="hljs-variable language_">this</span>), <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertyDescriptors</span>(<span class="hljs-variable language_">this</span>));
        <span class="hljs-keyword">if</span> (schema)
            copy.<span class="hljs-property">schema</span> = schema;
        copy.<span class="hljs-property">items</span> = copy.<span class="hljs-property">items</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">it</span> =&gt;</span> <span class="hljs-title function_">isNode</span>(it) || <span class="hljs-title function_">isPair</span>(it) ? it.<span class="hljs-title function_">clone</span>(schema) : it);
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">range</span>)
            copy.<span class="hljs-property">range</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">range</span>.<span class="hljs-title function_">slice</span>();
        <span class="hljs-keyword">return</span> copy;
    }
    <span class="hljs-comment">/**
     * Adds a value to the collection. For `!!map` and `!!omap` the value must
     * be a Pair instance or a `{ key, value }` object, which may not have a key
     * that already exists in the map.
     */</span>
    <span class="hljs-title function_">addIn</span>(<span class="hljs-params">path, value</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isEmptyPath</span>(path))
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">add</span>(value);
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">const</span> [key, ...rest] = path;
            <span class="hljs-keyword">const</span> node = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">get</span>(key, <span class="hljs-literal">true</span>);
            <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isCollection</span>(node))
                node.<span class="hljs-title function_">addIn</span>(rest, value);
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (node === <span class="hljs-literal">undefined</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">schema</span>)
                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">set</span>(key, <span class="hljs-title function_">collectionFromPath</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">schema</span>, rest, value));
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Expected YAML collection at <span class="hljs-subst">${key}</span>. Remaining path: <span class="hljs-subst">${rest}</span>`</span>);
        }
    }
    <span class="hljs-comment">/**
     * Removes a value from the collection.
     * <span class="hljs-doctag">@returns</span> `true` if the item was found and removed.
     */</span>
    <span class="hljs-title function_">deleteIn</span>(<span class="hljs-params">path</span>) {
        <span class="hljs-keyword">const</span> [key, ...rest] = path;
        <span class="hljs-keyword">if</span> (rest.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">delete</span>(key);
        <span class="hljs-keyword">const</span> node = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">get</span>(key, <span class="hljs-literal">true</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isCollection</span>(node))
            <span class="hljs-keyword">return</span> node.<span class="hljs-title function_">deleteIn</span>(rest);
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Expected YAML collection at <span class="hljs-subst">${key}</span>. Remaining path: <span class="hljs-subst">${rest}</span>`</span>);
    }
    <span class="hljs-comment">/**
     * Returns item at `key`, or `undefined` if not found. By default unwraps
     * scalar values from their surrounding node; to disable set `keepScalar` to
     * `true` (collections are always returned intact).
     */</span>
    <span class="hljs-title function_">getIn</span>(<span class="hljs-params">path, keepScalar</span>) {
        <span class="hljs-keyword">const</span> [key, ...rest] = path;
        <span class="hljs-keyword">const</span> node = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">get</span>(key, <span class="hljs-literal">true</span>);
        <span class="hljs-keyword">if</span> (rest.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> !keepScalar &amp;&amp; <span class="hljs-title function_">isScalar</span>(node) ? node.<span class="hljs-property">value</span> : node;
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">return</span> <span class="hljs-title function_">isCollection</span>(node) ? node.<span class="hljs-title function_">getIn</span>(rest, keepScalar) : <span class="hljs-literal">undefined</span>;
    }
    <span class="hljs-title function_">hasAllNullValues</span>(<span class="hljs-params">allowScalar</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">every</span>(<span class="hljs-function"><span class="hljs-params">node</span> =&gt;</span> {
            <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isPair</span>(node))
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">const</span> n = node.<span class="hljs-property">value</span>;
            <span class="hljs-keyword">return</span> (n == <span class="hljs-literal">null</span> ||
                (allowScalar &amp;&amp;
                    <span class="hljs-title function_">isScalar</span>(n) &amp;&amp;
                    n.<span class="hljs-property">value</span> == <span class="hljs-literal">null</span> &amp;&amp;
                    !n.<span class="hljs-property">commentBefore</span> &amp;&amp;
                    !n.<span class="hljs-property">comment</span> &amp;&amp;
                    !n.<span class="hljs-property">tag</span>));
        });
    }
    <span class="hljs-comment">/**
     * Checks if the collection includes a value with the key `key`.
     */</span>
    <span class="hljs-title function_">hasIn</span>(<span class="hljs-params">path</span>) {
        <span class="hljs-keyword">const</span> [key, ...rest] = path;
        <span class="hljs-keyword">if</span> (rest.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">has</span>(key);
        <span class="hljs-keyword">const</span> node = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">get</span>(key, <span class="hljs-literal">true</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">isCollection</span>(node) ? node.<span class="hljs-title function_">hasIn</span>(rest) : <span class="hljs-literal">false</span>;
    }
    <span class="hljs-comment">/**
     * Sets a value in this collection. For `!!set`, `value` needs to be a
     * boolean to add/remove the item from the set.
     */</span>
    <span class="hljs-title function_">setIn</span>(<span class="hljs-params">path, value</span>) {
        <span class="hljs-keyword">const</span> [key, ...rest] = path;
        <span class="hljs-keyword">if</span> (rest.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">set</span>(key, value);
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">const</span> node = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">get</span>(key, <span class="hljs-literal">true</span>);
            <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isCollection</span>(node))
                node.<span class="hljs-title function_">setIn</span>(rest, value);
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (node === <span class="hljs-literal">undefined</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">schema</span>)
                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">set</span>(key, <span class="hljs-title function_">collectionFromPath</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">schema</span>, rest, value));
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Expected YAML collection at <span class="hljs-subst">${key}</span>. Remaining path: <span class="hljs-subst">${rest}</span>`</span>);
        }
    }
}
<span class="hljs-title class_">Collection</span>.<span class="hljs-property">maxFlowStringSingleLineLength</span> = <span class="hljs-number">60</span>;



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/stringify/stringifyComment.js</span>
<span class="hljs-comment">/**
 * Stringifies a comment.
 *
 * Empty comment lines are left empty,
 * lines consisting of a single space are replaced by `#`,
 * and all other lines are prefixed with a `#`.
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">stringifyComment</span> = (<span class="hljs-params">str</span>) =&gt; str.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^(?!$)(?: $)?/gm</span>, <span class="hljs-string">&#x27;#&#x27;</span>);
<span class="hljs-keyword">function</span> <span class="hljs-title function_">indentComment</span>(<span class="hljs-params">comment, indent</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/^\n+$/</span>.<span class="hljs-title function_">test</span>(comment))
        <span class="hljs-keyword">return</span> comment.<span class="hljs-title function_">substring</span>(<span class="hljs-number">1</span>);
    <span class="hljs-keyword">return</span> indent ? comment.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^(?! *$)/gm</span>, indent) : comment;
}
<span class="hljs-keyword">const</span> <span class="hljs-title function_">lineComment</span> = (<span class="hljs-params">str, indent, comment</span>) =&gt; str.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">&#x27;\n&#x27;</span>)
    ? <span class="hljs-title function_">indentComment</span>(comment, indent)
    : comment.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&#x27;\n&#x27;</span>)
        ? <span class="hljs-string">&#x27;\n&#x27;</span> + <span class="hljs-title function_">indentComment</span>(comment, indent)
        : (str.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">&#x27; &#x27;</span>) ? <span class="hljs-string">&#x27;&#x27;</span> : <span class="hljs-string">&#x27; &#x27;</span>) + comment;



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/stringify/foldFlowLines.js</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">FOLD_FLOW</span> = <span class="hljs-string">&#x27;flow&#x27;</span>;
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">FOLD_BLOCK</span> = <span class="hljs-string">&#x27;block&#x27;</span>;
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">FOLD_QUOTED</span> = <span class="hljs-string">&#x27;quoted&#x27;</span>;
<span class="hljs-comment">/**
 * Tries to keep input at up to `lineWidth` characters, splitting only on spaces
 * not followed by newlines or spaces unless `mode` is `&#x27;quoted&#x27;`. Lines are
 * terminated with `\n` and started with `indent`.
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">foldFlowLines</span>(<span class="hljs-params">text, indent, mode = <span class="hljs-string">&#x27;flow&#x27;</span>, { indentAtStart, lineWidth = <span class="hljs-number">80</span>, minContentWidth = <span class="hljs-number">20</span>, onFold, onOverflow } = {}</span>) {
    <span class="hljs-keyword">if</span> (!lineWidth || lineWidth &lt; <span class="hljs-number">0</span>)
        <span class="hljs-keyword">return</span> text;
    <span class="hljs-keyword">const</span> endStep = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">1</span> + minContentWidth, <span class="hljs-number">1</span> + lineWidth - indent.<span class="hljs-property">length</span>);
    <span class="hljs-keyword">if</span> (text.<span class="hljs-property">length</span> &lt;= endStep)
        <span class="hljs-keyword">return</span> text;
    <span class="hljs-keyword">const</span> folds = [];
    <span class="hljs-keyword">const</span> escapedFolds = {};
    <span class="hljs-keyword">let</span> end = lineWidth - indent.<span class="hljs-property">length</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> indentAtStart === <span class="hljs-string">&#x27;number&#x27;</span>) {
        <span class="hljs-keyword">if</span> (indentAtStart &gt; lineWidth - <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">2</span>, minContentWidth))
            folds.<span class="hljs-title function_">push</span>(<span class="hljs-number">0</span>);
        <span class="hljs-keyword">else</span>
            end = lineWidth - indentAtStart;
    }
    <span class="hljs-keyword">let</span> split = <span class="hljs-literal">undefined</span>;
    <span class="hljs-keyword">let</span> prev = <span class="hljs-literal">undefined</span>;
    <span class="hljs-keyword">let</span> overflow = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">let</span> i = -<span class="hljs-number">1</span>;
    <span class="hljs-keyword">let</span> escStart = -<span class="hljs-number">1</span>;
    <span class="hljs-keyword">let</span> escEnd = -<span class="hljs-number">1</span>;
    <span class="hljs-keyword">if</span> (mode === <span class="hljs-variable constant_">FOLD_BLOCK</span>) {
        i = <span class="hljs-title function_">consumeMoreIndentedLines</span>(text, i);
        <span class="hljs-keyword">if</span> (i !== -<span class="hljs-number">1</span>)
            end = i + endStep;
    }
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> ch; (ch = text[(i += <span class="hljs-number">1</span>)]);) {
        <span class="hljs-keyword">if</span> (mode === <span class="hljs-variable constant_">FOLD_QUOTED</span> &amp;&amp; ch === <span class="hljs-string">&#x27;\\&#x27;</span>) {
            escStart = i;
            <span class="hljs-keyword">switch</span> (text[i + <span class="hljs-number">1</span>]) {
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;x&#x27;</span>:
                    i += <span class="hljs-number">3</span>;
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;u&#x27;</span>:
                    i += <span class="hljs-number">5</span>;
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;U&#x27;</span>:
                    i += <span class="hljs-number">9</span>;
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-attr">default</span>:
                    i += <span class="hljs-number">1</span>;
            }
            escEnd = i;
        }
        <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">&#x27;\n&#x27;</span>) {
            <span class="hljs-keyword">if</span> (mode === <span class="hljs-variable constant_">FOLD_BLOCK</span>)
                i = <span class="hljs-title function_">consumeMoreIndentedLines</span>(text, i);
            end = i + endStep;
            split = <span class="hljs-literal">undefined</span>;
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">&#x27; &#x27;</span> &amp;&amp;
                prev &amp;&amp;
                prev !== <span class="hljs-string">&#x27; &#x27;</span> &amp;&amp;
                prev !== <span class="hljs-string">&#x27;\n&#x27;</span> &amp;&amp;
                prev !== <span class="hljs-string">&#x27;\t&#x27;</span>) {
                <span class="hljs-comment">// space surrounded by non-space can be replaced with newline + indent</span>
                <span class="hljs-keyword">const</span> next = text[i + <span class="hljs-number">1</span>];
                <span class="hljs-keyword">if</span> (next &amp;&amp; next !== <span class="hljs-string">&#x27; &#x27;</span> &amp;&amp; next !== <span class="hljs-string">&#x27;\n&#x27;</span> &amp;&amp; next !== <span class="hljs-string">&#x27;\t&#x27;</span>)
                    split = i;
            }
            <span class="hljs-keyword">if</span> (i &gt;= end) {
                <span class="hljs-keyword">if</span> (split) {
                    folds.<span class="hljs-title function_">push</span>(split);
                    end = split + endStep;
                    split = <span class="hljs-literal">undefined</span>;
                }
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (mode === <span class="hljs-variable constant_">FOLD_QUOTED</span>) {
                    <span class="hljs-comment">// white-space collected at end may stretch past lineWidth</span>
                    <span class="hljs-keyword">while</span> (prev === <span class="hljs-string">&#x27; &#x27;</span> || prev === <span class="hljs-string">&#x27;\t&#x27;</span>) {
                        prev = ch;
                        ch = text[(i += <span class="hljs-number">1</span>)];
                        overflow = <span class="hljs-literal">true</span>;
                    }
                    <span class="hljs-comment">// Account for newline escape, but don&#x27;t break preceding escape</span>
                    <span class="hljs-keyword">const</span> j = i &gt; escEnd + <span class="hljs-number">1</span> ? i - <span class="hljs-number">2</span> : escStart - <span class="hljs-number">1</span>;
                    <span class="hljs-comment">// Bail out if lineWidth &amp; minContentWidth are shorter than an escape string</span>
                    <span class="hljs-keyword">if</span> (escapedFolds[j])
                        <span class="hljs-keyword">return</span> text;
                    folds.<span class="hljs-title function_">push</span>(j);
                    escapedFolds[j] = <span class="hljs-literal">true</span>;
                    end = j + endStep;
                    split = <span class="hljs-literal">undefined</span>;
                }
                <span class="hljs-keyword">else</span> {
                    overflow = <span class="hljs-literal">true</span>;
                }
            }
        }
        prev = ch;
    }
    <span class="hljs-keyword">if</span> (overflow &amp;&amp; onOverflow)
        <span class="hljs-title function_">onOverflow</span>();
    <span class="hljs-keyword">if</span> (folds.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>)
        <span class="hljs-keyword">return</span> text;
    <span class="hljs-keyword">if</span> (onFold)
        <span class="hljs-title function_">onFold</span>();
    <span class="hljs-keyword">let</span> res = text.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, folds[<span class="hljs-number">0</span>]);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; folds.<span class="hljs-property">length</span>; ++i) {
        <span class="hljs-keyword">const</span> fold = folds[i];
        <span class="hljs-keyword">const</span> end = folds[i + <span class="hljs-number">1</span>] || text.<span class="hljs-property">length</span>;
        <span class="hljs-keyword">if</span> (fold === <span class="hljs-number">0</span>)
            res = <span class="hljs-string">`\n<span class="hljs-subst">${indent}</span><span class="hljs-subst">${text.slice(<span class="hljs-number">0</span>, end)}</span>`</span>;
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (mode === <span class="hljs-variable constant_">FOLD_QUOTED</span> &amp;&amp; escapedFolds[fold])
                res += <span class="hljs-string">`<span class="hljs-subst">${text[fold]}</span>\\`</span>;
            res += <span class="hljs-string">`\n<span class="hljs-subst">${indent}</span><span class="hljs-subst">${text.slice(fold + <span class="hljs-number">1</span>, end)}</span>`</span>;
        }
    }
    <span class="hljs-keyword">return</span> res;
}
<span class="hljs-comment">/**
 * Presumes `i + 1` is at the start of a line
 * <span class="hljs-doctag">@returns</span> index of last newline in more-indented block
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">consumeMoreIndentedLines</span>(<span class="hljs-params">text, i</span>) {
    <span class="hljs-keyword">let</span> ch = text[i + <span class="hljs-number">1</span>];
    <span class="hljs-keyword">while</span> (ch === <span class="hljs-string">&#x27; &#x27;</span> || ch === <span class="hljs-string">&#x27;\t&#x27;</span>) {
        <span class="hljs-keyword">do</span> {
            ch = text[(i += <span class="hljs-number">1</span>)];
        } <span class="hljs-keyword">while</span> (ch &amp;&amp; ch !== <span class="hljs-string">&#x27;\n&#x27;</span>);
        ch = text[i + <span class="hljs-number">1</span>];
    }
    <span class="hljs-keyword">return</span> i;
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/stringify/stringifyString.js</span>



<span class="hljs-keyword">const</span> <span class="hljs-title function_">getFoldOptions</span> = (<span class="hljs-params">ctx</span>) =&gt; ({
    <span class="hljs-attr">indentAtStart</span>: ctx.<span class="hljs-property">indentAtStart</span>,
    <span class="hljs-attr">lineWidth</span>: ctx.<span class="hljs-property">options</span>.<span class="hljs-property">lineWidth</span>,
    <span class="hljs-attr">minContentWidth</span>: ctx.<span class="hljs-property">options</span>.<span class="hljs-property">minContentWidth</span>
});
<span class="hljs-comment">// Also checks for lines starting with %, as parsing the output as YAML 1.1 will</span>
<span class="hljs-comment">// presume that&#x27;s starting a new document.</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">containsDocumentMarker</span> = (<span class="hljs-params">str</span>) =&gt; <span class="hljs-regexp">/^(%|---|\.\.\.)/m</span>.<span class="hljs-title function_">test</span>(str);
<span class="hljs-keyword">function</span> <span class="hljs-title function_">lineLengthOverLimit</span>(<span class="hljs-params">str, lineWidth, indentLength</span>) {
    <span class="hljs-keyword">if</span> (!lineWidth || lineWidth &lt; <span class="hljs-number">0</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">const</span> limit = lineWidth - indentLength;
    <span class="hljs-keyword">const</span> strLen = str.<span class="hljs-property">length</span>;
    <span class="hljs-keyword">if</span> (strLen &lt;= limit)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>, start = <span class="hljs-number">0</span>; i &lt; strLen; ++i) {
        <span class="hljs-keyword">if</span> (str[i] === <span class="hljs-string">&#x27;\n&#x27;</span>) {
            <span class="hljs-keyword">if</span> (i - start &gt; limit)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            start = i + <span class="hljs-number">1</span>;
            <span class="hljs-keyword">if</span> (strLen - start &lt;= limit)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">doubleQuotedString</span>(<span class="hljs-params">value, ctx</span>) {
    <span class="hljs-keyword">const</span> json = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(value);
    <span class="hljs-keyword">if</span> (ctx.<span class="hljs-property">options</span>.<span class="hljs-property">doubleQuotedAsJSON</span>)
        <span class="hljs-keyword">return</span> json;
    <span class="hljs-keyword">const</span> { implicitKey } = ctx;
    <span class="hljs-keyword">const</span> minMultiLineLength = ctx.<span class="hljs-property">options</span>.<span class="hljs-property">doubleQuotedMinMultiLineLength</span>;
    <span class="hljs-keyword">const</span> indent = ctx.<span class="hljs-property">indent</span> || (<span class="hljs-title function_">containsDocumentMarker</span>(value) ? <span class="hljs-string">&#x27;  &#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>);
    <span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;&#x27;</span>;
    <span class="hljs-keyword">let</span> start = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>, ch = json[i]; ch; ch = json[++i]) {
        <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">&#x27; &#x27;</span> &amp;&amp; json[i + <span class="hljs-number">1</span>] === <span class="hljs-string">&#x27;\\&#x27;</span> &amp;&amp; json[i + <span class="hljs-number">2</span>] === <span class="hljs-string">&#x27;n&#x27;</span>) {
            <span class="hljs-comment">// space before newline needs to be escaped to not be folded</span>
            str += json.<span class="hljs-title function_">slice</span>(start, i) + <span class="hljs-string">&#x27;\\ &#x27;</span>;
            i += <span class="hljs-number">1</span>;
            start = i;
            ch = <span class="hljs-string">&#x27;\\&#x27;</span>;
        }
        <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">&#x27;\\&#x27;</span>)
            <span class="hljs-keyword">switch</span> (json[i + <span class="hljs-number">1</span>]) {
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;u&#x27;</span>:
                    {
                        str += json.<span class="hljs-title function_">slice</span>(start, i);
                        <span class="hljs-keyword">const</span> code = json.<span class="hljs-title function_">substr</span>(i + <span class="hljs-number">2</span>, <span class="hljs-number">4</span>);
                        <span class="hljs-keyword">switch</span> (code) {
                            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;0000&#x27;</span>:
                                str += <span class="hljs-string">&#x27;\\0&#x27;</span>;
                                <span class="hljs-keyword">break</span>;
                            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;0007&#x27;</span>:
                                str += <span class="hljs-string">&#x27;\\a&#x27;</span>;
                                <span class="hljs-keyword">break</span>;
                            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;000b&#x27;</span>:
                                str += <span class="hljs-string">&#x27;\\v&#x27;</span>;
                                <span class="hljs-keyword">break</span>;
                            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;001b&#x27;</span>:
                                str += <span class="hljs-string">&#x27;\\e&#x27;</span>;
                                <span class="hljs-keyword">break</span>;
                            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;0085&#x27;</span>:
                                str += <span class="hljs-string">&#x27;\\N&#x27;</span>;
                                <span class="hljs-keyword">break</span>;
                            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;00a0&#x27;</span>:
                                str += <span class="hljs-string">&#x27;\\_&#x27;</span>;
                                <span class="hljs-keyword">break</span>;
                            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;2028&#x27;</span>:
                                str += <span class="hljs-string">&#x27;\\L&#x27;</span>;
                                <span class="hljs-keyword">break</span>;
                            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;2029&#x27;</span>:
                                str += <span class="hljs-string">&#x27;\\P&#x27;</span>;
                                <span class="hljs-keyword">break</span>;
                            <span class="hljs-attr">default</span>:
                                <span class="hljs-keyword">if</span> (code.<span class="hljs-title function_">substr</span>(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>) === <span class="hljs-string">&#x27;00&#x27;</span>)
                                    str += <span class="hljs-string">&#x27;\\x&#x27;</span> + code.<span class="hljs-title function_">substr</span>(<span class="hljs-number">2</span>);
                                <span class="hljs-keyword">else</span>
                                    str += json.<span class="hljs-title function_">substr</span>(i, <span class="hljs-number">6</span>);
                        }
                        i += <span class="hljs-number">5</span>;
                        start = i + <span class="hljs-number">1</span>;
                    }
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;n&#x27;</span>:
                    <span class="hljs-keyword">if</span> (implicitKey ||
                        json[i + <span class="hljs-number">2</span>] === <span class="hljs-string">&#x27;&quot;&#x27;</span> ||
                        json.<span class="hljs-property">length</span> &lt; minMultiLineLength) {
                        i += <span class="hljs-number">1</span>;
                    }
                    <span class="hljs-keyword">else</span> {
                        <span class="hljs-comment">// folding will eat first newline</span>
                        str += json.<span class="hljs-title function_">slice</span>(start, i) + <span class="hljs-string">&#x27;\n\n&#x27;</span>;
                        <span class="hljs-keyword">while</span> (json[i + <span class="hljs-number">2</span>] === <span class="hljs-string">&#x27;\\&#x27;</span> &amp;&amp;
                            json[i + <span class="hljs-number">3</span>] === <span class="hljs-string">&#x27;n&#x27;</span> &amp;&amp;
                            json[i + <span class="hljs-number">4</span>] !== <span class="hljs-string">&#x27;&quot;&#x27;</span>) {
                            str += <span class="hljs-string">&#x27;\n&#x27;</span>;
                            i += <span class="hljs-number">2</span>;
                        }
                        str += indent;
                        <span class="hljs-comment">// space after newline needs to be escaped to not be folded</span>
                        <span class="hljs-keyword">if</span> (json[i + <span class="hljs-number">2</span>] === <span class="hljs-string">&#x27; &#x27;</span>)
                            str += <span class="hljs-string">&#x27;\\&#x27;</span>;
                        i += <span class="hljs-number">1</span>;
                        start = i + <span class="hljs-number">1</span>;
                    }
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-attr">default</span>:
                    i += <span class="hljs-number">1</span>;
            }
    }
    str = start ? str + json.<span class="hljs-title function_">slice</span>(start) : json;
    <span class="hljs-keyword">return</span> implicitKey
        ? str
        : <span class="hljs-title function_">foldFlowLines</span>(str, indent, <span class="hljs-variable constant_">FOLD_QUOTED</span>, <span class="hljs-title function_">getFoldOptions</span>(ctx));
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">singleQuotedString</span>(<span class="hljs-params">value, ctx</span>) {
    <span class="hljs-keyword">if</span> (ctx.<span class="hljs-property">options</span>.<span class="hljs-property">singleQuote</span> === <span class="hljs-literal">false</span> ||
        (ctx.<span class="hljs-property">implicitKey</span> &amp;&amp; value.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&#x27;\n&#x27;</span>)) ||
        <span class="hljs-regexp">/[ \t]\n|\n[ \t]/</span>.<span class="hljs-title function_">test</span>(value) <span class="hljs-comment">// single quoted string can&#x27;t have leading or trailing whitespace around newline</span>
    )
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">doubleQuotedString</span>(value, ctx);
    <span class="hljs-keyword">const</span> indent = ctx.<span class="hljs-property">indent</span> || (<span class="hljs-title function_">containsDocumentMarker</span>(value) ? <span class="hljs-string">&#x27;  &#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>);
    <span class="hljs-keyword">const</span> res = <span class="hljs-string">&quot;&#x27;&quot;</span> + value.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/&#x27;/g</span>, <span class="hljs-string">&quot;&#x27;&#x27;&quot;</span>).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\n+/g</span>, <span class="hljs-string">`$&amp;\n<span class="hljs-subst">${indent}</span>`</span>) + <span class="hljs-string">&quot;&#x27;&quot;</span>;
    <span class="hljs-keyword">return</span> ctx.<span class="hljs-property">implicitKey</span>
        ? res
        : <span class="hljs-title function_">foldFlowLines</span>(res, indent, <span class="hljs-variable constant_">FOLD_FLOW</span>, <span class="hljs-title function_">getFoldOptions</span>(ctx));
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">quotedString</span>(<span class="hljs-params">value, ctx</span>) {
    <span class="hljs-keyword">const</span> { singleQuote } = ctx.<span class="hljs-property">options</span>;
    <span class="hljs-keyword">let</span> qs;
    <span class="hljs-keyword">if</span> (singleQuote === <span class="hljs-literal">false</span>)
        qs = doubleQuotedString;
    <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">const</span> hasDouble = value.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&#x27;&quot;&#x27;</span>);
        <span class="hljs-keyword">const</span> hasSingle = value.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&quot;&#x27;&quot;</span>);
        <span class="hljs-keyword">if</span> (hasDouble &amp;&amp; !hasSingle)
            qs = singleQuotedString;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (hasSingle &amp;&amp; !hasDouble)
            qs = doubleQuotedString;
        <span class="hljs-keyword">else</span>
            qs = singleQuote ? singleQuotedString : doubleQuotedString;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">qs</span>(value, ctx);
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">blockString</span>(<span class="hljs-params">{ comment, type, value }, ctx, onComment, onChompKeep</span>) {
    <span class="hljs-keyword">const</span> { blockQuote, commentString, lineWidth } = ctx.<span class="hljs-property">options</span>;
    <span class="hljs-comment">// 1. Block can&#x27;t end in whitespace unless the last line is non-empty.</span>
    <span class="hljs-comment">// 2. Strings consisting of only whitespace are best rendered explicitly.</span>
    <span class="hljs-keyword">if</span> (!blockQuote || <span class="hljs-regexp">/\n[\t ]+$/</span>.<span class="hljs-title function_">test</span>(value) || <span class="hljs-regexp">/^\s*$/</span>.<span class="hljs-title function_">test</span>(value)) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">quotedString</span>(value, ctx);
    }
    <span class="hljs-keyword">const</span> indent = ctx.<span class="hljs-property">indent</span> ||
        (ctx.<span class="hljs-property">forceBlockIndent</span> || <span class="hljs-title function_">containsDocumentMarker</span>(value) ? <span class="hljs-string">&#x27;  &#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>);
    <span class="hljs-keyword">const</span> literal = blockQuote === <span class="hljs-string">&#x27;literal&#x27;</span>
        ? <span class="hljs-literal">true</span>
        : blockQuote === <span class="hljs-string">&#x27;folded&#x27;</span> || type === <span class="hljs-title class_">Scalar</span>.<span class="hljs-property">BLOCK_FOLDED</span>
            ? <span class="hljs-literal">false</span>
            : type === <span class="hljs-title class_">Scalar</span>.<span class="hljs-property">BLOCK_LITERAL</span>
                ? <span class="hljs-literal">true</span>
                : !<span class="hljs-title function_">lineLengthOverLimit</span>(value, lineWidth, indent.<span class="hljs-property">length</span>);
    <span class="hljs-keyword">if</span> (!value)
        <span class="hljs-keyword">return</span> literal ? <span class="hljs-string">&#x27;|\n&#x27;</span> : <span class="hljs-string">&#x27;&gt;\n&#x27;</span>;
    <span class="hljs-comment">// determine chomping from whitespace at value end</span>
    <span class="hljs-keyword">let</span> chomp;
    <span class="hljs-keyword">let</span> endStart;
    <span class="hljs-keyword">for</span> (endStart = value.<span class="hljs-property">length</span>; endStart &gt; <span class="hljs-number">0</span>; --endStart) {
        <span class="hljs-keyword">const</span> ch = value[endStart - <span class="hljs-number">1</span>];
        <span class="hljs-keyword">if</span> (ch !== <span class="hljs-string">&#x27;\n&#x27;</span> &amp;&amp; ch !== <span class="hljs-string">&#x27;\t&#x27;</span> &amp;&amp; ch !== <span class="hljs-string">&#x27; &#x27;</span>)
            <span class="hljs-keyword">break</span>;
    }
    <span class="hljs-keyword">let</span> end = value.<span class="hljs-title function_">substring</span>(endStart);
    <span class="hljs-keyword">const</span> endNlPos = end.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;\n&#x27;</span>);
    <span class="hljs-keyword">if</span> (endNlPos === -<span class="hljs-number">1</span>) {
        chomp = <span class="hljs-string">&#x27;-&#x27;</span>; <span class="hljs-comment">// strip</span>
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (value === end || endNlPos !== end.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>) {
        chomp = <span class="hljs-string">&#x27;+&#x27;</span>; <span class="hljs-comment">// keep</span>
        <span class="hljs-keyword">if</span> (onChompKeep)
            <span class="hljs-title function_">onChompKeep</span>();
    }
    <span class="hljs-keyword">else</span> {
        chomp = <span class="hljs-string">&#x27;&#x27;</span>; <span class="hljs-comment">// clip</span>
    }
    <span class="hljs-keyword">if</span> (end) {
        value = value.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, -end.<span class="hljs-property">length</span>);
        <span class="hljs-keyword">if</span> (end[end.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>] === <span class="hljs-string">&#x27;\n&#x27;</span>)
            end = end.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, -<span class="hljs-number">1</span>);
        end = end.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\n+(?!\n|$)/g</span>, <span class="hljs-string">`$&amp;<span class="hljs-subst">${indent}</span>`</span>);
    }
    <span class="hljs-comment">// determine indent indicator from whitespace at value start</span>
    <span class="hljs-keyword">let</span> startWithSpace = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">let</span> startEnd;
    <span class="hljs-keyword">let</span> startNlPos = -<span class="hljs-number">1</span>;
    <span class="hljs-keyword">for</span> (startEnd = <span class="hljs-number">0</span>; startEnd &lt; value.<span class="hljs-property">length</span>; ++startEnd) {
        <span class="hljs-keyword">const</span> ch = value[startEnd];
        <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">&#x27; &#x27;</span>)
            startWithSpace = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">&#x27;\n&#x27;</span>)
            startNlPos = startEnd;
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">break</span>;
    }
    <span class="hljs-keyword">let</span> start = value.<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>, startNlPos &lt; startEnd ? startNlPos + <span class="hljs-number">1</span> : startEnd);
    <span class="hljs-keyword">if</span> (start) {
        value = value.<span class="hljs-title function_">substring</span>(start.<span class="hljs-property">length</span>);
        start = start.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\n+/g</span>, <span class="hljs-string">`$&amp;<span class="hljs-subst">${indent}</span>`</span>);
    }
    <span class="hljs-keyword">const</span> indentSize = indent ? <span class="hljs-string">&#x27;2&#x27;</span> : <span class="hljs-string">&#x27;1&#x27;</span>; <span class="hljs-comment">// root is at -1</span>
    <span class="hljs-keyword">let</span> header = (literal ? <span class="hljs-string">&#x27;|&#x27;</span> : <span class="hljs-string">&#x27;&gt;&#x27;</span>) + (startWithSpace ? indentSize : <span class="hljs-string">&#x27;&#x27;</span>) + chomp;
    <span class="hljs-keyword">if</span> (comment) {
        header += <span class="hljs-string">&#x27; &#x27;</span> + <span class="hljs-title function_">commentString</span>(comment.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/ ?[\r\n]+/g</span>, <span class="hljs-string">&#x27; &#x27;</span>));
        <span class="hljs-keyword">if</span> (onComment)
            <span class="hljs-title function_">onComment</span>();
    }
    <span class="hljs-keyword">if</span> (literal) {
        value = value.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\n+/g</span>, <span class="hljs-string">`$&amp;<span class="hljs-subst">${indent}</span>`</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${header}</span>\n<span class="hljs-subst">${indent}</span><span class="hljs-subst">${start}</span><span class="hljs-subst">${value}</span><span class="hljs-subst">${end}</span>`</span>;
    }
    value = value
        .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\n+/g</span>, <span class="hljs-string">&#x27;\n$&amp;&#x27;</span>)
        .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g</span>, <span class="hljs-string">&#x27;$1$2&#x27;</span>) <span class="hljs-comment">// more-indented lines aren&#x27;t folded</span>
        <span class="hljs-comment">//                ^ more-ind. ^ empty     ^ capture next empty lines only at end of indent</span>
        .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\n+/g</span>, <span class="hljs-string">`$&amp;<span class="hljs-subst">${indent}</span>`</span>);
    <span class="hljs-keyword">const</span> body = <span class="hljs-title function_">foldFlowLines</span>(<span class="hljs-string">`<span class="hljs-subst">${start}</span><span class="hljs-subst">${value}</span><span class="hljs-subst">${end}</span>`</span>, indent, <span class="hljs-variable constant_">FOLD_BLOCK</span>, <span class="hljs-title function_">getFoldOptions</span>(ctx));
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${header}</span>\n<span class="hljs-subst">${indent}</span><span class="hljs-subst">${body}</span>`</span>;
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">plainString</span>(<span class="hljs-params">item, ctx, onComment, onChompKeep</span>) {
    <span class="hljs-keyword">const</span> { type, value } = item;
    <span class="hljs-keyword">const</span> { actualString, implicitKey, indent, indentStep, inFlow } = ctx;
    <span class="hljs-keyword">if</span> ((implicitKey &amp;&amp; <span class="hljs-regexp">/[\n[\]{},]/</span>.<span class="hljs-title function_">test</span>(value)) ||
        (inFlow &amp;&amp; <span class="hljs-regexp">/[[\]{},]/</span>.<span class="hljs-title function_">test</span>(value))) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">quotedString</span>(value, ctx);
    }
    <span class="hljs-keyword">if</span> (!value ||
        <span class="hljs-regexp">/^[\n\t ,[\]{}#&amp;*!|&gt;&#x27;&quot;%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/</span>.<span class="hljs-title function_">test</span>(value)) {
        <span class="hljs-comment">// not allowed:</span>
        <span class="hljs-comment">// - empty string, &#x27;-&#x27; or &#x27;?&#x27;</span>
        <span class="hljs-comment">// - start with an indicator character (except [?:-]) or /[?-] /</span>
        <span class="hljs-comment">// - &#x27;\n &#x27;, &#x27;: &#x27; or &#x27; \n&#x27; anywhere</span>
        <span class="hljs-comment">// - &#x27;#&#x27; not preceded by a non-space char</span>
        <span class="hljs-comment">// - end with &#x27; &#x27; or &#x27;:&#x27;</span>
        <span class="hljs-keyword">return</span> implicitKey || inFlow || !value.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&#x27;\n&#x27;</span>)
            ? <span class="hljs-title function_">quotedString</span>(value, ctx)
            : <span class="hljs-title function_">blockString</span>(item, ctx, onComment, onChompKeep);
    }
    <span class="hljs-keyword">if</span> (!implicitKey &amp;&amp;
        !inFlow &amp;&amp;
        type !== <span class="hljs-title class_">Scalar</span>.<span class="hljs-property">PLAIN</span> &amp;&amp;
        value.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&#x27;\n&#x27;</span>)) {
        <span class="hljs-comment">// Where allowed &amp; type not set explicitly, prefer block style for multiline strings</span>
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">blockString</span>(item, ctx, onComment, onChompKeep);
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">containsDocumentMarker</span>(value)) {
        <span class="hljs-keyword">if</span> (indent === <span class="hljs-string">&#x27;&#x27;</span>) {
            ctx.<span class="hljs-property">forceBlockIndent</span> = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">return</span> <span class="hljs-title function_">blockString</span>(item, ctx, onComment, onChompKeep);
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (implicitKey &amp;&amp; indent === indentStep) {
            <span class="hljs-keyword">return</span> <span class="hljs-title function_">quotedString</span>(value, ctx);
        }
    }
    <span class="hljs-keyword">const</span> str = value.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\n+/g</span>, <span class="hljs-string">`$&amp;\n<span class="hljs-subst">${indent}</span>`</span>);
    <span class="hljs-comment">// Verify that output will be parsed as a string, as e.g. plain numbers and</span>
    <span class="hljs-comment">// booleans get parsed with those types in v1.2 (e.g. &#x27;42&#x27;, &#x27;true&#x27; &amp; &#x27;0.9e-3&#x27;),</span>
    <span class="hljs-comment">// and others in v1.1.</span>
    <span class="hljs-keyword">if</span> (actualString) {
        <span class="hljs-keyword">const</span> <span class="hljs-title function_">test</span> = (<span class="hljs-params">tag</span>) =&gt; tag.<span class="hljs-property">default</span> &amp;&amp; tag.<span class="hljs-property">tag</span> !== <span class="hljs-string">&#x27;tag:yaml.org,2002:str&#x27;</span> &amp;&amp; tag.<span class="hljs-property">test</span>?.<span class="hljs-title function_">test</span>(str);
        <span class="hljs-keyword">const</span> { compat, tags } = ctx.<span class="hljs-property">doc</span>.<span class="hljs-property">schema</span>;
        <span class="hljs-keyword">if</span> (tags.<span class="hljs-title function_">some</span>(test) || compat?.<span class="hljs-title function_">some</span>(test))
            <span class="hljs-keyword">return</span> <span class="hljs-title function_">quotedString</span>(value, ctx);
    }
    <span class="hljs-keyword">return</span> implicitKey
        ? str
        : <span class="hljs-title function_">foldFlowLines</span>(str, indent, <span class="hljs-variable constant_">FOLD_FLOW</span>, <span class="hljs-title function_">getFoldOptions</span>(ctx));
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">stringifyString_stringifyString</span>(<span class="hljs-params">item, ctx, onComment, onChompKeep</span>) {
    <span class="hljs-keyword">const</span> { implicitKey, inFlow } = ctx;
    <span class="hljs-keyword">const</span> ss = <span class="hljs-keyword">typeof</span> item.<span class="hljs-property">value</span> === <span class="hljs-string">&#x27;string&#x27;</span>
        ? item
        : <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, item, { <span class="hljs-attr">value</span>: <span class="hljs-title class_">String</span>(item.<span class="hljs-property">value</span>) });
    <span class="hljs-keyword">let</span> { type } = item;
    <span class="hljs-keyword">if</span> (type !== <span class="hljs-title class_">Scalar</span>.<span class="hljs-property">QUOTE_DOUBLE</span>) {
        <span class="hljs-comment">// force double quotes on control characters &amp; unpaired surrogates</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u</span>.<span class="hljs-title function_">test</span>(ss.<span class="hljs-property">value</span>))
            type = <span class="hljs-title class_">Scalar</span>.<span class="hljs-property">QUOTE_DOUBLE</span>;
    }
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">_stringify</span> = (<span class="hljs-params">_type</span>) =&gt; {
        <span class="hljs-keyword">switch</span> (_type) {
            <span class="hljs-keyword">case</span> <span class="hljs-title class_">Scalar</span>.<span class="hljs-property">BLOCK_FOLDED</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-title class_">Scalar</span>.<span class="hljs-property">BLOCK_LITERAL</span>:
                <span class="hljs-keyword">return</span> implicitKey || inFlow
                    ? <span class="hljs-title function_">quotedString</span>(ss.<span class="hljs-property">value</span>, ctx) <span class="hljs-comment">// blocks are not valid inside flow containers</span>
                    : <span class="hljs-title function_">blockString</span>(ss, ctx, onComment, onChompKeep);
            <span class="hljs-keyword">case</span> <span class="hljs-title class_">Scalar</span>.<span class="hljs-property">QUOTE_DOUBLE</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-title function_">doubleQuotedString</span>(ss.<span class="hljs-property">value</span>, ctx);
            <span class="hljs-keyword">case</span> <span class="hljs-title class_">Scalar</span>.<span class="hljs-property">QUOTE_SINGLE</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-title function_">singleQuotedString</span>(ss.<span class="hljs-property">value</span>, ctx);
            <span class="hljs-keyword">case</span> <span class="hljs-title class_">Scalar</span>.<span class="hljs-property">PLAIN</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-title function_">plainString</span>(ss, ctx, onComment, onChompKeep);
            <span class="hljs-attr">default</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
    };
    <span class="hljs-keyword">let</span> res = <span class="hljs-title function_">_stringify</span>(type);
    <span class="hljs-keyword">if</span> (res === <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">const</span> { defaultKeyType, defaultStringType } = ctx.<span class="hljs-property">options</span>;
        <span class="hljs-keyword">const</span> t = (implicitKey &amp;&amp; defaultKeyType) || defaultStringType;
        res = <span class="hljs-title function_">_stringify</span>(t);
        <span class="hljs-keyword">if</span> (res === <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Unsupported default string type <span class="hljs-subst">${t}</span>`</span>);
    }
    <span class="hljs-keyword">return</span> res;
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/stringify/stringify.js</span>





<span class="hljs-keyword">function</span> <span class="hljs-title function_">createStringifyContext</span>(<span class="hljs-params">doc, options</span>) {
    <span class="hljs-keyword">const</span> opt = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({
        <span class="hljs-attr">blockQuote</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">commentString</span>: stringifyComment,
        <span class="hljs-attr">defaultKeyType</span>: <span class="hljs-literal">null</span>,
        <span class="hljs-attr">defaultStringType</span>: <span class="hljs-string">&#x27;PLAIN&#x27;</span>,
        <span class="hljs-attr">directives</span>: <span class="hljs-literal">null</span>,
        <span class="hljs-attr">doubleQuotedAsJSON</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">doubleQuotedMinMultiLineLength</span>: <span class="hljs-number">40</span>,
        <span class="hljs-attr">falseStr</span>: <span class="hljs-string">&#x27;false&#x27;</span>,
        <span class="hljs-attr">flowCollectionPadding</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">indentSeq</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">lineWidth</span>: <span class="hljs-number">80</span>,
        <span class="hljs-attr">minContentWidth</span>: <span class="hljs-number">20</span>,
        <span class="hljs-attr">nullStr</span>: <span class="hljs-string">&#x27;null&#x27;</span>,
        <span class="hljs-attr">simpleKeys</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">singleQuote</span>: <span class="hljs-literal">null</span>,
        <span class="hljs-attr">trueStr</span>: <span class="hljs-string">&#x27;true&#x27;</span>,
        <span class="hljs-attr">verifyAliasOrder</span>: <span class="hljs-literal">true</span>
    }, doc.<span class="hljs-property">schema</span>.<span class="hljs-property">toStringOptions</span>, options);
    <span class="hljs-keyword">let</span> inFlow;
    <span class="hljs-keyword">switch</span> (opt.<span class="hljs-property">collectionStyle</span>) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;block&#x27;</span>:
            inFlow = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;flow&#x27;</span>:
            inFlow = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">break</span>;
        <span class="hljs-attr">default</span>:
            inFlow = <span class="hljs-literal">null</span>;
    }
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">anchors</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(),
        doc,
        <span class="hljs-attr">flowCollectionPadding</span>: opt.<span class="hljs-property">flowCollectionPadding</span> ? <span class="hljs-string">&#x27; &#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>,
        <span class="hljs-attr">indent</span>: <span class="hljs-string">&#x27;&#x27;</span>,
        <span class="hljs-attr">indentStep</span>: <span class="hljs-keyword">typeof</span> opt.<span class="hljs-property">indent</span> === <span class="hljs-string">&#x27;number&#x27;</span> ? <span class="hljs-string">&#x27; &#x27;</span>.<span class="hljs-title function_">repeat</span>(opt.<span class="hljs-property">indent</span>) : <span class="hljs-string">&#x27;  &#x27;</span>,
        inFlow,
        <span class="hljs-attr">options</span>: opt
    };
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getTagObject</span>(<span class="hljs-params">tags, item</span>) {
    <span class="hljs-keyword">if</span> (item.<span class="hljs-property">tag</span>) {
        <span class="hljs-keyword">const</span> match = tags.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">tag</span> === item.<span class="hljs-property">tag</span>);
        <span class="hljs-keyword">if</span> (match.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> match.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">format</span> === item.<span class="hljs-property">format</span>) ?? match[<span class="hljs-number">0</span>];
    }
    <span class="hljs-keyword">let</span> tagObj = <span class="hljs-literal">undefined</span>;
    <span class="hljs-keyword">let</span> obj;
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isScalar</span>(item)) {
        obj = item.<span class="hljs-property">value</span>;
        <span class="hljs-keyword">const</span> match = tags.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">identify</span>?.(obj));
        tagObj =
            match.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">format</span> === item.<span class="hljs-property">format</span>) ?? match.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> !t.<span class="hljs-property">format</span>);
    }
    <span class="hljs-keyword">else</span> {
        obj = item;
        tagObj = tags.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">nodeClass</span> &amp;&amp; obj <span class="hljs-keyword">instanceof</span> t.<span class="hljs-property">nodeClass</span>);
    }
    <span class="hljs-keyword">if</span> (!tagObj) {
        <span class="hljs-keyword">const</span> name = obj?.<span class="hljs-property">constructor</span>?.<span class="hljs-property">name</span> ?? <span class="hljs-keyword">typeof</span> obj;
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Tag not resolved for <span class="hljs-subst">${name}</span> value`</span>);
    }
    <span class="hljs-keyword">return</span> tagObj;
}
<span class="hljs-comment">// needs to be called before value stringifier to allow for circular anchor refs</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">stringifyProps</span>(<span class="hljs-params">node, tagObj, { anchors, doc }</span>) {
    <span class="hljs-keyword">if</span> (!doc.<span class="hljs-property">directives</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span>;
    <span class="hljs-keyword">const</span> props = [];
    <span class="hljs-keyword">const</span> anchor = (<span class="hljs-title function_">isScalar</span>(node) || <span class="hljs-title function_">isCollection</span>(node)) &amp;&amp; node.<span class="hljs-property">anchor</span>;
    <span class="hljs-keyword">if</span> (anchor &amp;&amp; <span class="hljs-title function_">anchorIsValid</span>(anchor)) {
        anchors.<span class="hljs-title function_">add</span>(anchor);
        props.<span class="hljs-title function_">push</span>(<span class="hljs-string">`&amp;<span class="hljs-subst">${anchor}</span>`</span>);
    }
    <span class="hljs-keyword">const</span> tag = node.<span class="hljs-property">tag</span> ? node.<span class="hljs-property">tag</span> : tagObj.<span class="hljs-property">default</span> ? <span class="hljs-literal">null</span> : tagObj.<span class="hljs-property">tag</span>;
    <span class="hljs-keyword">if</span> (tag)
        props.<span class="hljs-title function_">push</span>(doc.<span class="hljs-property">directives</span>.<span class="hljs-title function_">tagString</span>(tag));
    <span class="hljs-keyword">return</span> props.<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27; &#x27;</span>);
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">stringify</span>(<span class="hljs-params">item, ctx, onComment, onChompKeep</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isPair</span>(item))
        <span class="hljs-keyword">return</span> item.<span class="hljs-title function_">toString</span>(ctx, onComment, onChompKeep);
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isAlias</span>(item)) {
        <span class="hljs-keyword">if</span> (ctx.<span class="hljs-property">doc</span>.<span class="hljs-property">directives</span>)
            <span class="hljs-keyword">return</span> item.<span class="hljs-title function_">toString</span>(ctx);
        <span class="hljs-keyword">if</span> (ctx.<span class="hljs-property">resolvedAliases</span>?.<span class="hljs-title function_">has</span>(item)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">`Cannot stringify circular structure without alias nodes`</span>);
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (ctx.<span class="hljs-property">resolvedAliases</span>)
                ctx.<span class="hljs-property">resolvedAliases</span>.<span class="hljs-title function_">add</span>(item);
            <span class="hljs-keyword">else</span>
                ctx.<span class="hljs-property">resolvedAliases</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([item]);
            item = item.<span class="hljs-title function_">resolve</span>(ctx.<span class="hljs-property">doc</span>);
        }
    }
    <span class="hljs-keyword">let</span> tagObj = <span class="hljs-literal">undefined</span>;
    <span class="hljs-keyword">const</span> node = <span class="hljs-title function_">isNode</span>(item)
        ? item
        : ctx.<span class="hljs-property">doc</span>.<span class="hljs-title function_">createNode</span>(item, { <span class="hljs-attr">onTagObj</span>: <span class="hljs-function"><span class="hljs-params">o</span> =&gt;</span> (tagObj = o) });
    <span class="hljs-keyword">if</span> (!tagObj)
        tagObj = <span class="hljs-title function_">getTagObject</span>(ctx.<span class="hljs-property">doc</span>.<span class="hljs-property">schema</span>.<span class="hljs-property">tags</span>, node);
    <span class="hljs-keyword">const</span> props = <span class="hljs-title function_">stringifyProps</span>(node, tagObj, ctx);
    <span class="hljs-keyword">if</span> (props.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>)
        ctx.<span class="hljs-property">indentAtStart</span> = (ctx.<span class="hljs-property">indentAtStart</span> ?? <span class="hljs-number">0</span>) + props.<span class="hljs-property">length</span> + <span class="hljs-number">1</span>;
    <span class="hljs-keyword">const</span> str = <span class="hljs-keyword">typeof</span> tagObj.<span class="hljs-property">stringify</span> === <span class="hljs-string">&#x27;function&#x27;</span>
        ? tagObj.<span class="hljs-title function_">stringify</span>(node, ctx, onComment, onChompKeep)
        : <span class="hljs-title function_">isScalar</span>(node)
            ? <span class="hljs-title function_">stringifyString_stringifyString</span>(node, ctx, onComment, onChompKeep)
            : node.<span class="hljs-title function_">toString</span>(ctx, onComment, onChompKeep);
    <span class="hljs-keyword">if</span> (!props)
        <span class="hljs-keyword">return</span> str;
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">isScalar</span>(node) || str[<span class="hljs-number">0</span>] === <span class="hljs-string">&#x27;{&#x27;</span> || str[<span class="hljs-number">0</span>] === <span class="hljs-string">&#x27;[&#x27;</span>
        ? <span class="hljs-string">`<span class="hljs-subst">${props}</span> <span class="hljs-subst">${str}</span>`</span>
        : <span class="hljs-string">`<span class="hljs-subst">${props}</span>\n<span class="hljs-subst">${ctx.indent}</span><span class="hljs-subst">${str}</span>`</span>;
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/stringify/stringifyPair.js</span>





<span class="hljs-keyword">function</span> <span class="hljs-title function_">stringifyPair</span>(<span class="hljs-params">{ key, value }, ctx, onComment, onChompKeep</span>) {
    <span class="hljs-keyword">const</span> { allNullValues, doc, indent, indentStep, <span class="hljs-attr">options</span>: { commentString, indentSeq, simpleKeys } } = ctx;
    <span class="hljs-keyword">let</span> keyComment = (<span class="hljs-title function_">isNode</span>(key) &amp;&amp; key.<span class="hljs-property">comment</span>) || <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">if</span> (simpleKeys) {
        <span class="hljs-keyword">if</span> (keyComment) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;With simple keys, key nodes cannot have comments&#x27;</span>);
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isCollection</span>(key)) {
            <span class="hljs-keyword">const</span> msg = <span class="hljs-string">&#x27;With simple keys, collection cannot be used as a key value&#x27;</span>;
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(msg);
        }
    }
    <span class="hljs-keyword">let</span> explicitKey = !simpleKeys &amp;&amp;
        (!key ||
            (keyComment &amp;&amp; value == <span class="hljs-literal">null</span> &amp;&amp; !ctx.<span class="hljs-property">inFlow</span>) ||
            <span class="hljs-title function_">isCollection</span>(key) ||
            (<span class="hljs-title function_">isScalar</span>(key)
                ? key.<span class="hljs-property">type</span> === <span class="hljs-title class_">Scalar</span>.<span class="hljs-property">BLOCK_FOLDED</span> || key.<span class="hljs-property">type</span> === <span class="hljs-title class_">Scalar</span>.<span class="hljs-property">BLOCK_LITERAL</span>
                : <span class="hljs-keyword">typeof</span> key === <span class="hljs-string">&#x27;object&#x27;</span>));
    ctx = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, ctx, {
        <span class="hljs-attr">allNullValues</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">implicitKey</span>: !explicitKey &amp;&amp; (simpleKeys || !allNullValues),
        <span class="hljs-attr">indent</span>: indent + indentStep
    });
    <span class="hljs-keyword">let</span> keyCommentDone = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">let</span> chompKeep = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">let</span> str = <span class="hljs-title function_">stringify</span>(key, ctx, <span class="hljs-function">() =&gt;</span> (keyCommentDone = <span class="hljs-literal">true</span>), <span class="hljs-function">() =&gt;</span> (chompKeep = <span class="hljs-literal">true</span>));
    <span class="hljs-keyword">if</span> (!explicitKey &amp;&amp; !ctx.<span class="hljs-property">inFlow</span> &amp;&amp; str.<span class="hljs-property">length</span> &gt; <span class="hljs-number">1024</span>) {
        <span class="hljs-keyword">if</span> (simpleKeys)
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;With simple keys, single line scalar must not span more than 1024 characters&#x27;</span>);
        explicitKey = <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">if</span> (ctx.<span class="hljs-property">inFlow</span>) {
        <span class="hljs-keyword">if</span> (allNullValues || value == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (keyCommentDone &amp;&amp; onComment)
                <span class="hljs-title function_">onComment</span>();
            <span class="hljs-keyword">return</span> str === <span class="hljs-string">&#x27;&#x27;</span> ? <span class="hljs-string">&#x27;?&#x27;</span> : explicitKey ? <span class="hljs-string">`? <span class="hljs-subst">${str}</span>`</span> : str;
        }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((allNullValues &amp;&amp; !simpleKeys) || (value == <span class="hljs-literal">null</span> &amp;&amp; explicitKey)) {
        str = <span class="hljs-string">`? <span class="hljs-subst">${str}</span>`</span>;
        <span class="hljs-keyword">if</span> (keyComment &amp;&amp; !keyCommentDone) {
            str += <span class="hljs-title function_">lineComment</span>(str, ctx.<span class="hljs-property">indent</span>, <span class="hljs-title function_">commentString</span>(keyComment));
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (chompKeep &amp;&amp; onChompKeep)
            <span class="hljs-title function_">onChompKeep</span>();
        <span class="hljs-keyword">return</span> str;
    }
    <span class="hljs-keyword">if</span> (keyCommentDone)
        keyComment = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">if</span> (explicitKey) {
        <span class="hljs-keyword">if</span> (keyComment)
            str += <span class="hljs-title function_">lineComment</span>(str, ctx.<span class="hljs-property">indent</span>, <span class="hljs-title function_">commentString</span>(keyComment));
        str = <span class="hljs-string">`? <span class="hljs-subst">${str}</span>\n<span class="hljs-subst">${indent}</span>:`</span>;
    }
    <span class="hljs-keyword">else</span> {
        str = <span class="hljs-string">`<span class="hljs-subst">${str}</span>:`</span>;
        <span class="hljs-keyword">if</span> (keyComment)
            str += <span class="hljs-title function_">lineComment</span>(str, ctx.<span class="hljs-property">indent</span>, <span class="hljs-title function_">commentString</span>(keyComment));
    }
    <span class="hljs-keyword">let</span> vsb, vcb, valueComment;
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isNode</span>(value)) {
        vsb = !!value.<span class="hljs-property">spaceBefore</span>;
        vcb = value.<span class="hljs-property">commentBefore</span>;
        valueComment = value.<span class="hljs-property">comment</span>;
    }
    <span class="hljs-keyword">else</span> {
        vsb = <span class="hljs-literal">false</span>;
        vcb = <span class="hljs-literal">null</span>;
        valueComment = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">if</span> (value &amp;&amp; <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&#x27;object&#x27;</span>)
            value = doc.<span class="hljs-title function_">createNode</span>(value);
    }
    ctx.<span class="hljs-property">implicitKey</span> = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">if</span> (!explicitKey &amp;&amp; !keyComment &amp;&amp; <span class="hljs-title function_">isScalar</span>(value))
        ctx.<span class="hljs-property">indentAtStart</span> = str.<span class="hljs-property">length</span> + <span class="hljs-number">1</span>;
    chompKeep = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">if</span> (!indentSeq &amp;&amp;
        indentStep.<span class="hljs-property">length</span> &gt;= <span class="hljs-number">2</span> &amp;&amp;
        !ctx.<span class="hljs-property">inFlow</span> &amp;&amp;
        !explicitKey &amp;&amp;
        <span class="hljs-title function_">isSeq</span>(value) &amp;&amp;
        !value.<span class="hljs-property">flow</span> &amp;&amp;
        !value.<span class="hljs-property">tag</span> &amp;&amp;
        !value.<span class="hljs-property">anchor</span>) {
        <span class="hljs-comment">// If indentSeq === false, consider &#x27;- &#x27; as part of indentation where possible</span>
        ctx.<span class="hljs-property">indent</span> = ctx.<span class="hljs-property">indent</span>.<span class="hljs-title function_">substring</span>(<span class="hljs-number">2</span>);
    }
    <span class="hljs-keyword">let</span> valueCommentDone = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">const</span> valueStr = <span class="hljs-title function_">stringify</span>(value, ctx, <span class="hljs-function">() =&gt;</span> (valueCommentDone = <span class="hljs-literal">true</span>), <span class="hljs-function">() =&gt;</span> (chompKeep = <span class="hljs-literal">true</span>));
    <span class="hljs-keyword">let</span> ws = <span class="hljs-string">&#x27; &#x27;</span>;
    <span class="hljs-keyword">if</span> (keyComment || vsb || vcb) {
        ws = vsb ? <span class="hljs-string">&#x27;\n&#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>;
        <span class="hljs-keyword">if</span> (vcb) {
            <span class="hljs-keyword">const</span> cs = <span class="hljs-title function_">commentString</span>(vcb);
            ws += <span class="hljs-string">`\n<span class="hljs-subst">${indentComment(cs, ctx.indent)}</span>`</span>;
        }
        <span class="hljs-keyword">if</span> (valueStr === <span class="hljs-string">&#x27;&#x27;</span> &amp;&amp; !ctx.<span class="hljs-property">inFlow</span>) {
            <span class="hljs-keyword">if</span> (ws === <span class="hljs-string">&#x27;\n&#x27;</span>)
                ws = <span class="hljs-string">&#x27;\n\n&#x27;</span>;
        }
        <span class="hljs-keyword">else</span> {
            ws += <span class="hljs-string">`\n<span class="hljs-subst">${ctx.indent}</span>`</span>;
        }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!explicitKey &amp;&amp; <span class="hljs-title function_">isCollection</span>(value)) {
        <span class="hljs-keyword">const</span> vs0 = valueStr[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">const</span> nl0 = valueStr.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;\n&#x27;</span>);
        <span class="hljs-keyword">const</span> hasNewline = nl0 !== -<span class="hljs-number">1</span>;
        <span class="hljs-keyword">const</span> flow = ctx.<span class="hljs-property">inFlow</span> ?? value.<span class="hljs-property">flow</span> ?? value.<span class="hljs-property">items</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (hasNewline || !flow) {
            <span class="hljs-keyword">let</span> hasPropsLine = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">if</span> (hasNewline &amp;&amp; (vs0 === <span class="hljs-string">&#x27;&amp;&#x27;</span> || vs0 === <span class="hljs-string">&#x27;!&#x27;</span>)) {
                <span class="hljs-keyword">let</span> sp0 = valueStr.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27; &#x27;</span>);
                <span class="hljs-keyword">if</span> (vs0 === <span class="hljs-string">&#x27;&amp;&#x27;</span> &amp;&amp;
                    sp0 !== -<span class="hljs-number">1</span> &amp;&amp;
                    sp0 &lt; nl0 &amp;&amp;
                    valueStr[sp0 + <span class="hljs-number">1</span>] === <span class="hljs-string">&#x27;!&#x27;</span>) {
                    sp0 = valueStr.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27; &#x27;</span>, sp0 + <span class="hljs-number">1</span>);
                }
                <span class="hljs-keyword">if</span> (sp0 === -<span class="hljs-number">1</span> || nl0 &lt; sp0)
                    hasPropsLine = <span class="hljs-literal">true</span>;
            }
            <span class="hljs-keyword">if</span> (!hasPropsLine)
                ws = <span class="hljs-string">`\n<span class="hljs-subst">${ctx.indent}</span>`</span>;
        }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (valueStr === <span class="hljs-string">&#x27;&#x27;</span> || valueStr[<span class="hljs-number">0</span>] === <span class="hljs-string">&#x27;\n&#x27;</span>) {
        ws = <span class="hljs-string">&#x27;&#x27;</span>;
    }
    str += ws + valueStr;
    <span class="hljs-keyword">if</span> (ctx.<span class="hljs-property">inFlow</span>) {
        <span class="hljs-keyword">if</span> (valueCommentDone &amp;&amp; onComment)
            <span class="hljs-title function_">onComment</span>();
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (valueComment &amp;&amp; !valueCommentDone) {
        str += <span class="hljs-title function_">lineComment</span>(str, ctx.<span class="hljs-property">indent</span>, <span class="hljs-title function_">commentString</span>(valueComment));
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (chompKeep &amp;&amp; onChompKeep) {
        <span class="hljs-title function_">onChompKeep</span>();
    }
    <span class="hljs-keyword">return</span> str;
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/log.js</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">debug</span>(<span class="hljs-params">logLevel, ...messages</span>) {
    <span class="hljs-keyword">if</span> (logLevel === <span class="hljs-string">&#x27;debug&#x27;</span>)
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(...messages);
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">warn</span>(<span class="hljs-params">logLevel, warning</span>) {
    <span class="hljs-keyword">if</span> (logLevel === <span class="hljs-string">&#x27;debug&#x27;</span> || logLevel === <span class="hljs-string">&#x27;warn&#x27;</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> process !== <span class="hljs-string">&#x27;undefined&#x27;</span> &amp;&amp; process.<span class="hljs-property">emitWarning</span>)
            process.<span class="hljs-title function_">emitWarning</span>(warning);
        <span class="hljs-keyword">else</span>
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(warning);
    }
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/nodes/addPairToJSMap.js</span>






<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">MERGE_KEY</span> = <span class="hljs-string">&#x27;&lt;&lt;&#x27;</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">addPairToJSMap</span>(<span class="hljs-params">ctx, map, { key, value }</span>) {
    <span class="hljs-keyword">if</span> (ctx?.<span class="hljs-property">doc</span>.<span class="hljs-property">schema</span>.<span class="hljs-property">merge</span> &amp;&amp; <span class="hljs-title function_">isMergeKey</span>(key)) {
        value = <span class="hljs-title function_">isAlias</span>(value) ? value.<span class="hljs-title function_">resolve</span>(ctx.<span class="hljs-property">doc</span>) : value;
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isSeq</span>(value))
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> it <span class="hljs-keyword">of</span> value.<span class="hljs-property">items</span>)
                <span class="hljs-title function_">mergeToJSMap</span>(ctx, map, it);
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(value))
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> it <span class="hljs-keyword">of</span> value)
                <span class="hljs-title function_">mergeToJSMap</span>(ctx, map, it);
        <span class="hljs-keyword">else</span>
            <span class="hljs-title function_">mergeToJSMap</span>(ctx, map, value);
    }
    <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">const</span> jsKey = <span class="hljs-title function_">toJS</span>(key, <span class="hljs-string">&#x27;&#x27;</span>, ctx);
        <span class="hljs-keyword">if</span> (map <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Map</span>) {
            map.<span class="hljs-title function_">set</span>(jsKey, <span class="hljs-title function_">toJS</span>(value, jsKey, ctx));
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (map <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Set</span>) {
            map.<span class="hljs-title function_">add</span>(jsKey);
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">const</span> stringKey = <span class="hljs-title function_">stringifyKey</span>(key, jsKey, ctx);
            <span class="hljs-keyword">const</span> jsValue = <span class="hljs-title function_">toJS</span>(value, stringKey, ctx);
            <span class="hljs-keyword">if</span> (stringKey <span class="hljs-keyword">in</span> map)
                <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(map, stringKey, {
                    <span class="hljs-attr">value</span>: jsValue,
                    <span class="hljs-attr">writable</span>: <span class="hljs-literal">true</span>,
                    <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">true</span>,
                    <span class="hljs-attr">configurable</span>: <span class="hljs-literal">true</span>
                });
            <span class="hljs-keyword">else</span>
                map[stringKey] = jsValue;
        }
    }
    <span class="hljs-keyword">return</span> map;
}
<span class="hljs-keyword">const</span> <span class="hljs-title function_">isMergeKey</span> = (<span class="hljs-params">key</span>) =&gt; key === <span class="hljs-variable constant_">MERGE_KEY</span> ||
    (<span class="hljs-title function_">isScalar</span>(key) &amp;&amp;
        key.<span class="hljs-property">value</span> === <span class="hljs-variable constant_">MERGE_KEY</span> &amp;&amp;
        (!key.<span class="hljs-property">type</span> || key.<span class="hljs-property">type</span> === <span class="hljs-title class_">Scalar</span>.<span class="hljs-property">PLAIN</span>));
<span class="hljs-comment">// If the value associated with a merge key is a single mapping node, each of</span>
<span class="hljs-comment">// its key/value pairs is inserted into the current mapping, unless the key</span>
<span class="hljs-comment">// already exists in it. If the value associated with the merge key is a</span>
<span class="hljs-comment">// sequence, then this sequence is expected to contain mapping nodes and each</span>
<span class="hljs-comment">// of these nodes is merged in turn according to its order in the sequence.</span>
<span class="hljs-comment">// Keys in mapping nodes earlier in the sequence override keys specified in</span>
<span class="hljs-comment">// later mapping nodes. -- http://yaml.org/type/merge.html</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">mergeToJSMap</span>(<span class="hljs-params">ctx, map, value</span>) {
    <span class="hljs-keyword">const</span> source = ctx &amp;&amp; <span class="hljs-title function_">isAlias</span>(value) ? value.<span class="hljs-title function_">resolve</span>(ctx.<span class="hljs-property">doc</span>) : value;
    <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isMap</span>(source))
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Merge sources must be maps or map aliases&#x27;</span>);
    <span class="hljs-keyword">const</span> srcMap = source.<span class="hljs-title function_">toJSON</span>(<span class="hljs-literal">null</span>, ctx, <span class="hljs-title class_">Map</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [key, value] <span class="hljs-keyword">of</span> srcMap) {
        <span class="hljs-keyword">if</span> (map <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Map</span>) {
            <span class="hljs-keyword">if</span> (!map.<span class="hljs-title function_">has</span>(key))
                map.<span class="hljs-title function_">set</span>(key, value);
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (map <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Set</span>) {
            map.<span class="hljs-title function_">add</span>(key);
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">hasOwnProperty</span>.<span class="hljs-title function_">call</span>(map, key)) {
            <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(map, key, {
                value,
                <span class="hljs-attr">writable</span>: <span class="hljs-literal">true</span>,
                <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">true</span>,
                <span class="hljs-attr">configurable</span>: <span class="hljs-literal">true</span>
            });
        }
    }
    <span class="hljs-keyword">return</span> map;
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">stringifyKey</span>(<span class="hljs-params">key, jsKey, ctx</span>) {
    <span class="hljs-keyword">if</span> (jsKey === <span class="hljs-literal">null</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> jsKey !== <span class="hljs-string">&#x27;object&#x27;</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">String</span>(jsKey);
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isNode</span>(key) &amp;&amp; ctx &amp;&amp; ctx.<span class="hljs-property">doc</span>) {
        <span class="hljs-keyword">const</span> strCtx = <span class="hljs-title function_">createStringifyContext</span>(ctx.<span class="hljs-property">doc</span>, {});
        strCtx.<span class="hljs-property">anchors</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> node <span class="hljs-keyword">of</span> ctx.<span class="hljs-property">anchors</span>.<span class="hljs-title function_">keys</span>())
            strCtx.<span class="hljs-property">anchors</span>.<span class="hljs-title function_">add</span>(node.<span class="hljs-property">anchor</span>);
        strCtx.<span class="hljs-property">inFlow</span> = <span class="hljs-literal">true</span>;
        strCtx.<span class="hljs-property">inStringifyKey</span> = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">const</span> strKey = key.<span class="hljs-title function_">toString</span>(strCtx);
        <span class="hljs-keyword">if</span> (!ctx.<span class="hljs-property">mapKeyWarned</span>) {
            <span class="hljs-keyword">let</span> jsonStr = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(strKey);
            <span class="hljs-keyword">if</span> (jsonStr.<span class="hljs-property">length</span> &gt; <span class="hljs-number">40</span>)
                jsonStr = jsonStr.<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>, <span class="hljs-number">36</span>) + <span class="hljs-string">&#x27;...&quot;&#x27;</span>;
            <span class="hljs-title function_">warn</span>(ctx.<span class="hljs-property">doc</span>.<span class="hljs-property">options</span>.<span class="hljs-property">logLevel</span>, <span class="hljs-string">`Keys with collection values will be stringified due to JS Object restrictions: <span class="hljs-subst">${jsonStr}</span>. Set mapAsMap: true to use object keys.`</span>);
            ctx.<span class="hljs-property">mapKeyWarned</span> = <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> strKey;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(jsKey);
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/nodes/Pair.js</span>





<span class="hljs-keyword">function</span> <span class="hljs-title function_">createPair</span>(<span class="hljs-params">key, value, ctx</span>) {
    <span class="hljs-keyword">const</span> k = <span class="hljs-title function_">createNode</span>(key, <span class="hljs-literal">undefined</span>, ctx);
    <span class="hljs-keyword">const</span> v = <span class="hljs-title function_">createNode</span>(value, <span class="hljs-literal">undefined</span>, ctx);
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Pair</span>(k, v);
}
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Pair</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">key, value = <span class="hljs-literal">null</span></span>) {
        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable constant_">NODE_TYPE</span>, { <span class="hljs-attr">value</span>: <span class="hljs-variable constant_">PAIR</span> });
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">key</span> = key;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = value;
    }
    <span class="hljs-title function_">clone</span>(<span class="hljs-params">schema</span>) {
        <span class="hljs-keyword">let</span> { key, value } = <span class="hljs-variable language_">this</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isNode</span>(key))
            key = key.<span class="hljs-title function_">clone</span>(schema);
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isNode</span>(value))
            value = value.<span class="hljs-title function_">clone</span>(schema);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Pair</span>(key, value);
    }
    <span class="hljs-title function_">toJSON</span>(<span class="hljs-params">_, ctx</span>) {
        <span class="hljs-keyword">const</span> pair = ctx?.<span class="hljs-property">mapAsMap</span> ? <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>() : {};
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">addPairToJSMap</span>(ctx, pair, <span class="hljs-variable language_">this</span>);
    }
    <span class="hljs-title function_">toString</span>(<span class="hljs-params">ctx, onComment, onChompKeep</span>) {
        <span class="hljs-keyword">return</span> ctx?.<span class="hljs-property">doc</span>
            ? <span class="hljs-title function_">stringifyPair</span>(<span class="hljs-variable language_">this</span>, ctx, onComment, onChompKeep)
            : <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>);
    }
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/stringify/stringifyCollection.js</span>





<span class="hljs-keyword">function</span> <span class="hljs-title function_">stringifyCollection</span>(<span class="hljs-params">collection, ctx, options</span>) {
    <span class="hljs-keyword">const</span> flow = ctx.<span class="hljs-property">inFlow</span> ?? collection.<span class="hljs-property">flow</span>;
    <span class="hljs-keyword">const</span> stringify = flow ? stringifyFlowCollection : stringifyBlockCollection;
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">stringify</span>(collection, ctx, options);
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">stringifyBlockCollection</span>(<span class="hljs-params">{ comment, items }, ctx, { blockItemPrefix, flowChars, itemIndent, onChompKeep, onComment }</span>) {
    <span class="hljs-keyword">const</span> { indent, <span class="hljs-attr">options</span>: { commentString } } = ctx;
    <span class="hljs-keyword">const</span> itemCtx = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, ctx, { <span class="hljs-attr">indent</span>: itemIndent, <span class="hljs-attr">type</span>: <span class="hljs-literal">null</span> });
    <span class="hljs-keyword">let</span> chompKeep = <span class="hljs-literal">false</span>; <span class="hljs-comment">// flag for the preceding node&#x27;s status</span>
    <span class="hljs-keyword">const</span> lines = [];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; items.<span class="hljs-property">length</span>; ++i) {
        <span class="hljs-keyword">const</span> item = items[i];
        <span class="hljs-keyword">let</span> comment = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isNode</span>(item)) {
            <span class="hljs-keyword">if</span> (!chompKeep &amp;&amp; item.<span class="hljs-property">spaceBefore</span>)
                lines.<span class="hljs-title function_">push</span>(<span class="hljs-string">&#x27;&#x27;</span>);
            <span class="hljs-title function_">addCommentBefore</span>(ctx, lines, item.<span class="hljs-property">commentBefore</span>, chompKeep);
            <span class="hljs-keyword">if</span> (item.<span class="hljs-property">comment</span>)
                comment = item.<span class="hljs-property">comment</span>;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isPair</span>(item)) {
            <span class="hljs-keyword">const</span> ik = <span class="hljs-title function_">isNode</span>(item.<span class="hljs-property">key</span>) ? item.<span class="hljs-property">key</span> : <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">if</span> (ik) {
                <span class="hljs-keyword">if</span> (!chompKeep &amp;&amp; ik.<span class="hljs-property">spaceBefore</span>)
                    lines.<span class="hljs-title function_">push</span>(<span class="hljs-string">&#x27;&#x27;</span>);
                <span class="hljs-title function_">addCommentBefore</span>(ctx, lines, ik.<span class="hljs-property">commentBefore</span>, chompKeep);
            }
        }
        chompKeep = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">let</span> str = <span class="hljs-title function_">stringify</span>(item, itemCtx, <span class="hljs-function">() =&gt;</span> (comment = <span class="hljs-literal">null</span>), <span class="hljs-function">() =&gt;</span> (chompKeep = <span class="hljs-literal">true</span>));
        <span class="hljs-keyword">if</span> (comment)
            str += <span class="hljs-title function_">lineComment</span>(str, itemIndent, <span class="hljs-title function_">commentString</span>(comment));
        <span class="hljs-keyword">if</span> (chompKeep &amp;&amp; comment)
            chompKeep = <span class="hljs-literal">false</span>;
        lines.<span class="hljs-title function_">push</span>(blockItemPrefix + str);
    }
    <span class="hljs-keyword">let</span> str;
    <span class="hljs-keyword">if</span> (lines.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
        str = flowChars.<span class="hljs-property">start</span> + flowChars.<span class="hljs-property">end</span>;
    }
    <span class="hljs-keyword">else</span> {
        str = lines[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; lines.<span class="hljs-property">length</span>; ++i) {
            <span class="hljs-keyword">const</span> line = lines[i];
            str += line ? <span class="hljs-string">`\n<span class="hljs-subst">${indent}</span><span class="hljs-subst">${line}</span>`</span> : <span class="hljs-string">&#x27;\n&#x27;</span>;
        }
    }
    <span class="hljs-keyword">if</span> (comment) {
        str += <span class="hljs-string">&#x27;\n&#x27;</span> + <span class="hljs-title function_">indentComment</span>(<span class="hljs-title function_">commentString</span>(comment), indent);
        <span class="hljs-keyword">if</span> (onComment)
            <span class="hljs-title function_">onComment</span>();
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (chompKeep &amp;&amp; onChompKeep)
        <span class="hljs-title function_">onChompKeep</span>();
    <span class="hljs-keyword">return</span> str;
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">stringifyFlowCollection</span>(<span class="hljs-params">{ comment, items }, ctx, { flowChars, itemIndent, onComment }</span>) {
    <span class="hljs-keyword">const</span> { indent, indentStep, <span class="hljs-attr">flowCollectionPadding</span>: fcPadding, <span class="hljs-attr">options</span>: { commentString } } = ctx;
    itemIndent += indentStep;
    <span class="hljs-keyword">const</span> itemCtx = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, ctx, {
        <span class="hljs-attr">indent</span>: itemIndent,
        <span class="hljs-attr">inFlow</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-literal">null</span>
    });
    <span class="hljs-keyword">let</span> reqNewline = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">let</span> linesAtValue = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">const</span> lines = [];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; items.<span class="hljs-property">length</span>; ++i) {
        <span class="hljs-keyword">const</span> item = items[i];
        <span class="hljs-keyword">let</span> comment = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isNode</span>(item)) {
            <span class="hljs-keyword">if</span> (item.<span class="hljs-property">spaceBefore</span>)
                lines.<span class="hljs-title function_">push</span>(<span class="hljs-string">&#x27;&#x27;</span>);
            <span class="hljs-title function_">addCommentBefore</span>(ctx, lines, item.<span class="hljs-property">commentBefore</span>, <span class="hljs-literal">false</span>);
            <span class="hljs-keyword">if</span> (item.<span class="hljs-property">comment</span>)
                comment = item.<span class="hljs-property">comment</span>;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isPair</span>(item)) {
            <span class="hljs-keyword">const</span> ik = <span class="hljs-title function_">isNode</span>(item.<span class="hljs-property">key</span>) ? item.<span class="hljs-property">key</span> : <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">if</span> (ik) {
                <span class="hljs-keyword">if</span> (ik.<span class="hljs-property">spaceBefore</span>)
                    lines.<span class="hljs-title function_">push</span>(<span class="hljs-string">&#x27;&#x27;</span>);
                <span class="hljs-title function_">addCommentBefore</span>(ctx, lines, ik.<span class="hljs-property">commentBefore</span>, <span class="hljs-literal">false</span>);
                <span class="hljs-keyword">if</span> (ik.<span class="hljs-property">comment</span>)
                    reqNewline = <span class="hljs-literal">true</span>;
            }
            <span class="hljs-keyword">const</span> iv = <span class="hljs-title function_">isNode</span>(item.<span class="hljs-property">value</span>) ? item.<span class="hljs-property">value</span> : <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">if</span> (iv) {
                <span class="hljs-keyword">if</span> (iv.<span class="hljs-property">comment</span>)
                    comment = iv.<span class="hljs-property">comment</span>;
                <span class="hljs-keyword">if</span> (iv.<span class="hljs-property">commentBefore</span>)
                    reqNewline = <span class="hljs-literal">true</span>;
            }
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (item.<span class="hljs-property">value</span> == <span class="hljs-literal">null</span> &amp;&amp; ik &amp;&amp; ik.<span class="hljs-property">comment</span>) {
                comment = ik.<span class="hljs-property">comment</span>;
            }
        }
        <span class="hljs-keyword">if</span> (comment)
            reqNewline = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">let</span> str = <span class="hljs-title function_">stringify</span>(item, itemCtx, <span class="hljs-function">() =&gt;</span> (comment = <span class="hljs-literal">null</span>));
        <span class="hljs-keyword">if</span> (i &lt; items.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>)
            str += <span class="hljs-string">&#x27;,&#x27;</span>;
        <span class="hljs-keyword">if</span> (comment)
            str += <span class="hljs-title function_">lineComment</span>(str, itemIndent, <span class="hljs-title function_">commentString</span>(comment));
        <span class="hljs-keyword">if</span> (!reqNewline &amp;&amp; (lines.<span class="hljs-property">length</span> &gt; linesAtValue || str.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&#x27;\n&#x27;</span>)))
            reqNewline = <span class="hljs-literal">true</span>;
        lines.<span class="hljs-title function_">push</span>(str);
        linesAtValue = lines.<span class="hljs-property">length</span>;
    }
    <span class="hljs-keyword">let</span> str;
    <span class="hljs-keyword">const</span> { start, end } = flowChars;
    <span class="hljs-keyword">if</span> (lines.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
        str = start + end;
    }
    <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (!reqNewline) {
            <span class="hljs-keyword">const</span> len = lines.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">sum, line</span>) =&gt;</span> sum + line.<span class="hljs-property">length</span> + <span class="hljs-number">2</span>, <span class="hljs-number">2</span>);
            reqNewline = len &gt; <span class="hljs-title class_">Collection</span>.<span class="hljs-property">maxFlowStringSingleLineLength</span>;
        }
        <span class="hljs-keyword">if</span> (reqNewline) {
            str = start;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> line <span class="hljs-keyword">of</span> lines)
                str += line ? <span class="hljs-string">`\n<span class="hljs-subst">${indentStep}</span><span class="hljs-subst">${indent}</span><span class="hljs-subst">${line}</span>`</span> : <span class="hljs-string">&#x27;\n&#x27;</span>;
            str += <span class="hljs-string">`\n<span class="hljs-subst">${indent}</span><span class="hljs-subst">${end}</span>`</span>;
        }
        <span class="hljs-keyword">else</span> {
            str = <span class="hljs-string">`<span class="hljs-subst">${start}</span><span class="hljs-subst">${fcPadding}</span><span class="hljs-subst">${lines.join(<span class="hljs-string">&#x27; &#x27;</span>)}</span><span class="hljs-subst">${fcPadding}</span><span class="hljs-subst">${end}</span>`</span>;
        }
    }
    <span class="hljs-keyword">if</span> (comment) {
        str += <span class="hljs-title function_">lineComment</span>(str, <span class="hljs-title function_">commentString</span>(comment), indent);
        <span class="hljs-keyword">if</span> (onComment)
            <span class="hljs-title function_">onComment</span>();
    }
    <span class="hljs-keyword">return</span> str;
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">addCommentBefore</span>(<span class="hljs-params">{ indent, options: { commentString } }, lines, comment, chompKeep</span>) {
    <span class="hljs-keyword">if</span> (comment &amp;&amp; chompKeep)
        comment = comment.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^\n+/</span>, <span class="hljs-string">&#x27;&#x27;</span>);
    <span class="hljs-keyword">if</span> (comment) {
        <span class="hljs-keyword">const</span> ic = <span class="hljs-title function_">indentComment</span>(<span class="hljs-title function_">commentString</span>(comment), indent);
        lines.<span class="hljs-title function_">push</span>(ic.<span class="hljs-title function_">trimStart</span>()); <span class="hljs-comment">// Avoid double indent on first line</span>
    }
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/nodes/YAMLMap.js</span>







<span class="hljs-keyword">function</span> <span class="hljs-title function_">findPair</span>(<span class="hljs-params">items, key</span>) {
    <span class="hljs-keyword">const</span> k = <span class="hljs-title function_">isScalar</span>(key) ? key.<span class="hljs-property">value</span> : key;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> it <span class="hljs-keyword">of</span> items) {
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isPair</span>(it)) {
            <span class="hljs-keyword">if</span> (it.<span class="hljs-property">key</span> === key || it.<span class="hljs-property">key</span> === k)
                <span class="hljs-keyword">return</span> it;
            <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isScalar</span>(it.<span class="hljs-property">key</span>) &amp;&amp; it.<span class="hljs-property">key</span>.<span class="hljs-property">value</span> === k)
                <span class="hljs-keyword">return</span> it;
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>;
}
<span class="hljs-keyword">class</span> <span class="hljs-title class_">YAMLMap</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Collection</span> {
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">get</span> <span class="hljs-title function_">tagName</span>() {
        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;tag:yaml.org,2002:map&#x27;</span>;
    }
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">schema</span>) {
        <span class="hljs-variable language_">super</span>(<span class="hljs-variable constant_">MAP</span>, schema);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span> = [];
    }
    <span class="hljs-comment">/**
     * Adds a value to the collection.
     *
     * <span class="hljs-doctag">@param</span> <span class="hljs-variable">overwrite</span> - If not set `true`, using a key that is already in the
     *   collection will throw. Otherwise, overwrites the previous value.
     */</span>
    <span class="hljs-title function_">add</span>(<span class="hljs-params">pair, overwrite</span>) {
        <span class="hljs-keyword">let</span> _pair;
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isPair</span>(pair))
            _pair = pair;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!pair || <span class="hljs-keyword">typeof</span> pair !== <span class="hljs-string">&#x27;object&#x27;</span> || !(<span class="hljs-string">&#x27;key&#x27;</span> <span class="hljs-keyword">in</span> pair)) {
            <span class="hljs-comment">// In TypeScript, this never happens.</span>
            _pair = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Pair</span>(pair, pair?.<span class="hljs-property">value</span>);
        }
        <span class="hljs-keyword">else</span>
            _pair = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Pair</span>(pair.<span class="hljs-property">key</span>, pair.<span class="hljs-property">value</span>);
        <span class="hljs-keyword">const</span> prev = <span class="hljs-title function_">findPair</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>, _pair.<span class="hljs-property">key</span>);
        <span class="hljs-keyword">const</span> sortEntries = <span class="hljs-variable language_">this</span>.<span class="hljs-property">schema</span>?.<span class="hljs-property">sortMapEntries</span>;
        <span class="hljs-keyword">if</span> (prev) {
            <span class="hljs-keyword">if</span> (!overwrite)
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Key <span class="hljs-subst">${_pair.key}</span> already set`</span>);
            <span class="hljs-comment">// For scalars, keep the old node &amp; its comments and anchors</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isScalar</span>(prev.<span class="hljs-property">value</span>) &amp;&amp; <span class="hljs-title function_">isScalarValue</span>(_pair.<span class="hljs-property">value</span>))
                prev.<span class="hljs-property">value</span>.<span class="hljs-property">value</span> = _pair.<span class="hljs-property">value</span>;
            <span class="hljs-keyword">else</span>
                prev.<span class="hljs-property">value</span> = _pair.<span class="hljs-property">value</span>;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (sortEntries) {
            <span class="hljs-keyword">const</span> i = <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> <span class="hljs-title function_">sortEntries</span>(_pair, item) &lt; <span class="hljs-number">0</span>);
            <span class="hljs-keyword">if</span> (i === -<span class="hljs-number">1</span>)
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>(_pair);
            <span class="hljs-keyword">else</span>
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">splice</span>(i, <span class="hljs-number">0</span>, _pair);
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>(_pair);
        }
    }
    <span class="hljs-title function_">delete</span>(<span class="hljs-params">key</span>) {
        <span class="hljs-keyword">const</span> it = <span class="hljs-title function_">findPair</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>, key);
        <span class="hljs-keyword">if</span> (!it)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">const</span> del = <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">splice</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">indexOf</span>(it), <span class="hljs-number">1</span>);
        <span class="hljs-keyword">return</span> del.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>;
    }
    <span class="hljs-title function_">get</span>(<span class="hljs-params">key, keepScalar</span>) {
        <span class="hljs-keyword">const</span> it = <span class="hljs-title function_">findPair</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>, key);
        <span class="hljs-keyword">const</span> node = it?.<span class="hljs-property">value</span>;
        <span class="hljs-keyword">return</span> (!keepScalar &amp;&amp; <span class="hljs-title function_">isScalar</span>(node) ? node.<span class="hljs-property">value</span> : node) ?? <span class="hljs-literal">undefined</span>;
    }
    <span class="hljs-title function_">has</span>(<span class="hljs-params">key</span>) {
        <span class="hljs-keyword">return</span> !!<span class="hljs-title function_">findPair</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>, key);
    }
    <span class="hljs-title function_">set</span>(<span class="hljs-params">key, value</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">add</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Pair</span>(key, value), <span class="hljs-literal">true</span>);
    }
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> <span class="hljs-variable">ctx</span> - Conversion context, originally set in Document#toJS()
     * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Class</span>} <span class="hljs-variable">Type</span> - If set, forces the returned collection type
     * <span class="hljs-doctag">@returns</span> Instance of Type, Map, or Object
     */</span>
    <span class="hljs-title function_">toJSON</span>(<span class="hljs-params">_, ctx, Type</span>) {
        <span class="hljs-keyword">const</span> map = <span class="hljs-title class_">Type</span> ? <span class="hljs-keyword">new</span> <span class="hljs-title class_">Type</span>() : ctx?.<span class="hljs-property">mapAsMap</span> ? <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>() : {};
        <span class="hljs-keyword">if</span> (ctx?.<span class="hljs-property">onCreate</span>)
            ctx.<span class="hljs-title function_">onCreate</span>(map);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> item <span class="hljs-keyword">of</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>)
            <span class="hljs-title function_">addPairToJSMap</span>(ctx, map, item);
        <span class="hljs-keyword">return</span> map;
    }
    <span class="hljs-title function_">toString</span>(<span class="hljs-params">ctx, onComment, onChompKeep</span>) {
        <span class="hljs-keyword">if</span> (!ctx)
            <span class="hljs-keyword">return</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> item <span class="hljs-keyword">of</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>) {
            <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isPair</span>(item))
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Map items must all be pairs; found <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(item)}</span> instead`</span>);
        }
        <span class="hljs-keyword">if</span> (!ctx.<span class="hljs-property">allNullValues</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">hasAllNullValues</span>(<span class="hljs-literal">false</span>))
            ctx = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, ctx, { <span class="hljs-attr">allNullValues</span>: <span class="hljs-literal">true</span> });
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">stringifyCollection</span>(<span class="hljs-variable language_">this</span>, ctx, {
            <span class="hljs-attr">blockItemPrefix</span>: <span class="hljs-string">&#x27;&#x27;</span>,
            <span class="hljs-attr">flowChars</span>: { <span class="hljs-attr">start</span>: <span class="hljs-string">&#x27;{&#x27;</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">&#x27;}&#x27;</span> },
            <span class="hljs-attr">itemIndent</span>: ctx.<span class="hljs-property">indent</span> || <span class="hljs-string">&#x27;&#x27;</span>,
            onChompKeep,
            onComment
        });
    }
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/schema/common/map.js</span>




<span class="hljs-keyword">function</span> <span class="hljs-title function_">createMap</span>(<span class="hljs-params">schema, obj, ctx</span>) {
    <span class="hljs-keyword">const</span> { keepUndefined, replacer } = ctx;
    <span class="hljs-keyword">const</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">YAMLMap</span>(schema);
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">add</span> = (<span class="hljs-params">key, value</span>) =&gt; {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> replacer === <span class="hljs-string">&#x27;function&#x27;</span>)
            value = replacer.<span class="hljs-title function_">call</span>(obj, key, value);
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(replacer) &amp;&amp; !replacer.<span class="hljs-title function_">includes</span>(key))
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (value !== <span class="hljs-literal">undefined</span> || keepUndefined)
            map.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>(<span class="hljs-title function_">createPair</span>(key, value, ctx));
    };
    <span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Map</span>) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [key, value] <span class="hljs-keyword">of</span> obj)
            <span class="hljs-title function_">add</span>(key, value);
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (obj &amp;&amp; <span class="hljs-keyword">typeof</span> obj === <span class="hljs-string">&#x27;object&#x27;</span>) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">of</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(obj))
            <span class="hljs-title function_">add</span>(key, obj[key]);
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> schema.<span class="hljs-property">sortMapEntries</span> === <span class="hljs-string">&#x27;function&#x27;</span>) {
        map.<span class="hljs-property">items</span>.<span class="hljs-title function_">sort</span>(schema.<span class="hljs-property">sortMapEntries</span>);
    }
    <span class="hljs-keyword">return</span> map;
}
<span class="hljs-keyword">const</span> map = {
    <span class="hljs-attr">collection</span>: <span class="hljs-string">&#x27;map&#x27;</span>,
    <span class="hljs-attr">createNode</span>: createMap,
    <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">nodeClass</span>: <span class="hljs-title class_">YAMLMap</span>,
    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:map&#x27;</span>,
    <span class="hljs-title function_">resolve</span>(<span class="hljs-params">map, onError</span>) {
        <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isMap</span>(map))
            <span class="hljs-title function_">onError</span>(<span class="hljs-string">&#x27;Expected a mapping for this tag&#x27;</span>);
        <span class="hljs-keyword">return</span> map;
    }
};



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/nodes/YAMLSeq.js</span>






<span class="hljs-keyword">class</span> <span class="hljs-title class_">YAMLSeq</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Collection</span> {
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">get</span> <span class="hljs-title function_">tagName</span>() {
        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;tag:yaml.org,2002:seq&#x27;</span>;
    }
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">schema</span>) {
        <span class="hljs-variable language_">super</span>(<span class="hljs-variable constant_">SEQ</span>, schema);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span> = [];
    }
    <span class="hljs-title function_">add</span>(<span class="hljs-params">value</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>(value);
    }
    <span class="hljs-comment">/**
     * Removes a value from the collection.
     *
     * `key` must contain a representation of an integer for this to succeed.
     * It may be wrapped in a `Scalar`.
     *
     * <span class="hljs-doctag">@returns</span> `true` if the item was found and removed.
     */</span>
    <span class="hljs-title function_">delete</span>(<span class="hljs-params">key</span>) {
        <span class="hljs-keyword">const</span> idx = <span class="hljs-title function_">asItemIndex</span>(key);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> idx !== <span class="hljs-string">&#x27;number&#x27;</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">const</span> del = <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">splice</span>(idx, <span class="hljs-number">1</span>);
        <span class="hljs-keyword">return</span> del.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>;
    }
    <span class="hljs-title function_">get</span>(<span class="hljs-params">key, keepScalar</span>) {
        <span class="hljs-keyword">const</span> idx = <span class="hljs-title function_">asItemIndex</span>(key);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> idx !== <span class="hljs-string">&#x27;number&#x27;</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>;
        <span class="hljs-keyword">const</span> it = <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>[idx];
        <span class="hljs-keyword">return</span> !keepScalar &amp;&amp; <span class="hljs-title function_">isScalar</span>(it) ? it.<span class="hljs-property">value</span> : it;
    }
    <span class="hljs-comment">/**
     * Checks if the collection includes a value with the key `key`.
     *
     * `key` must contain a representation of an integer for this to succeed.
     * It may be wrapped in a `Scalar`.
     */</span>
    <span class="hljs-title function_">has</span>(<span class="hljs-params">key</span>) {
        <span class="hljs-keyword">const</span> idx = <span class="hljs-title function_">asItemIndex</span>(key);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> idx === <span class="hljs-string">&#x27;number&#x27;</span> &amp;&amp; idx &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-property">length</span>;
    }
    <span class="hljs-comment">/**
     * Sets a value in this collection. For `!!set`, `value` needs to be a
     * boolean to add/remove the item from the set.
     *
     * If `key` does not contain a representation of an integer, this will throw.
     * It may be wrapped in a `Scalar`.
     */</span>
    <span class="hljs-title function_">set</span>(<span class="hljs-params">key, value</span>) {
        <span class="hljs-keyword">const</span> idx = <span class="hljs-title function_">asItemIndex</span>(key);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> idx !== <span class="hljs-string">&#x27;number&#x27;</span>)
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Expected a valid index, not <span class="hljs-subst">${key}</span>.`</span>);
        <span class="hljs-keyword">const</span> prev = <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>[idx];
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isScalar</span>(prev) &amp;&amp; <span class="hljs-title function_">isScalarValue</span>(value))
            prev.<span class="hljs-property">value</span> = value;
        <span class="hljs-keyword">else</span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>[idx] = value;
    }
    <span class="hljs-title function_">toJSON</span>(<span class="hljs-params">_, ctx</span>) {
        <span class="hljs-keyword">const</span> seq = [];
        <span class="hljs-keyword">if</span> (ctx?.<span class="hljs-property">onCreate</span>)
            ctx.<span class="hljs-title function_">onCreate</span>(seq);
        <span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> item <span class="hljs-keyword">of</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>)
            seq.<span class="hljs-title function_">push</span>(<span class="hljs-title function_">toJS</span>(item, <span class="hljs-title class_">String</span>(i++), ctx));
        <span class="hljs-keyword">return</span> seq;
    }
    <span class="hljs-title function_">toString</span>(<span class="hljs-params">ctx, onComment, onChompKeep</span>) {
        <span class="hljs-keyword">if</span> (!ctx)
            <span class="hljs-keyword">return</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">stringifyCollection</span>(<span class="hljs-variable language_">this</span>, ctx, {
            <span class="hljs-attr">blockItemPrefix</span>: <span class="hljs-string">&#x27;- &#x27;</span>,
            <span class="hljs-attr">flowChars</span>: { <span class="hljs-attr">start</span>: <span class="hljs-string">&#x27;[&#x27;</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">&#x27;]&#x27;</span> },
            <span class="hljs-attr">itemIndent</span>: (ctx.<span class="hljs-property">indent</span> || <span class="hljs-string">&#x27;&#x27;</span>) + <span class="hljs-string">&#x27;  &#x27;</span>,
            onChompKeep,
            onComment
        });
    }
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">asItemIndex</span>(<span class="hljs-params">key</span>) {
    <span class="hljs-keyword">let</span> idx = <span class="hljs-title function_">isScalar</span>(key) ? key.<span class="hljs-property">value</span> : key;
    <span class="hljs-keyword">if</span> (idx &amp;&amp; <span class="hljs-keyword">typeof</span> idx === <span class="hljs-string">&#x27;string&#x27;</span>)
        idx = <span class="hljs-title class_">Number</span>(idx);
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> idx === <span class="hljs-string">&#x27;number&#x27;</span> &amp;&amp; <span class="hljs-title class_">Number</span>.<span class="hljs-title function_">isInteger</span>(idx) &amp;&amp; idx &gt;= <span class="hljs-number">0</span>
        ? idx
        : <span class="hljs-literal">null</span>;
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/schema/common/seq.js</span>




<span class="hljs-keyword">function</span> <span class="hljs-title function_">createSeq</span>(<span class="hljs-params">schema, obj, ctx</span>) {
    <span class="hljs-keyword">const</span> { replacer } = ctx;
    <span class="hljs-keyword">const</span> seq = <span class="hljs-keyword">new</span> <span class="hljs-title class_">YAMLSeq</span>(schema);
    <span class="hljs-keyword">if</span> (obj &amp;&amp; <span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span> <span class="hljs-keyword">in</span> <span class="hljs-title class_">Object</span>(obj)) {
        <span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> it <span class="hljs-keyword">of</span> obj) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> replacer === <span class="hljs-string">&#x27;function&#x27;</span>) {
                <span class="hljs-keyword">const</span> key = obj <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Set</span> ? it : <span class="hljs-title class_">String</span>(i++);
                it = replacer.<span class="hljs-title function_">call</span>(obj, key, it);
            }
            seq.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>(<span class="hljs-title function_">createNode</span>(it, <span class="hljs-literal">undefined</span>, ctx));
        }
    }
    <span class="hljs-keyword">return</span> seq;
}
<span class="hljs-keyword">const</span> seq = {
    <span class="hljs-attr">collection</span>: <span class="hljs-string">&#x27;seq&#x27;</span>,
    <span class="hljs-attr">createNode</span>: createSeq,
    <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">nodeClass</span>: <span class="hljs-title class_">YAMLSeq</span>,
    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:seq&#x27;</span>,
    <span class="hljs-title function_">resolve</span>(<span class="hljs-params">seq, onError</span>) {
        <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isSeq</span>(seq))
            <span class="hljs-title function_">onError</span>(<span class="hljs-string">&#x27;Expected a sequence for this tag&#x27;</span>);
        <span class="hljs-keyword">return</span> seq;
    }
};



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/schema/common/string.js</span>


<span class="hljs-keyword">const</span> string = {
    <span class="hljs-attr">identify</span>: <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&#x27;string&#x27;</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:str&#x27;</span>,
    <span class="hljs-attr">resolve</span>: <span class="hljs-function"><span class="hljs-params">str</span> =&gt;</span> str,
    <span class="hljs-title function_">stringify</span>(<span class="hljs-params">item, ctx, onComment, onChompKeep</span>) {
        ctx = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({ <span class="hljs-attr">actualString</span>: <span class="hljs-literal">true</span> }, ctx);
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">stringifyString_stringifyString</span>(item, ctx, onComment, onChompKeep);
    }
};



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/schema/common/null.js</span>


<span class="hljs-keyword">const</span> nullTag = {
    <span class="hljs-attr">identify</span>: <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> value == <span class="hljs-literal">null</span>,
    <span class="hljs-attr">createNode</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scalar</span>(<span class="hljs-literal">null</span>),
    <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:null&#x27;</span>,
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/^(?:~|[Nn]ull|NULL)?$/</span>,
    <span class="hljs-attr">resolve</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scalar</span>(<span class="hljs-literal">null</span>),
    <span class="hljs-attr">stringify</span>: <span class="hljs-function">(<span class="hljs-params">{ source }, ctx</span>) =&gt;</span> <span class="hljs-keyword">typeof</span> source === <span class="hljs-string">&#x27;string&#x27;</span> &amp;&amp; nullTag.<span class="hljs-property">test</span>.<span class="hljs-title function_">test</span>(source)
        ? source
        : ctx.<span class="hljs-property">options</span>.<span class="hljs-property">nullStr</span>
};



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/schema/core/bool.js</span>


<span class="hljs-keyword">const</span> boolTag = {
    <span class="hljs-attr">identify</span>: <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&#x27;boolean&#x27;</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:bool&#x27;</span>,
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/</span>,
    <span class="hljs-attr">resolve</span>: <span class="hljs-function"><span class="hljs-params">str</span> =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scalar</span>(str[<span class="hljs-number">0</span>] === <span class="hljs-string">&#x27;t&#x27;</span> || str[<span class="hljs-number">0</span>] === <span class="hljs-string">&#x27;T&#x27;</span>),
    <span class="hljs-title function_">stringify</span>(<span class="hljs-params">{ source, value }, ctx</span>) {
        <span class="hljs-keyword">if</span> (source &amp;&amp; boolTag.<span class="hljs-property">test</span>.<span class="hljs-title function_">test</span>(source)) {
            <span class="hljs-keyword">const</span> sv = source[<span class="hljs-number">0</span>] === <span class="hljs-string">&#x27;t&#x27;</span> || source[<span class="hljs-number">0</span>] === <span class="hljs-string">&#x27;T&#x27;</span>;
            <span class="hljs-keyword">if</span> (value === sv)
                <span class="hljs-keyword">return</span> source;
        }
        <span class="hljs-keyword">return</span> value ? ctx.<span class="hljs-property">options</span>.<span class="hljs-property">trueStr</span> : ctx.<span class="hljs-property">options</span>.<span class="hljs-property">falseStr</span>;
    }
};



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/stringify/stringifyNumber.js</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">stringifyNumber</span>(<span class="hljs-params">{ format, minFractionDigits, tag, value }</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&#x27;bigint&#x27;</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">String</span>(value);
    <span class="hljs-keyword">const</span> num = <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&#x27;number&#x27;</span> ? value : <span class="hljs-title class_">Number</span>(value);
    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">isFinite</span>(num))
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">isNaN</span>(num) ? <span class="hljs-string">&#x27;.nan&#x27;</span> : num &lt; <span class="hljs-number">0</span> ? <span class="hljs-string">&#x27;-.inf&#x27;</span> : <span class="hljs-string">&#x27;.inf&#x27;</span>;
    <span class="hljs-keyword">let</span> n = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(value);
    <span class="hljs-keyword">if</span> (!format &amp;&amp;
        minFractionDigits &amp;&amp;
        (!tag || tag === <span class="hljs-string">&#x27;tag:yaml.org,2002:float&#x27;</span>) &amp;&amp;
        <span class="hljs-regexp">/^\d/</span>.<span class="hljs-title function_">test</span>(n)) {
        <span class="hljs-keyword">let</span> i = n.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;.&#x27;</span>);
        <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">0</span>) {
            i = n.<span class="hljs-property">length</span>;
            n += <span class="hljs-string">&#x27;.&#x27;</span>;
        }
        <span class="hljs-keyword">let</span> d = minFractionDigits - (n.<span class="hljs-property">length</span> - i - <span class="hljs-number">1</span>);
        <span class="hljs-keyword">while</span> (d-- &gt; <span class="hljs-number">0</span>)
            n += <span class="hljs-string">&#x27;0&#x27;</span>;
    }
    <span class="hljs-keyword">return</span> n;
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/schema/core/float.js</span>



<span class="hljs-keyword">const</span> floatNaN = {
    <span class="hljs-attr">identify</span>: <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&#x27;number&#x27;</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:float&#x27;</span>,
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/</span>,
    <span class="hljs-attr">resolve</span>: <span class="hljs-function"><span class="hljs-params">str</span> =&gt;</span> str.<span class="hljs-title function_">slice</span>(-<span class="hljs-number">3</span>).<span class="hljs-title function_">toLowerCase</span>() === <span class="hljs-string">&#x27;nan&#x27;</span>
        ? <span class="hljs-title class_">NaN</span>
        : str[<span class="hljs-number">0</span>] === <span class="hljs-string">&#x27;-&#x27;</span>
            ? <span class="hljs-title class_">Number</span>.<span class="hljs-property">NEGATIVE_INFINITY</span>
            : <span class="hljs-title class_">Number</span>.<span class="hljs-property">POSITIVE_INFINITY</span>,
    <span class="hljs-attr">stringify</span>: stringifyNumber
};
<span class="hljs-keyword">const</span> floatExp = {
    <span class="hljs-attr">identify</span>: <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&#x27;number&#x27;</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:float&#x27;</span>,
    <span class="hljs-attr">format</span>: <span class="hljs-string">&#x27;EXP&#x27;</span>,
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/</span>,
    <span class="hljs-attr">resolve</span>: <span class="hljs-function"><span class="hljs-params">str</span> =&gt;</span> <span class="hljs-built_in">parseFloat</span>(str),
    <span class="hljs-title function_">stringify</span>(<span class="hljs-params">node</span>) {
        <span class="hljs-keyword">const</span> num = <span class="hljs-title class_">Number</span>(node.<span class="hljs-property">value</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">isFinite</span>(num) ? num.<span class="hljs-title function_">toExponential</span>() : <span class="hljs-title function_">stringifyNumber</span>(node);
    }
};
<span class="hljs-keyword">const</span> float_float = {
    <span class="hljs-attr">identify</span>: <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&#x27;number&#x27;</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:float&#x27;</span>,
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/</span>,
    <span class="hljs-title function_">resolve</span>(<span class="hljs-params">str</span>) {
        <span class="hljs-keyword">const</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scalar</span>(<span class="hljs-built_in">parseFloat</span>(str));
        <span class="hljs-keyword">const</span> dot = str.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;.&#x27;</span>);
        <span class="hljs-keyword">if</span> (dot !== -<span class="hljs-number">1</span> &amp;&amp; str[str.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>] === <span class="hljs-string">&#x27;0&#x27;</span>)
            node.<span class="hljs-property">minFractionDigits</span> = str.<span class="hljs-property">length</span> - dot - <span class="hljs-number">1</span>;
        <span class="hljs-keyword">return</span> node;
    },
    <span class="hljs-attr">stringify</span>: stringifyNumber
};



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/schema/core/int.js</span>


<span class="hljs-keyword">const</span> <span class="hljs-title function_">intIdentify</span> = (<span class="hljs-params">value</span>) =&gt; <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&#x27;bigint&#x27;</span> || <span class="hljs-title class_">Number</span>.<span class="hljs-title function_">isInteger</span>(value);
<span class="hljs-keyword">const</span> <span class="hljs-title function_">intResolve</span> = (<span class="hljs-params">str, offset, radix, { intAsBigInt }</span>) =&gt; (intAsBigInt ? <span class="hljs-title class_">BigInt</span>(str) : <span class="hljs-built_in">parseInt</span>(str.<span class="hljs-title function_">substring</span>(offset), radix));
<span class="hljs-keyword">function</span> <span class="hljs-title function_">intStringify</span>(<span class="hljs-params">node, radix, prefix</span>) {
    <span class="hljs-keyword">const</span> { value } = node;
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">intIdentify</span>(value) &amp;&amp; value &gt;= <span class="hljs-number">0</span>)
        <span class="hljs-keyword">return</span> prefix + value.<span class="hljs-title function_">toString</span>(radix);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">stringifyNumber</span>(node);
}
<span class="hljs-keyword">const</span> intOct = {
    <span class="hljs-attr">identify</span>: <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> <span class="hljs-title function_">intIdentify</span>(value) &amp;&amp; value &gt;= <span class="hljs-number">0</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:int&#x27;</span>,
    <span class="hljs-attr">format</span>: <span class="hljs-string">&#x27;OCT&#x27;</span>,
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/^0o[0-7]+$/</span>,
    <span class="hljs-attr">resolve</span>: <span class="hljs-function">(<span class="hljs-params">str, _onError, opt</span>) =&gt;</span> <span class="hljs-title function_">intResolve</span>(str, <span class="hljs-number">2</span>, <span class="hljs-number">8</span>, opt),
    <span class="hljs-attr">stringify</span>: <span class="hljs-function"><span class="hljs-params">node</span> =&gt;</span> <span class="hljs-title function_">intStringify</span>(node, <span class="hljs-number">8</span>, <span class="hljs-string">&#x27;0o&#x27;</span>)
};
<span class="hljs-keyword">const</span> int_int = {
    <span class="hljs-attr">identify</span>: intIdentify,
    <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:int&#x27;</span>,
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/^[-+]?[0-9]+$/</span>,
    <span class="hljs-attr">resolve</span>: <span class="hljs-function">(<span class="hljs-params">str, _onError, opt</span>) =&gt;</span> <span class="hljs-title function_">intResolve</span>(str, <span class="hljs-number">0</span>, <span class="hljs-number">10</span>, opt),
    <span class="hljs-attr">stringify</span>: stringifyNumber
};
<span class="hljs-keyword">const</span> intHex = {
    <span class="hljs-attr">identify</span>: <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> <span class="hljs-title function_">intIdentify</span>(value) &amp;&amp; value &gt;= <span class="hljs-number">0</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:int&#x27;</span>,
    <span class="hljs-attr">format</span>: <span class="hljs-string">&#x27;HEX&#x27;</span>,
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/^0x[0-9a-fA-F]+$/</span>,
    <span class="hljs-attr">resolve</span>: <span class="hljs-function">(<span class="hljs-params">str, _onError, opt</span>) =&gt;</span> <span class="hljs-title function_">intResolve</span>(str, <span class="hljs-number">2</span>, <span class="hljs-number">16</span>, opt),
    <span class="hljs-attr">stringify</span>: <span class="hljs-function"><span class="hljs-params">node</span> =&gt;</span> <span class="hljs-title function_">intStringify</span>(node, <span class="hljs-number">16</span>, <span class="hljs-string">&#x27;0x&#x27;</span>)
};



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/schema/core/schema.js</span>








<span class="hljs-keyword">const</span> schema = [
    map,
    seq,
    string,
    nullTag,
    boolTag,
    intOct,
    int_int,
    intHex,
    floatNaN,
    floatExp,
    float_float
];



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/schema/json/schema.js</span>




<span class="hljs-keyword">function</span> <span class="hljs-title function_">schema_intIdentify</span>(<span class="hljs-params">value</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&#x27;bigint&#x27;</span> || <span class="hljs-title class_">Number</span>.<span class="hljs-title function_">isInteger</span>(value);
}
<span class="hljs-keyword">const</span> <span class="hljs-title function_">stringifyJSON</span> = (<span class="hljs-params">{ value }</span>) =&gt; <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(value);
<span class="hljs-keyword">const</span> jsonScalars = [
    {
        <span class="hljs-attr">identify</span>: <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&#x27;string&#x27;</span>,
        <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:str&#x27;</span>,
        <span class="hljs-attr">resolve</span>: <span class="hljs-function"><span class="hljs-params">str</span> =&gt;</span> str,
        <span class="hljs-attr">stringify</span>: stringifyJSON
    },
    {
        <span class="hljs-attr">identify</span>: <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> value == <span class="hljs-literal">null</span>,
        <span class="hljs-attr">createNode</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scalar</span>(<span class="hljs-literal">null</span>),
        <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:null&#x27;</span>,
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/^null$/</span>,
        <span class="hljs-attr">resolve</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-literal">null</span>,
        <span class="hljs-attr">stringify</span>: stringifyJSON
    },
    {
        <span class="hljs-attr">identify</span>: <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&#x27;boolean&#x27;</span>,
        <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:bool&#x27;</span>,
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/^true|false$/</span>,
        <span class="hljs-attr">resolve</span>: <span class="hljs-function"><span class="hljs-params">str</span> =&gt;</span> str === <span class="hljs-string">&#x27;true&#x27;</span>,
        <span class="hljs-attr">stringify</span>: stringifyJSON
    },
    {
        <span class="hljs-attr">identify</span>: schema_intIdentify,
        <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:int&#x27;</span>,
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/^-?(?:0|[1-9][0-9]*)$/</span>,
        <span class="hljs-attr">resolve</span>: <span class="hljs-function">(<span class="hljs-params">str, _onError, { intAsBigInt }</span>) =&gt;</span> intAsBigInt ? <span class="hljs-title class_">BigInt</span>(str) : <span class="hljs-built_in">parseInt</span>(str, <span class="hljs-number">10</span>),
        <span class="hljs-attr">stringify</span>: <span class="hljs-function">(<span class="hljs-params">{ value }</span>) =&gt;</span> <span class="hljs-title function_">schema_intIdentify</span>(value) ? value.<span class="hljs-title function_">toString</span>() : <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(value)
    },
    {
        <span class="hljs-attr">identify</span>: <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&#x27;number&#x27;</span>,
        <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:float&#x27;</span>,
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/</span>,
        <span class="hljs-attr">resolve</span>: <span class="hljs-function"><span class="hljs-params">str</span> =&gt;</span> <span class="hljs-built_in">parseFloat</span>(str),
        <span class="hljs-attr">stringify</span>: stringifyJSON
    }
];
<span class="hljs-keyword">const</span> jsonError = {
    <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;&#x27;</span>,
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/^/</span>,
    <span class="hljs-title function_">resolve</span>(<span class="hljs-params">str, onError</span>) {
        <span class="hljs-title function_">onError</span>(<span class="hljs-string">`Unresolved plain scalar <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(str)}</span>`</span>);
        <span class="hljs-keyword">return</span> str;
    }
};
<span class="hljs-keyword">const</span> schema_schema = [map, seq].<span class="hljs-title function_">concat</span>(jsonScalars, jsonError);



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/schema/yaml-1.1/binary.js</span>



<span class="hljs-keyword">const</span> binary = {
    <span class="hljs-attr">identify</span>: <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> value <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Uint8Array</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:binary&#x27;</span>,
    <span class="hljs-comment">/**
     * Returns a Buffer in node and an Uint8Array in browsers
     *
     * To use the resulting buffer as an image, you&#x27;ll want to do something like:
     *
     *   const blob = new Blob([buffer], { type: &#x27;image/jpeg&#x27; })
     *   document.querySelector(&#x27;#photo&#x27;).src = URL.createObjectURL(blob)
     */</span>
    <span class="hljs-title function_">resolve</span>(<span class="hljs-params">src, onError</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Buffer</span> === <span class="hljs-string">&#x27;function&#x27;</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(src, <span class="hljs-string">&#x27;base64&#x27;</span>);
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> atob === <span class="hljs-string">&#x27;function&#x27;</span>) {
            <span class="hljs-comment">// On IE 11, atob() can&#x27;t handle newlines</span>
            <span class="hljs-keyword">const</span> str = <span class="hljs-title function_">atob</span>(src.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[\n\r]/g</span>, <span class="hljs-string">&#x27;&#x27;</span>));
            <span class="hljs-keyword">const</span> buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(str.<span class="hljs-property">length</span>);
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; str.<span class="hljs-property">length</span>; ++i)
                buffer[i] = str.<span class="hljs-title function_">charCodeAt</span>(i);
            <span class="hljs-keyword">return</span> buffer;
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-title function_">onError</span>(<span class="hljs-string">&#x27;This environment does not support reading binary tags; either Buffer or atob is required&#x27;</span>);
            <span class="hljs-keyword">return</span> src;
        }
    },
    <span class="hljs-title function_">stringify</span>(<span class="hljs-params">{ comment, type, value }, ctx, onComment, onChompKeep</span>) {
        <span class="hljs-keyword">const</span> buf = value; <span class="hljs-comment">// checked earlier by binary.identify()</span>
        <span class="hljs-keyword">let</span> str;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Buffer</span> === <span class="hljs-string">&#x27;function&#x27;</span>) {
            str =
                buf <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Buffer</span>
                    ? buf.<span class="hljs-title function_">toString</span>(<span class="hljs-string">&#x27;base64&#x27;</span>)
                    : <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(buf.<span class="hljs-property">buffer</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-string">&#x27;base64&#x27;</span>);
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> btoa === <span class="hljs-string">&#x27;function&#x27;</span>) {
            <span class="hljs-keyword">let</span> s = <span class="hljs-string">&#x27;&#x27;</span>;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; buf.<span class="hljs-property">length</span>; ++i)
                s += <span class="hljs-title class_">String</span>.<span class="hljs-title function_">fromCharCode</span>(buf[i]);
            str = <span class="hljs-title function_">btoa</span>(s);
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;This environment does not support writing binary tags; either Buffer or btoa is required&#x27;</span>);
        }
        <span class="hljs-keyword">if</span> (!type)
            type = <span class="hljs-title class_">Scalar</span>.<span class="hljs-property">BLOCK_LITERAL</span>;
        <span class="hljs-keyword">if</span> (type !== <span class="hljs-title class_">Scalar</span>.<span class="hljs-property">QUOTE_DOUBLE</span>) {
            <span class="hljs-keyword">const</span> lineWidth = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(ctx.<span class="hljs-property">options</span>.<span class="hljs-property">lineWidth</span> - ctx.<span class="hljs-property">indent</span>.<span class="hljs-property">length</span>, ctx.<span class="hljs-property">options</span>.<span class="hljs-property">minContentWidth</span>);
            <span class="hljs-keyword">const</span> n = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(str.<span class="hljs-property">length</span> / lineWidth);
            <span class="hljs-keyword">const</span> lines = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(n);
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>, o = <span class="hljs-number">0</span>; i &lt; n; ++i, o += lineWidth) {
                lines[i] = str.<span class="hljs-title function_">substr</span>(o, lineWidth);
            }
            str = lines.<span class="hljs-title function_">join</span>(type === <span class="hljs-title class_">Scalar</span>.<span class="hljs-property">BLOCK_LITERAL</span> ? <span class="hljs-string">&#x27;\n&#x27;</span> : <span class="hljs-string">&#x27; &#x27;</span>);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">stringifyString_stringifyString</span>({ comment, type, <span class="hljs-attr">value</span>: str }, ctx, onComment, onChompKeep);
    }
};



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/schema/yaml-1.1/pairs.js</span>





<span class="hljs-keyword">function</span> <span class="hljs-title function_">resolvePairs</span>(<span class="hljs-params">seq, onError</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isSeq</span>(seq)) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; seq.<span class="hljs-property">items</span>.<span class="hljs-property">length</span>; ++i) {
            <span class="hljs-keyword">let</span> item = seq.<span class="hljs-property">items</span>[i];
            <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isPair</span>(item))
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isMap</span>(item)) {
                <span class="hljs-keyword">if</span> (item.<span class="hljs-property">items</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">1</span>)
                    <span class="hljs-title function_">onError</span>(<span class="hljs-string">&#x27;Each pair must have its own sequence indicator&#x27;</span>);
                <span class="hljs-keyword">const</span> pair = item.<span class="hljs-property">items</span>[<span class="hljs-number">0</span>] || <span class="hljs-keyword">new</span> <span class="hljs-title class_">Pair</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Scalar</span>(<span class="hljs-literal">null</span>));
                <span class="hljs-keyword">if</span> (item.<span class="hljs-property">commentBefore</span>)
                    pair.<span class="hljs-property">key</span>.<span class="hljs-property">commentBefore</span> = pair.<span class="hljs-property">key</span>.<span class="hljs-property">commentBefore</span>
                        ? <span class="hljs-string">`<span class="hljs-subst">${item.commentBefore}</span>\n<span class="hljs-subst">${pair.key.commentBefore}</span>`</span>
                        : item.<span class="hljs-property">commentBefore</span>;
                <span class="hljs-keyword">if</span> (item.<span class="hljs-property">comment</span>) {
                    <span class="hljs-keyword">const</span> cn = pair.<span class="hljs-property">value</span> ?? pair.<span class="hljs-property">key</span>;
                    cn.<span class="hljs-property">comment</span> = cn.<span class="hljs-property">comment</span>
                        ? <span class="hljs-string">`<span class="hljs-subst">${item.comment}</span>\n<span class="hljs-subst">${cn.comment}</span>`</span>
                        : item.<span class="hljs-property">comment</span>;
                }
                item = pair;
            }
            seq.<span class="hljs-property">items</span>[i] = <span class="hljs-title function_">isPair</span>(item) ? item : <span class="hljs-keyword">new</span> <span class="hljs-title class_">Pair</span>(item);
        }
    }
    <span class="hljs-keyword">else</span>
        <span class="hljs-title function_">onError</span>(<span class="hljs-string">&#x27;Expected a sequence for this tag&#x27;</span>);
    <span class="hljs-keyword">return</span> seq;
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createPairs</span>(<span class="hljs-params">schema, iterable, ctx</span>) {
    <span class="hljs-keyword">const</span> { replacer } = ctx;
    <span class="hljs-keyword">const</span> pairs = <span class="hljs-keyword">new</span> <span class="hljs-title class_">YAMLSeq</span>(schema);
    pairs.<span class="hljs-property">tag</span> = <span class="hljs-string">&#x27;tag:yaml.org,2002:pairs&#x27;</span>;
    <span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">if</span> (iterable &amp;&amp; <span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span> <span class="hljs-keyword">in</span> <span class="hljs-title class_">Object</span>(iterable))
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> it <span class="hljs-keyword">of</span> iterable) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> replacer === <span class="hljs-string">&#x27;function&#x27;</span>)
                it = replacer.<span class="hljs-title function_">call</span>(iterable, <span class="hljs-title class_">String</span>(i++), it);
            <span class="hljs-keyword">let</span> key, value;
            <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(it)) {
                <span class="hljs-keyword">if</span> (it.<span class="hljs-property">length</span> === <span class="hljs-number">2</span>) {
                    key = it[<span class="hljs-number">0</span>];
                    value = it[<span class="hljs-number">1</span>];
                }
                <span class="hljs-keyword">else</span>
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">`Expected [key, value] tuple: <span class="hljs-subst">${it}</span>`</span>);
            }
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (it &amp;&amp; it <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Object</span>) {
                <span class="hljs-keyword">const</span> keys = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(it);
                <span class="hljs-keyword">if</span> (keys.<span class="hljs-property">length</span> === <span class="hljs-number">1</span>) {
                    key = keys[<span class="hljs-number">0</span>];
                    value = it[key];
                }
                <span class="hljs-keyword">else</span>
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">`Expected { key: value } tuple: <span class="hljs-subst">${it}</span>`</span>);
            }
            <span class="hljs-keyword">else</span> {
                key = it;
            }
            pairs.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>(<span class="hljs-title function_">createPair</span>(key, value, ctx));
        }
    <span class="hljs-keyword">return</span> pairs;
}
<span class="hljs-keyword">const</span> pairs = {
    <span class="hljs-attr">collection</span>: <span class="hljs-string">&#x27;seq&#x27;</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:pairs&#x27;</span>,
    <span class="hljs-attr">resolve</span>: resolvePairs,
    <span class="hljs-attr">createNode</span>: createPairs
};



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/schema/yaml-1.1/omap.js</span>






<span class="hljs-keyword">class</span> <span class="hljs-title class_">YAMLOMap</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">YAMLSeq</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {
        <span class="hljs-variable language_">super</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">add</span> = <span class="hljs-title class_">YAMLMap</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">add</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">delete</span> = <span class="hljs-title class_">YAMLMap</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>[<span class="hljs-string">&quot;delete&quot;</span>].<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">get</span> = <span class="hljs-title class_">YAMLMap</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">get</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">has</span> = <span class="hljs-title class_">YAMLMap</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">has</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">set</span> = <span class="hljs-title class_">YAMLMap</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">set</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">tag</span> = <span class="hljs-title class_">YAMLOMap</span>.<span class="hljs-property">tag</span>;
    }
    <span class="hljs-comment">/**
     * If `ctx` is given, the return type is actually `Map&lt;unknown, unknown&gt;`,
     * but TypeScript won&#x27;t allow widening the signature of a child method.
     */</span>
    <span class="hljs-title function_">toJSON</span>(<span class="hljs-params">_, ctx</span>) {
        <span class="hljs-keyword">if</span> (!ctx)
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">toJSON</span>(_);
        <span class="hljs-keyword">const</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
        <span class="hljs-keyword">if</span> (ctx?.<span class="hljs-property">onCreate</span>)
            ctx.<span class="hljs-title function_">onCreate</span>(map);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> pair <span class="hljs-keyword">of</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>) {
            <span class="hljs-keyword">let</span> key, value;
            <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isPair</span>(pair)) {
                key = <span class="hljs-title function_">toJS</span>(pair.<span class="hljs-property">key</span>, <span class="hljs-string">&#x27;&#x27;</span>, ctx);
                value = <span class="hljs-title function_">toJS</span>(pair.<span class="hljs-property">value</span>, key, ctx);
            }
            <span class="hljs-keyword">else</span> {
                key = <span class="hljs-title function_">toJS</span>(pair, <span class="hljs-string">&#x27;&#x27;</span>, ctx);
            }
            <span class="hljs-keyword">if</span> (map.<span class="hljs-title function_">has</span>(key))
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Ordered maps must not include duplicate keys&#x27;</span>);
            map.<span class="hljs-title function_">set</span>(key, value);
        }
        <span class="hljs-keyword">return</span> map;
    }
}
<span class="hljs-title class_">YAMLOMap</span>.<span class="hljs-property">tag</span> = <span class="hljs-string">&#x27;tag:yaml.org,2002:omap&#x27;</span>;
<span class="hljs-keyword">const</span> omap = {
    <span class="hljs-attr">collection</span>: <span class="hljs-string">&#x27;seq&#x27;</span>,
    <span class="hljs-attr">identify</span>: <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> value <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Map</span>,
    <span class="hljs-attr">nodeClass</span>: <span class="hljs-title class_">YAMLOMap</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:omap&#x27;</span>,
    <span class="hljs-title function_">resolve</span>(<span class="hljs-params">seq, onError</span>) {
        <span class="hljs-keyword">const</span> pairs = <span class="hljs-title function_">resolvePairs</span>(seq, onError);
        <span class="hljs-keyword">const</span> seenKeys = [];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> { key } <span class="hljs-keyword">of</span> pairs.<span class="hljs-property">items</span>) {
            <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isScalar</span>(key)) {
                <span class="hljs-keyword">if</span> (seenKeys.<span class="hljs-title function_">includes</span>(key.<span class="hljs-property">value</span>)) {
                    <span class="hljs-title function_">onError</span>(<span class="hljs-string">`Ordered maps must not include duplicate keys: <span class="hljs-subst">${key.value}</span>`</span>);
                }
                <span class="hljs-keyword">else</span> {
                    seenKeys.<span class="hljs-title function_">push</span>(key.<span class="hljs-property">value</span>);
                }
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">YAMLOMap</span>(), pairs);
    },
    <span class="hljs-title function_">createNode</span>(<span class="hljs-params">schema, iterable, ctx</span>) {
        <span class="hljs-keyword">const</span> pairs = <span class="hljs-title function_">createPairs</span>(schema, iterable, ctx);
        <span class="hljs-keyword">const</span> omap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">YAMLOMap</span>();
        omap.<span class="hljs-property">items</span> = pairs.<span class="hljs-property">items</span>;
        <span class="hljs-keyword">return</span> omap;
    }
};



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/schema/yaml-1.1/bool.js</span>


<span class="hljs-keyword">function</span> <span class="hljs-title function_">boolStringify</span>(<span class="hljs-params">{ value, source }, ctx</span>) {
    <span class="hljs-keyword">const</span> boolObj = value ? trueTag : falseTag;
    <span class="hljs-keyword">if</span> (source &amp;&amp; boolObj.<span class="hljs-property">test</span>.<span class="hljs-title function_">test</span>(source))
        <span class="hljs-keyword">return</span> source;
    <span class="hljs-keyword">return</span> value ? ctx.<span class="hljs-property">options</span>.<span class="hljs-property">trueStr</span> : ctx.<span class="hljs-property">options</span>.<span class="hljs-property">falseStr</span>;
}
<span class="hljs-keyword">const</span> trueTag = {
    <span class="hljs-attr">identify</span>: <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> value === <span class="hljs-literal">true</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:bool&#x27;</span>,
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/</span>,
    <span class="hljs-attr">resolve</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scalar</span>(<span class="hljs-literal">true</span>),
    <span class="hljs-attr">stringify</span>: boolStringify
};
<span class="hljs-keyword">const</span> falseTag = {
    <span class="hljs-attr">identify</span>: <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> value === <span class="hljs-literal">false</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:bool&#x27;</span>,
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i</span>,
    <span class="hljs-attr">resolve</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scalar</span>(<span class="hljs-literal">false</span>),
    <span class="hljs-attr">stringify</span>: boolStringify
};



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/schema/yaml-1.1/float.js</span>



<span class="hljs-keyword">const</span> float_floatNaN = {
    <span class="hljs-attr">identify</span>: <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&#x27;number&#x27;</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:float&#x27;</span>,
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/</span>,
    <span class="hljs-attr">resolve</span>: <span class="hljs-function">(<span class="hljs-params">str</span>) =&gt;</span> str.<span class="hljs-title function_">slice</span>(-<span class="hljs-number">3</span>).<span class="hljs-title function_">toLowerCase</span>() === <span class="hljs-string">&#x27;nan&#x27;</span>
        ? <span class="hljs-title class_">NaN</span>
        : str[<span class="hljs-number">0</span>] === <span class="hljs-string">&#x27;-&#x27;</span>
            ? <span class="hljs-title class_">Number</span>.<span class="hljs-property">NEGATIVE_INFINITY</span>
            : <span class="hljs-title class_">Number</span>.<span class="hljs-property">POSITIVE_INFINITY</span>,
    <span class="hljs-attr">stringify</span>: stringifyNumber
};
<span class="hljs-keyword">const</span> float_floatExp = {
    <span class="hljs-attr">identify</span>: <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&#x27;number&#x27;</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:float&#x27;</span>,
    <span class="hljs-attr">format</span>: <span class="hljs-string">&#x27;EXP&#x27;</span>,
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/</span>,
    <span class="hljs-attr">resolve</span>: <span class="hljs-function">(<span class="hljs-params">str</span>) =&gt;</span> <span class="hljs-built_in">parseFloat</span>(str.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/_/g</span>, <span class="hljs-string">&#x27;&#x27;</span>)),
    <span class="hljs-title function_">stringify</span>(<span class="hljs-params">node</span>) {
        <span class="hljs-keyword">const</span> num = <span class="hljs-title class_">Number</span>(node.<span class="hljs-property">value</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">isFinite</span>(num) ? num.<span class="hljs-title function_">toExponential</span>() : <span class="hljs-title function_">stringifyNumber</span>(node);
    }
};
<span class="hljs-keyword">const</span> yaml_1_1_float_float = {
    <span class="hljs-attr">identify</span>: <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&#x27;number&#x27;</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:float&#x27;</span>,
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/</span>,
    <span class="hljs-title function_">resolve</span>(<span class="hljs-params">str</span>) {
        <span class="hljs-keyword">const</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scalar</span>(<span class="hljs-built_in">parseFloat</span>(str.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/_/g</span>, <span class="hljs-string">&#x27;&#x27;</span>)));
        <span class="hljs-keyword">const</span> dot = str.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;.&#x27;</span>);
        <span class="hljs-keyword">if</span> (dot !== -<span class="hljs-number">1</span>) {
            <span class="hljs-keyword">const</span> f = str.<span class="hljs-title function_">substring</span>(dot + <span class="hljs-number">1</span>).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/_/g</span>, <span class="hljs-string">&#x27;&#x27;</span>);
            <span class="hljs-keyword">if</span> (f[f.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>] === <span class="hljs-string">&#x27;0&#x27;</span>)
                node.<span class="hljs-property">minFractionDigits</span> = f.<span class="hljs-property">length</span>;
        }
        <span class="hljs-keyword">return</span> node;
    },
    <span class="hljs-attr">stringify</span>: stringifyNumber
};



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/schema/yaml-1.1/int.js</span>


<span class="hljs-keyword">const</span> <span class="hljs-title function_">int_intIdentify</span> = (<span class="hljs-params">value</span>) =&gt; <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&#x27;bigint&#x27;</span> || <span class="hljs-title class_">Number</span>.<span class="hljs-title function_">isInteger</span>(value);
<span class="hljs-keyword">function</span> <span class="hljs-title function_">int_intResolve</span>(<span class="hljs-params">str, offset, radix, { intAsBigInt }</span>) {
    <span class="hljs-keyword">const</span> sign = str[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">if</span> (sign === <span class="hljs-string">&#x27;-&#x27;</span> || sign === <span class="hljs-string">&#x27;+&#x27;</span>)
        offset += <span class="hljs-number">1</span>;
    str = str.<span class="hljs-title function_">substring</span>(offset).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/_/g</span>, <span class="hljs-string">&#x27;&#x27;</span>);
    <span class="hljs-keyword">if</span> (intAsBigInt) {
        <span class="hljs-keyword">switch</span> (radix) {
            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
                str = <span class="hljs-string">`0b<span class="hljs-subst">${str}</span>`</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:
                str = <span class="hljs-string">`0o<span class="hljs-subst">${str}</span>`</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">16</span>:
                str = <span class="hljs-string">`0x<span class="hljs-subst">${str}</span>`</span>;
                <span class="hljs-keyword">break</span>;
        }
        <span class="hljs-keyword">const</span> n = <span class="hljs-title class_">BigInt</span>(str);
        <span class="hljs-keyword">return</span> sign === <span class="hljs-string">&#x27;-&#x27;</span> ? <span class="hljs-title class_">BigInt</span>(-<span class="hljs-number">1</span>) * n : n;
    }
    <span class="hljs-keyword">const</span> n = <span class="hljs-built_in">parseInt</span>(str, radix);
    <span class="hljs-keyword">return</span> sign === <span class="hljs-string">&#x27;-&#x27;</span> ? -<span class="hljs-number">1</span> * n : n;
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">int_intStringify</span>(<span class="hljs-params">node, radix, prefix</span>) {
    <span class="hljs-keyword">const</span> { value } = node;
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">int_intIdentify</span>(value)) {
        <span class="hljs-keyword">const</span> str = value.<span class="hljs-title function_">toString</span>(radix);
        <span class="hljs-keyword">return</span> value &lt; <span class="hljs-number">0</span> ? <span class="hljs-string">&#x27;-&#x27;</span> + prefix + str.<span class="hljs-title function_">substr</span>(<span class="hljs-number">1</span>) : prefix + str;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">stringifyNumber</span>(node);
}
<span class="hljs-keyword">const</span> intBin = {
    <span class="hljs-attr">identify</span>: int_intIdentify,
    <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:int&#x27;</span>,
    <span class="hljs-attr">format</span>: <span class="hljs-string">&#x27;BIN&#x27;</span>,
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/^[-+]?0b[0-1_]+$/</span>,
    <span class="hljs-attr">resolve</span>: <span class="hljs-function">(<span class="hljs-params">str, _onError, opt</span>) =&gt;</span> <span class="hljs-title function_">int_intResolve</span>(str, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, opt),
    <span class="hljs-attr">stringify</span>: <span class="hljs-function"><span class="hljs-params">node</span> =&gt;</span> <span class="hljs-title function_">int_intStringify</span>(node, <span class="hljs-number">2</span>, <span class="hljs-string">&#x27;0b&#x27;</span>)
};
<span class="hljs-keyword">const</span> int_intOct = {
    <span class="hljs-attr">identify</span>: int_intIdentify,
    <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:int&#x27;</span>,
    <span class="hljs-attr">format</span>: <span class="hljs-string">&#x27;OCT&#x27;</span>,
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/^[-+]?0[0-7_]+$/</span>,
    <span class="hljs-attr">resolve</span>: <span class="hljs-function">(<span class="hljs-params">str, _onError, opt</span>) =&gt;</span> <span class="hljs-title function_">int_intResolve</span>(str, <span class="hljs-number">1</span>, <span class="hljs-number">8</span>, opt),
    <span class="hljs-attr">stringify</span>: <span class="hljs-function"><span class="hljs-params">node</span> =&gt;</span> <span class="hljs-title function_">int_intStringify</span>(node, <span class="hljs-number">8</span>, <span class="hljs-string">&#x27;0&#x27;</span>)
};
<span class="hljs-keyword">const</span> yaml_1_1_int_int = {
    <span class="hljs-attr">identify</span>: int_intIdentify,
    <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:int&#x27;</span>,
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/^[-+]?[0-9][0-9_]*$/</span>,
    <span class="hljs-attr">resolve</span>: <span class="hljs-function">(<span class="hljs-params">str, _onError, opt</span>) =&gt;</span> <span class="hljs-title function_">int_intResolve</span>(str, <span class="hljs-number">0</span>, <span class="hljs-number">10</span>, opt),
    <span class="hljs-attr">stringify</span>: stringifyNumber
};
<span class="hljs-keyword">const</span> int_intHex = {
    <span class="hljs-attr">identify</span>: int_intIdentify,
    <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:int&#x27;</span>,
    <span class="hljs-attr">format</span>: <span class="hljs-string">&#x27;HEX&#x27;</span>,
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/^[-+]?0x[0-9a-fA-F_]+$/</span>,
    <span class="hljs-attr">resolve</span>: <span class="hljs-function">(<span class="hljs-params">str, _onError, opt</span>) =&gt;</span> <span class="hljs-title function_">int_intResolve</span>(str, <span class="hljs-number">2</span>, <span class="hljs-number">16</span>, opt),
    <span class="hljs-attr">stringify</span>: <span class="hljs-function"><span class="hljs-params">node</span> =&gt;</span> <span class="hljs-title function_">int_intStringify</span>(node, <span class="hljs-number">16</span>, <span class="hljs-string">&#x27;0x&#x27;</span>)
};



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/schema/yaml-1.1/set.js</span>




<span class="hljs-keyword">class</span> <span class="hljs-title class_">YAMLSet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">YAMLMap</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">schema</span>) {
        <span class="hljs-variable language_">super</span>(schema);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">tag</span> = <span class="hljs-title class_">YAMLSet</span>.<span class="hljs-property">tag</span>;
    }
    <span class="hljs-title function_">add</span>(<span class="hljs-params">key</span>) {
        <span class="hljs-keyword">let</span> pair;
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isPair</span>(key))
            pair = key;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (key &amp;&amp;
            <span class="hljs-keyword">typeof</span> key === <span class="hljs-string">&#x27;object&#x27;</span> &amp;&amp;
            <span class="hljs-string">&#x27;key&#x27;</span> <span class="hljs-keyword">in</span> key &amp;&amp;
            <span class="hljs-string">&#x27;value&#x27;</span> <span class="hljs-keyword">in</span> key &amp;&amp;
            key.<span class="hljs-property">value</span> === <span class="hljs-literal">null</span>)
            pair = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Pair</span>(key.<span class="hljs-property">key</span>, <span class="hljs-literal">null</span>);
        <span class="hljs-keyword">else</span>
            pair = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Pair</span>(key, <span class="hljs-literal">null</span>);
        <span class="hljs-keyword">const</span> prev = <span class="hljs-title function_">findPair</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>, pair.<span class="hljs-property">key</span>);
        <span class="hljs-keyword">if</span> (!prev)
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>(pair);
    }
    <span class="hljs-comment">/**
     * If `keepPair` is `true`, returns the Pair matching `key`.
     * Otherwise, returns the value of that Pair&#x27;s key.
     */</span>
    <span class="hljs-title function_">get</span>(<span class="hljs-params">key, keepPair</span>) {
        <span class="hljs-keyword">const</span> pair = <span class="hljs-title function_">findPair</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>, key);
        <span class="hljs-keyword">return</span> !keepPair &amp;&amp; <span class="hljs-title function_">isPair</span>(pair)
            ? <span class="hljs-title function_">isScalar</span>(pair.<span class="hljs-property">key</span>)
                ? pair.<span class="hljs-property">key</span>.<span class="hljs-property">value</span>
                : pair.<span class="hljs-property">key</span>
            : pair;
    }
    <span class="hljs-title function_">set</span>(<span class="hljs-params">key, value</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value !== <span class="hljs-string">&#x27;boolean&#x27;</span>)
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Expected boolean value for set(key, value) in a YAML set, not <span class="hljs-subst">${<span class="hljs-keyword">typeof</span> value}</span>`</span>);
        <span class="hljs-keyword">const</span> prev = <span class="hljs-title function_">findPair</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>, key);
        <span class="hljs-keyword">if</span> (prev &amp;&amp; !value) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">splice</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">indexOf</span>(prev), <span class="hljs-number">1</span>);
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!prev &amp;&amp; value) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Pair</span>(key));
        }
    }
    <span class="hljs-title function_">toJSON</span>(<span class="hljs-params">_, ctx</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">toJSON</span>(_, ctx, <span class="hljs-title class_">Set</span>);
    }
    <span class="hljs-title function_">toString</span>(<span class="hljs-params">ctx, onComment, onChompKeep</span>) {
        <span class="hljs-keyword">if</span> (!ctx)
            <span class="hljs-keyword">return</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">hasAllNullValues</span>(<span class="hljs-literal">true</span>))
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">toString</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, ctx, { <span class="hljs-attr">allNullValues</span>: <span class="hljs-literal">true</span> }), onComment, onChompKeep);
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Set items must all have null values&#x27;</span>);
    }
}
<span class="hljs-title class_">YAMLSet</span>.<span class="hljs-property">tag</span> = <span class="hljs-string">&#x27;tag:yaml.org,2002:set&#x27;</span>;
<span class="hljs-keyword">const</span> set = {
    <span class="hljs-attr">collection</span>: <span class="hljs-string">&#x27;map&#x27;</span>,
    <span class="hljs-attr">identify</span>: <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> value <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Set</span>,
    <span class="hljs-attr">nodeClass</span>: <span class="hljs-title class_">YAMLSet</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:set&#x27;</span>,
    <span class="hljs-title function_">resolve</span>(<span class="hljs-params">map, onError</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isMap</span>(map)) {
            <span class="hljs-keyword">if</span> (map.<span class="hljs-title function_">hasAllNullValues</span>(<span class="hljs-literal">true</span>))
                <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">YAMLSet</span>(), map);
            <span class="hljs-keyword">else</span>
                <span class="hljs-title function_">onError</span>(<span class="hljs-string">&#x27;Set items must all have null values&#x27;</span>);
        }
        <span class="hljs-keyword">else</span>
            <span class="hljs-title function_">onError</span>(<span class="hljs-string">&#x27;Expected a mapping for this tag&#x27;</span>);
        <span class="hljs-keyword">return</span> map;
    },
    <span class="hljs-title function_">createNode</span>(<span class="hljs-params">schema, iterable, ctx</span>) {
        <span class="hljs-keyword">const</span> { replacer } = ctx;
        <span class="hljs-keyword">const</span> set = <span class="hljs-keyword">new</span> <span class="hljs-title class_">YAMLSet</span>(schema);
        <span class="hljs-keyword">if</span> (iterable &amp;&amp; <span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span> <span class="hljs-keyword">in</span> <span class="hljs-title class_">Object</span>(iterable))
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> value <span class="hljs-keyword">of</span> iterable) {
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> replacer === <span class="hljs-string">&#x27;function&#x27;</span>)
                    value = replacer.<span class="hljs-title function_">call</span>(iterable, value, value);
                set.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>(<span class="hljs-title function_">createPair</span>(value, <span class="hljs-literal">null</span>, ctx));
            }
        <span class="hljs-keyword">return</span> set;
    }
};



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/schema/yaml-1.1/timestamp.js</span>


<span class="hljs-comment">/** Internal types handle bigint as number, because TS can&#x27;t figure it out. */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">parseSexagesimal</span>(<span class="hljs-params">str, asBigInt</span>) {
    <span class="hljs-keyword">const</span> sign = str[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">const</span> parts = sign === <span class="hljs-string">&#x27;-&#x27;</span> || sign === <span class="hljs-string">&#x27;+&#x27;</span> ? str.<span class="hljs-title function_">substring</span>(<span class="hljs-number">1</span>) : str;
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">num</span> = (<span class="hljs-params">n</span>) =&gt; asBigInt ? <span class="hljs-title class_">BigInt</span>(n) : <span class="hljs-title class_">Number</span>(n);
    <span class="hljs-keyword">const</span> res = parts
        .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/_/g</span>, <span class="hljs-string">&#x27;&#x27;</span>)
        .<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;:&#x27;</span>)
        .<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">res, p</span>) =&gt;</span> res * <span class="hljs-title function_">num</span>(<span class="hljs-number">60</span>) + <span class="hljs-title function_">num</span>(p), <span class="hljs-title function_">num</span>(<span class="hljs-number">0</span>));
    <span class="hljs-keyword">return</span> (sign === <span class="hljs-string">&#x27;-&#x27;</span> ? <span class="hljs-title function_">num</span>(-<span class="hljs-number">1</span>) * res : res);
}
<span class="hljs-comment">/**
 * hhhh:mm:ss.sss
 *
 * Internal types handle bigint as number, because TS can&#x27;t figure it out.
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">stringifySexagesimal</span>(<span class="hljs-params">node</span>) {
    <span class="hljs-keyword">let</span> { value } = node;
    <span class="hljs-keyword">let</span> <span class="hljs-title function_">num</span> = (<span class="hljs-params">n</span>) =&gt; n;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&#x27;bigint&#x27;</span>)
        num = <span class="hljs-function"><span class="hljs-params">n</span> =&gt;</span> <span class="hljs-title class_">BigInt</span>(n);
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isNaN</span>(value) || !<span class="hljs-built_in">isFinite</span>(value))
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">stringifyNumber</span>(node);
    <span class="hljs-keyword">let</span> sign = <span class="hljs-string">&#x27;&#x27;</span>;
    <span class="hljs-keyword">if</span> (value &lt; <span class="hljs-number">0</span>) {
        sign = <span class="hljs-string">&#x27;-&#x27;</span>;
        value *= <span class="hljs-title function_">num</span>(-<span class="hljs-number">1</span>);
    }
    <span class="hljs-keyword">const</span> _60 = <span class="hljs-title function_">num</span>(<span class="hljs-number">60</span>);
    <span class="hljs-keyword">const</span> parts = [value % _60]; <span class="hljs-comment">// seconds, including ms</span>
    <span class="hljs-keyword">if</span> (value &lt; <span class="hljs-number">60</span>) {
        parts.<span class="hljs-title function_">unshift</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">// at least one : is required</span>
    }
    <span class="hljs-keyword">else</span> {
        value = (value - parts[<span class="hljs-number">0</span>]) / _60;
        parts.<span class="hljs-title function_">unshift</span>(value % _60); <span class="hljs-comment">// minutes</span>
        <span class="hljs-keyword">if</span> (value &gt;= <span class="hljs-number">60</span>) {
            value = (value - parts[<span class="hljs-number">0</span>]) / _60;
            parts.<span class="hljs-title function_">unshift</span>(value); <span class="hljs-comment">// hours</span>
        }
    }
    <span class="hljs-keyword">return</span> (sign +
        parts
            .<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">n</span> =&gt;</span> (n &lt; <span class="hljs-number">10</span> ? <span class="hljs-string">&#x27;0&#x27;</span> + <span class="hljs-title class_">String</span>(n) : <span class="hljs-title class_">String</span>(n)))
            .<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;:&#x27;</span>)
            .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/000000\d*$/</span>, <span class="hljs-string">&#x27;&#x27;</span>) <span class="hljs-comment">// % 60 may introduce error</span>
    );
}
<span class="hljs-keyword">const</span> intTime = {
    <span class="hljs-attr">identify</span>: <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&#x27;bigint&#x27;</span> || <span class="hljs-title class_">Number</span>.<span class="hljs-title function_">isInteger</span>(value),
    <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:int&#x27;</span>,
    <span class="hljs-attr">format</span>: <span class="hljs-string">&#x27;TIME&#x27;</span>,
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/</span>,
    <span class="hljs-attr">resolve</span>: <span class="hljs-function">(<span class="hljs-params">str, _onError, { intAsBigInt }</span>) =&gt;</span> <span class="hljs-title function_">parseSexagesimal</span>(str, intAsBigInt),
    <span class="hljs-attr">stringify</span>: stringifySexagesimal
};
<span class="hljs-keyword">const</span> floatTime = {
    <span class="hljs-attr">identify</span>: <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&#x27;number&#x27;</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:float&#x27;</span>,
    <span class="hljs-attr">format</span>: <span class="hljs-string">&#x27;TIME&#x27;</span>,
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/</span>,
    <span class="hljs-attr">resolve</span>: <span class="hljs-function"><span class="hljs-params">str</span> =&gt;</span> <span class="hljs-title function_">parseSexagesimal</span>(str, <span class="hljs-literal">false</span>),
    <span class="hljs-attr">stringify</span>: stringifySexagesimal
};
<span class="hljs-keyword">const</span> timestamp = {
    <span class="hljs-attr">identify</span>: <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> value <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Date</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;tag:yaml.org,2002:timestamp&#x27;</span>,
    <span class="hljs-comment">// If the time zone is omitted, the timestamp is assumed to be specified in UTC. The time part</span>
    <span class="hljs-comment">// may be omitted altogether, resulting in a date format. In such a case, the time part is</span>
    <span class="hljs-comment">// assumed to be 00:00:00Z (start of day, UTC).</span>
    <span class="hljs-attr">test</span>: <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">&#x27;^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})&#x27;</span> + <span class="hljs-comment">// YYYY-Mm-Dd</span>
        <span class="hljs-string">&#x27;(?:&#x27;</span> + <span class="hljs-comment">// time is optional</span>
        <span class="hljs-string">&#x27;(?:t|T|[ \\t]+)&#x27;</span> + <span class="hljs-comment">// t | T | whitespace</span>
        <span class="hljs-string">&#x27;([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)&#x27;</span> + <span class="hljs-comment">// Hh:Mm:Ss(.ss)?</span>
        <span class="hljs-string">&#x27;(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?&#x27;</span> + <span class="hljs-comment">// Z | +5 | -03:30</span>
        <span class="hljs-string">&#x27;)?$&#x27;</span>),
    <span class="hljs-title function_">resolve</span>(<span class="hljs-params">str</span>) {
        <span class="hljs-keyword">const</span> match = str.<span class="hljs-title function_">match</span>(timestamp.<span class="hljs-property">test</span>);
        <span class="hljs-keyword">if</span> (!match)
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;!!timestamp expects a date, starting with yyyy-mm-dd&#x27;</span>);
        <span class="hljs-keyword">const</span> [, year, month, day, hour, minute, second] = match.<span class="hljs-title function_">map</span>(<span class="hljs-title class_">Number</span>);
        <span class="hljs-keyword">const</span> millisec = match[<span class="hljs-number">7</span>] ? <span class="hljs-title class_">Number</span>((match[<span class="hljs-number">7</span>] + <span class="hljs-string">&#x27;00&#x27;</span>).<span class="hljs-title function_">substr</span>(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>)) : <span class="hljs-number">0</span>;
        <span class="hljs-keyword">let</span> date = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">UTC</span>(year, month - <span class="hljs-number">1</span>, day, hour || <span class="hljs-number">0</span>, minute || <span class="hljs-number">0</span>, second || <span class="hljs-number">0</span>, millisec);
        <span class="hljs-keyword">const</span> tz = match[<span class="hljs-number">8</span>];
        <span class="hljs-keyword">if</span> (tz &amp;&amp; tz !== <span class="hljs-string">&#x27;Z&#x27;</span>) {
            <span class="hljs-keyword">let</span> d = <span class="hljs-title function_">parseSexagesimal</span>(tz, <span class="hljs-literal">false</span>);
            <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(d) &lt; <span class="hljs-number">30</span>)
                d *= <span class="hljs-number">60</span>;
            date -= <span class="hljs-number">60000</span> * d;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(date);
    },
    <span class="hljs-attr">stringify</span>: <span class="hljs-function">(<span class="hljs-params">{ value }</span>) =&gt;</span> value.<span class="hljs-title function_">toISOString</span>().<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/((T00:00)?:00)?\.000Z$/</span>, <span class="hljs-string">&#x27;&#x27;</span>)
};



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/schema/yaml-1.1/schema.js</span>













<span class="hljs-keyword">const</span> yaml_1_1_schema_schema = [
    map,
    seq,
    string,
    nullTag,
    trueTag,
    falseTag,
    intBin,
    int_intOct,
    yaml_1_1_int_int,
    int_intHex,
    float_floatNaN,
    float_floatExp,
    yaml_1_1_float_float,
    binary,
    omap,
    pairs,
    set,
    intTime,
    floatTime,
    timestamp
];



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/schema/tags.js</span>
















<span class="hljs-keyword">const</span> schemas = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>([
    [<span class="hljs-string">&#x27;core&#x27;</span>, schema],
    [<span class="hljs-string">&#x27;failsafe&#x27;</span>, [map, seq, string]],
    [<span class="hljs-string">&#x27;json&#x27;</span>, schema_schema],
    [<span class="hljs-string">&#x27;yaml11&#x27;</span>, yaml_1_1_schema_schema],
    [<span class="hljs-string">&#x27;yaml-1.1&#x27;</span>, yaml_1_1_schema_schema]
]);
<span class="hljs-keyword">const</span> tagsByName = {
    <span class="hljs-attr">binary</span>: binary,
    <span class="hljs-attr">bool</span>: boolTag,
    <span class="hljs-attr">float</span>: float_float,
    <span class="hljs-attr">floatExp</span>: floatExp,
    <span class="hljs-attr">floatNaN</span>: floatNaN,
    <span class="hljs-attr">floatTime</span>: floatTime,
    <span class="hljs-attr">int</span>: int_int,
    <span class="hljs-attr">intHex</span>: intHex,
    <span class="hljs-attr">intOct</span>: intOct,
    <span class="hljs-attr">intTime</span>: intTime,
    <span class="hljs-attr">map</span>: map,
    <span class="hljs-attr">null</span>: nullTag,
    <span class="hljs-attr">omap</span>: omap,
    <span class="hljs-attr">pairs</span>: pairs,
    <span class="hljs-attr">seq</span>: seq,
    <span class="hljs-attr">set</span>: set,
    <span class="hljs-attr">timestamp</span>: timestamp
};
<span class="hljs-keyword">const</span> coreKnownTags = {
    <span class="hljs-string">&#x27;tag:yaml.org,2002:binary&#x27;</span>: binary,
    <span class="hljs-string">&#x27;tag:yaml.org,2002:omap&#x27;</span>: omap,
    <span class="hljs-string">&#x27;tag:yaml.org,2002:pairs&#x27;</span>: pairs,
    <span class="hljs-string">&#x27;tag:yaml.org,2002:set&#x27;</span>: set,
    <span class="hljs-string">&#x27;tag:yaml.org,2002:timestamp&#x27;</span>: timestamp
};
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getTags</span>(<span class="hljs-params">customTags, schemaName</span>) {
    <span class="hljs-keyword">let</span> tags = schemas.<span class="hljs-title function_">get</span>(schemaName);
    <span class="hljs-keyword">if</span> (!tags) {
        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(customTags))
            tags = [];
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">const</span> keys = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(schemas.<span class="hljs-title function_">keys</span>())
                .<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> key !== <span class="hljs-string">&#x27;yaml11&#x27;</span>)
                .<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(key))
                .<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;, &#x27;</span>);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Unknown schema &quot;<span class="hljs-subst">${schemaName}</span>&quot;; use one of <span class="hljs-subst">${keys}</span> or define customTags array`</span>);
        }
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(customTags)) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> tag <span class="hljs-keyword">of</span> customTags)
            tags = tags.<span class="hljs-title function_">concat</span>(tag);
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> customTags === <span class="hljs-string">&#x27;function&#x27;</span>) {
        tags = <span class="hljs-title function_">customTags</span>(tags.<span class="hljs-title function_">slice</span>());
    }
    <span class="hljs-keyword">return</span> tags.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">tag</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> tag !== <span class="hljs-string">&#x27;string&#x27;</span>)
            <span class="hljs-keyword">return</span> tag;
        <span class="hljs-keyword">const</span> tagObj = tagsByName[tag];
        <span class="hljs-keyword">if</span> (tagObj)
            <span class="hljs-keyword">return</span> tagObj;
        <span class="hljs-keyword">const</span> keys = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(tagsByName)
            .<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(key))
            .<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;, &#x27;</span>);
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Unknown custom tag &quot;<span class="hljs-subst">${tag}</span>&quot;; use one of <span class="hljs-subst">${keys}</span>`</span>);
    });
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/schema/Schema.js</span>






<span class="hljs-keyword">const</span> <span class="hljs-title function_">sortMapEntriesByKey</span> = (<span class="hljs-params">a, b</span>) =&gt; a.<span class="hljs-property">key</span> &lt; b.<span class="hljs-property">key</span> ? -<span class="hljs-number">1</span> : a.<span class="hljs-property">key</span> &gt; b.<span class="hljs-property">key</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Schema</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">{ compat, customTags, merge, resolveKnownTags, schema, sortMapEntries, toStringDefaults }</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">compat</span> = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(compat)
            ? <span class="hljs-title function_">getTags</span>(compat, <span class="hljs-string">&#x27;compat&#x27;</span>)
            : compat
                ? <span class="hljs-title function_">getTags</span>(<span class="hljs-literal">null</span>, compat)
                : <span class="hljs-literal">null</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">merge</span> = !!merge;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = (<span class="hljs-keyword">typeof</span> schema === <span class="hljs-string">&#x27;string&#x27;</span> &amp;&amp; schema) || <span class="hljs-string">&#x27;core&#x27;</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">knownTags</span> = resolveKnownTags ? coreKnownTags : {};
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">tags</span> = <span class="hljs-title function_">getTags</span>(customTags, <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">toStringOptions</span> = toStringDefaults ?? <span class="hljs-literal">null</span>;
        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable constant_">MAP</span>, { <span class="hljs-attr">value</span>: map });
        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable constant_">SCALAR</span>, { <span class="hljs-attr">value</span>: string });
        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable constant_">SEQ</span>, { <span class="hljs-attr">value</span>: seq });
        <span class="hljs-comment">// Used by createMap()</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">sortMapEntries</span> =
            <span class="hljs-keyword">typeof</span> sortMapEntries === <span class="hljs-string">&#x27;function&#x27;</span>
                ? sortMapEntries
                : sortMapEntries === <span class="hljs-literal">true</span>
                    ? sortMapEntriesByKey
                    : <span class="hljs-literal">null</span>;
    }
    <span class="hljs-title function_">clone</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">const</span> copy = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Schema</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>, <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertyDescriptors</span>(<span class="hljs-variable language_">this</span>));
        copy.<span class="hljs-property">tags</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">tags</span>.<span class="hljs-title function_">slice</span>();
        <span class="hljs-keyword">return</span> copy;
    }
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/stringify/stringifyDocument.js</span>




<span class="hljs-keyword">function</span> <span class="hljs-title function_">stringifyDocument</span>(<span class="hljs-params">doc, options</span>) {
    <span class="hljs-keyword">const</span> lines = [];
    <span class="hljs-keyword">let</span> hasDirectives = options.<span class="hljs-property">directives</span> === <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">if</span> (options.<span class="hljs-property">directives</span> !== <span class="hljs-literal">false</span> &amp;&amp; doc.<span class="hljs-property">directives</span>) {
        <span class="hljs-keyword">const</span> dir = doc.<span class="hljs-property">directives</span>.<span class="hljs-title function_">toString</span>(doc);
        <span class="hljs-keyword">if</span> (dir) {
            lines.<span class="hljs-title function_">push</span>(dir);
            hasDirectives = <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (doc.<span class="hljs-property">directives</span>.<span class="hljs-property">docStart</span>)
            hasDirectives = <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">if</span> (hasDirectives)
        lines.<span class="hljs-title function_">push</span>(<span class="hljs-string">&#x27;---&#x27;</span>);
    <span class="hljs-keyword">const</span> ctx = <span class="hljs-title function_">createStringifyContext</span>(doc, options);
    <span class="hljs-keyword">const</span> { commentString } = ctx.<span class="hljs-property">options</span>;
    <span class="hljs-keyword">if</span> (doc.<span class="hljs-property">commentBefore</span>) {
        <span class="hljs-keyword">if</span> (lines.<span class="hljs-property">length</span> !== <span class="hljs-number">1</span>)
            lines.<span class="hljs-title function_">unshift</span>(<span class="hljs-string">&#x27;&#x27;</span>);
        <span class="hljs-keyword">const</span> cs = <span class="hljs-title function_">commentString</span>(doc.<span class="hljs-property">commentBefore</span>);
        lines.<span class="hljs-title function_">unshift</span>(<span class="hljs-title function_">indentComment</span>(cs, <span class="hljs-string">&#x27;&#x27;</span>));
    }
    <span class="hljs-keyword">let</span> chompKeep = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">let</span> contentComment = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">if</span> (doc.<span class="hljs-property">contents</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isNode</span>(doc.<span class="hljs-property">contents</span>)) {
            <span class="hljs-keyword">if</span> (doc.<span class="hljs-property">contents</span>.<span class="hljs-property">spaceBefore</span> &amp;&amp; hasDirectives)
                lines.<span class="hljs-title function_">push</span>(<span class="hljs-string">&#x27;&#x27;</span>);
            <span class="hljs-keyword">if</span> (doc.<span class="hljs-property">contents</span>.<span class="hljs-property">commentBefore</span>) {
                <span class="hljs-keyword">const</span> cs = <span class="hljs-title function_">commentString</span>(doc.<span class="hljs-property">contents</span>.<span class="hljs-property">commentBefore</span>);
                lines.<span class="hljs-title function_">push</span>(<span class="hljs-title function_">indentComment</span>(cs, <span class="hljs-string">&#x27;&#x27;</span>));
            }
            <span class="hljs-comment">// top-level block scalars need to be indented if followed by a comment</span>
            ctx.<span class="hljs-property">forceBlockIndent</span> = !!doc.<span class="hljs-property">comment</span>;
            contentComment = doc.<span class="hljs-property">contents</span>.<span class="hljs-property">comment</span>;
        }
        <span class="hljs-keyword">const</span> onChompKeep = contentComment ? <span class="hljs-literal">undefined</span> : <span class="hljs-function">() =&gt;</span> (chompKeep = <span class="hljs-literal">true</span>);
        <span class="hljs-keyword">let</span> body = <span class="hljs-title function_">stringify</span>(doc.<span class="hljs-property">contents</span>, ctx, <span class="hljs-function">() =&gt;</span> (contentComment = <span class="hljs-literal">null</span>), onChompKeep);
        <span class="hljs-keyword">if</span> (contentComment)
            body += <span class="hljs-title function_">lineComment</span>(body, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-title function_">commentString</span>(contentComment));
        <span class="hljs-keyword">if</span> ((body[<span class="hljs-number">0</span>] === <span class="hljs-string">&#x27;|&#x27;</span> || body[<span class="hljs-number">0</span>] === <span class="hljs-string">&#x27;&gt;&#x27;</span>) &amp;&amp;
            lines[lines.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>] === <span class="hljs-string">&#x27;---&#x27;</span>) {
            <span class="hljs-comment">// Top-level block scalars with a preceding doc marker ought to use the</span>
            <span class="hljs-comment">// same line for their header.</span>
            lines[lines.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>] = <span class="hljs-string">`--- <span class="hljs-subst">${body}</span>`</span>;
        }
        <span class="hljs-keyword">else</span>
            lines.<span class="hljs-title function_">push</span>(body);
    }
    <span class="hljs-keyword">else</span> {
        lines.<span class="hljs-title function_">push</span>(<span class="hljs-title function_">stringify</span>(doc.<span class="hljs-property">contents</span>, ctx));
    }
    <span class="hljs-keyword">if</span> (doc.<span class="hljs-property">directives</span>?.<span class="hljs-property">docEnd</span>) {
        <span class="hljs-keyword">if</span> (doc.<span class="hljs-property">comment</span>) {
            <span class="hljs-keyword">const</span> cs = <span class="hljs-title function_">commentString</span>(doc.<span class="hljs-property">comment</span>);
            <span class="hljs-keyword">if</span> (cs.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&#x27;\n&#x27;</span>)) {
                lines.<span class="hljs-title function_">push</span>(<span class="hljs-string">&#x27;...&#x27;</span>);
                lines.<span class="hljs-title function_">push</span>(<span class="hljs-title function_">indentComment</span>(cs, <span class="hljs-string">&#x27;&#x27;</span>));
            }
            <span class="hljs-keyword">else</span> {
                lines.<span class="hljs-title function_">push</span>(<span class="hljs-string">`... <span class="hljs-subst">${cs}</span>`</span>);
            }
        }
        <span class="hljs-keyword">else</span> {
            lines.<span class="hljs-title function_">push</span>(<span class="hljs-string">&#x27;...&#x27;</span>);
        }
    }
    <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">let</span> dc = doc.<span class="hljs-property">comment</span>;
        <span class="hljs-keyword">if</span> (dc &amp;&amp; chompKeep)
            dc = dc.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^\n+/</span>, <span class="hljs-string">&#x27;&#x27;</span>);
        <span class="hljs-keyword">if</span> (dc) {
            <span class="hljs-keyword">if</span> ((!chompKeep || contentComment) &amp;&amp; lines[lines.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>] !== <span class="hljs-string">&#x27;&#x27;</span>)
                lines.<span class="hljs-title function_">push</span>(<span class="hljs-string">&#x27;&#x27;</span>);
            lines.<span class="hljs-title function_">push</span>(<span class="hljs-title function_">indentComment</span>(<span class="hljs-title function_">commentString</span>(dc), <span class="hljs-string">&#x27;&#x27;</span>));
        }
    }
    <span class="hljs-keyword">return</span> lines.<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;\n&#x27;</span>) + <span class="hljs-string">&#x27;\n&#x27;</span>;
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/doc/applyReviver.js</span>
<span class="hljs-comment">/**
 * Applies the JSON.parse reviver algorithm as defined in the ECMA-262 spec,
 * in section 24.5.1.1 &quot;Runtime Semantics: InternalizeJSONProperty&quot; of the
 * 2021 edition: https://tc39.es/ecma262/#sec-json.parse
 *
 * Includes extensions for handling Map and Set objects.
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">applyReviver</span>(<span class="hljs-params">reviver, obj, key, val</span>) {
    <span class="hljs-keyword">if</span> (val &amp;&amp; <span class="hljs-keyword">typeof</span> val === <span class="hljs-string">&#x27;object&#x27;</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(val)) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>, len = val.<span class="hljs-property">length</span>; i &lt; len; ++i) {
                <span class="hljs-keyword">const</span> v0 = val[i];
                <span class="hljs-keyword">const</span> v1 = <span class="hljs-title function_">applyReviver</span>(reviver, val, <span class="hljs-title class_">String</span>(i), v0);
                <span class="hljs-keyword">if</span> (v1 === <span class="hljs-literal">undefined</span>)
                    <span class="hljs-keyword">delete</span> val[i];
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (v1 !== v0)
                    val[i] = v1;
            }
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (val <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Map</span>) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> k <span class="hljs-keyword">of</span> <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(val.<span class="hljs-title function_">keys</span>())) {
                <span class="hljs-keyword">const</span> v0 = val.<span class="hljs-title function_">get</span>(k);
                <span class="hljs-keyword">const</span> v1 = <span class="hljs-title function_">applyReviver</span>(reviver, val, k, v0);
                <span class="hljs-keyword">if</span> (v1 === <span class="hljs-literal">undefined</span>)
                    val.<span class="hljs-title function_">delete</span>(k);
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (v1 !== v0)
                    val.<span class="hljs-title function_">set</span>(k, v1);
            }
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (val <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Set</span>) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> v0 <span class="hljs-keyword">of</span> <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(val)) {
                <span class="hljs-keyword">const</span> v1 = <span class="hljs-title function_">applyReviver</span>(reviver, val, v0, v0);
                <span class="hljs-keyword">if</span> (v1 === <span class="hljs-literal">undefined</span>)
                    val.<span class="hljs-title function_">delete</span>(v0);
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (v1 !== v0) {
                    val.<span class="hljs-title function_">delete</span>(v0);
                    val.<span class="hljs-title function_">add</span>(v1);
                }
            }
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [k, v0] <span class="hljs-keyword">of</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(val)) {
                <span class="hljs-keyword">const</span> v1 = <span class="hljs-title function_">applyReviver</span>(reviver, val, k, v0);
                <span class="hljs-keyword">if</span> (v1 === <span class="hljs-literal">undefined</span>)
                    <span class="hljs-keyword">delete</span> val[k];
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (v1 !== v0)
                    val[k] = v1;
            }
        }
    }
    <span class="hljs-keyword">return</span> reviver.<span class="hljs-title function_">call</span>(obj, key, val);
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/doc/Document.js</span>













<span class="hljs-keyword">class</span> <span class="hljs-title class_">Document_Document</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">value, replacer, options</span>) {
        <span class="hljs-comment">/** A comment before this Document */</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">commentBefore</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-comment">/** A comment immediately after this Document */</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">comment</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-comment">/** Errors encountered during parsing. */</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span> = [];
        <span class="hljs-comment">/** Warnings encountered during parsing. */</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">warnings</span> = [];
        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable constant_">NODE_TYPE</span>, { <span class="hljs-attr">value</span>: <span class="hljs-variable constant_">DOC</span> });
        <span class="hljs-keyword">let</span> _replacer = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> replacer === <span class="hljs-string">&#x27;function&#x27;</span> || <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(replacer)) {
            _replacer = replacer;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (options === <span class="hljs-literal">undefined</span> &amp;&amp; replacer) {
            options = replacer;
            replacer = <span class="hljs-literal">undefined</span>;
        }
        <span class="hljs-keyword">const</span> opt = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({
            <span class="hljs-attr">intAsBigInt</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">keepSourceTokens</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">logLevel</span>: <span class="hljs-string">&#x27;warn&#x27;</span>,
            <span class="hljs-attr">prettyErrors</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">strict</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">uniqueKeys</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">version</span>: <span class="hljs-string">&#x27;1.2&#x27;</span>
        }, options);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span> = opt;
        <span class="hljs-keyword">let</span> { version } = opt;
        <span class="hljs-keyword">if</span> (options?.<span class="hljs-property">_directives</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">directives</span> = options.<span class="hljs-property">_directives</span>.<span class="hljs-title function_">atDocument</span>();
            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">directives</span>.<span class="hljs-property">yaml</span>.<span class="hljs-property">explicit</span>)
                version = <span class="hljs-variable language_">this</span>.<span class="hljs-property">directives</span>.<span class="hljs-property">yaml</span>.<span class="hljs-property">version</span>;
        }
        <span class="hljs-keyword">else</span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">directives</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Directives</span>({ version });
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setSchema</span>(version, options);
        <span class="hljs-keyword">if</span> (value === <span class="hljs-literal">undefined</span>)
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">else</span> {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createNode</span>(value, _replacer, options);
        }
    }
    <span class="hljs-comment">/**
     * Create a deep copy of this Document and its contents.
     *
     * Custom Node values that inherit from `Object` still refer to their original instances.
     */</span>
    <span class="hljs-title function_">clone</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">const</span> copy = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Document</span>_Document.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>, {
            [<span class="hljs-variable constant_">NODE_TYPE</span>]: { <span class="hljs-attr">value</span>: <span class="hljs-variable constant_">DOC</span> }
        });
        copy.<span class="hljs-property">commentBefore</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">commentBefore</span>;
        copy.<span class="hljs-property">comment</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">comment</span>;
        copy.<span class="hljs-property">errors</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>.<span class="hljs-title function_">slice</span>();
        copy.<span class="hljs-property">warnings</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">warnings</span>.<span class="hljs-title function_">slice</span>();
        copy.<span class="hljs-property">options</span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">directives</span>)
            copy.<span class="hljs-property">directives</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">directives</span>.<span class="hljs-title function_">clone</span>();
        copy.<span class="hljs-property">schema</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">schema</span>.<span class="hljs-title function_">clone</span>();
        copy.<span class="hljs-property">contents</span> = <span class="hljs-title function_">isNode</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span>)
            ? <span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span>.<span class="hljs-title function_">clone</span>(copy.<span class="hljs-property">schema</span>)
            : <span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">range</span>)
            copy.<span class="hljs-property">range</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">range</span>.<span class="hljs-title function_">slice</span>();
        <span class="hljs-keyword">return</span> copy;
    }
    <span class="hljs-comment">/** Adds a value to the document. */</span>
    <span class="hljs-title function_">add</span>(<span class="hljs-params">value</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">assertCollection</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span>))
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span>.<span class="hljs-title function_">add</span>(value);
    }
    <span class="hljs-comment">/** Adds a value to the document. */</span>
    <span class="hljs-title function_">addIn</span>(<span class="hljs-params">path, value</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">assertCollection</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span>))
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span>.<span class="hljs-title function_">addIn</span>(path, value);
    }
    <span class="hljs-comment">/**
     * Create a new `Alias` node, ensuring that the target `node` has the required anchor.
     *
     * If `node` already has an anchor, `name` is ignored.
     * Otherwise, the `node.anchor` value will be set to `name`,
     * or if an anchor with that name is already present in the document,
     * `name` will be used as a prefix for a new unique anchor.
     * If `name` is undefined, the generated anchor will use &#x27;a&#x27; as a prefix.
     */</span>
    <span class="hljs-title function_">createAlias</span>(<span class="hljs-params">node, name</span>) {
        <span class="hljs-keyword">if</span> (!node.<span class="hljs-property">anchor</span>) {
            <span class="hljs-keyword">const</span> prev = <span class="hljs-title function_">anchorNames</span>(<span class="hljs-variable language_">this</span>);
            node.<span class="hljs-property">anchor</span> =
                <span class="hljs-comment">// eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing</span>
                !name || prev.<span class="hljs-title function_">has</span>(name) ? <span class="hljs-title function_">findNewAnchor</span>(name || <span class="hljs-string">&#x27;a&#x27;</span>, prev) : name;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Alias</span>(node.<span class="hljs-property">anchor</span>);
    }
    <span class="hljs-title function_">createNode</span>(<span class="hljs-params">value, replacer, options</span>) {
        <span class="hljs-keyword">let</span> _replacer = <span class="hljs-literal">undefined</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> replacer === <span class="hljs-string">&#x27;function&#x27;</span>) {
            value = replacer.<span class="hljs-title function_">call</span>({ <span class="hljs-string">&#x27;&#x27;</span>: value }, <span class="hljs-string">&#x27;&#x27;</span>, value);
            _replacer = replacer;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(replacer)) {
            <span class="hljs-keyword">const</span> <span class="hljs-title function_">keyToStr</span> = (<span class="hljs-params">v</span>) =&gt; <span class="hljs-keyword">typeof</span> v === <span class="hljs-string">&#x27;number&#x27;</span> || v <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">String</span> || v <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Number</span>;
            <span class="hljs-keyword">const</span> asStr = replacer.<span class="hljs-title function_">filter</span>(keyToStr).<span class="hljs-title function_">map</span>(<span class="hljs-title class_">String</span>);
            <span class="hljs-keyword">if</span> (asStr.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>)
                replacer = replacer.<span class="hljs-title function_">concat</span>(asStr);
            _replacer = replacer;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (options === <span class="hljs-literal">undefined</span> &amp;&amp; replacer) {
            options = replacer;
            replacer = <span class="hljs-literal">undefined</span>;
        }
        <span class="hljs-keyword">const</span> { aliasDuplicateObjects, anchorPrefix, flow, keepUndefined, onTagObj, tag } = options ?? {};
        <span class="hljs-keyword">const</span> { onAnchor, setAnchors, sourceObjects } = <span class="hljs-title function_">createNodeAnchors</span>(<span class="hljs-variable language_">this</span>, 
        <span class="hljs-comment">// eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing</span>
        anchorPrefix || <span class="hljs-string">&#x27;a&#x27;</span>);
        <span class="hljs-keyword">const</span> ctx = {
            <span class="hljs-attr">aliasDuplicateObjects</span>: aliasDuplicateObjects ?? <span class="hljs-literal">true</span>,
            <span class="hljs-attr">keepUndefined</span>: keepUndefined ?? <span class="hljs-literal">false</span>,
            onAnchor,
            onTagObj,
            <span class="hljs-attr">replacer</span>: _replacer,
            <span class="hljs-attr">schema</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">schema</span>,
            sourceObjects
        };
        <span class="hljs-keyword">const</span> node = <span class="hljs-title function_">createNode</span>(value, tag, ctx);
        <span class="hljs-keyword">if</span> (flow &amp;&amp; <span class="hljs-title function_">isCollection</span>(node))
            node.<span class="hljs-property">flow</span> = <span class="hljs-literal">true</span>;
        <span class="hljs-title function_">setAnchors</span>();
        <span class="hljs-keyword">return</span> node;
    }
    <span class="hljs-comment">/**
     * Convert a key and a value into a `Pair` using the current schema,
     * recursively wrapping all values as `Scalar` or `Collection` nodes.
     */</span>
    <span class="hljs-title function_">createPair</span>(<span class="hljs-params">key, value, options = {}</span>) {
        <span class="hljs-keyword">const</span> k = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createNode</span>(key, <span class="hljs-literal">null</span>, options);
        <span class="hljs-keyword">const</span> v = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createNode</span>(value, <span class="hljs-literal">null</span>, options);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Pair</span>(k, v);
    }
    <span class="hljs-comment">/**
     * Removes a value from the document.
     * <span class="hljs-doctag">@returns</span> `true` if the item was found and removed.
     */</span>
    <span class="hljs-title function_">delete</span>(<span class="hljs-params">key</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">assertCollection</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span>) ? <span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span>.<span class="hljs-title function_">delete</span>(key) : <span class="hljs-literal">false</span>;
    }
    <span class="hljs-comment">/**
     * Removes a value from the document.
     * <span class="hljs-doctag">@returns</span> `true` if the item was found and removed.
     */</span>
    <span class="hljs-title function_">deleteIn</span>(<span class="hljs-params">path</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isEmptyPath</span>(path)) {
            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span> == <span class="hljs-literal">null</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span> = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">assertCollection</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span>)
            ? <span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span>.<span class="hljs-title function_">deleteIn</span>(path)
            : <span class="hljs-literal">false</span>;
    }
    <span class="hljs-comment">/**
     * Returns item at `key`, or `undefined` if not found. By default unwraps
     * scalar values from their surrounding node; to disable set `keepScalar` to
     * `true` (collections are always returned intact).
     */</span>
    <span class="hljs-title function_">get</span>(<span class="hljs-params">key, keepScalar</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">isCollection</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span>)
            ? <span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span>.<span class="hljs-title function_">get</span>(key, keepScalar)
            : <span class="hljs-literal">undefined</span>;
    }
    <span class="hljs-comment">/**
     * Returns item at `path`, or `undefined` if not found. By default unwraps
     * scalar values from their surrounding node; to disable set `keepScalar` to
     * `true` (collections are always returned intact).
     */</span>
    <span class="hljs-title function_">getIn</span>(<span class="hljs-params">path, keepScalar</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isEmptyPath</span>(path))
            <span class="hljs-keyword">return</span> !keepScalar &amp;&amp; <span class="hljs-title function_">isScalar</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span>)
                ? <span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span>.<span class="hljs-property">value</span>
                : <span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">isCollection</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span>)
            ? <span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span>.<span class="hljs-title function_">getIn</span>(path, keepScalar)
            : <span class="hljs-literal">undefined</span>;
    }
    <span class="hljs-comment">/**
     * Checks if the document includes a value with the key `key`.
     */</span>
    <span class="hljs-title function_">has</span>(<span class="hljs-params">key</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">isCollection</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span>) ? <span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span>.<span class="hljs-title function_">has</span>(key) : <span class="hljs-literal">false</span>;
    }
    <span class="hljs-comment">/**
     * Checks if the document includes a value at `path`.
     */</span>
    <span class="hljs-title function_">hasIn</span>(<span class="hljs-params">path</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isEmptyPath</span>(path))
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span> !== <span class="hljs-literal">undefined</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">isCollection</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span>) ? <span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span>.<span class="hljs-title function_">hasIn</span>(path) : <span class="hljs-literal">false</span>;
    }
    <span class="hljs-comment">/**
     * Sets a value in this document. For `!!set`, `value` needs to be a
     * boolean to add/remove the item from the set.
     */</span>
    <span class="hljs-title function_">set</span>(<span class="hljs-params">key, value</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span> == <span class="hljs-literal">null</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span> = <span class="hljs-title function_">collectionFromPath</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">schema</span>, [key], value);
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title function_">assertCollection</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span>)) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span>.<span class="hljs-title function_">set</span>(key, value);
        }
    }
    <span class="hljs-comment">/**
     * Sets a value in this document. For `!!set`, `value` needs to be a
     * boolean to add/remove the item from the set.
     */</span>
    <span class="hljs-title function_">setIn</span>(<span class="hljs-params">path, value</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isEmptyPath</span>(path))
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span> = value;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span> == <span class="hljs-literal">null</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span> = <span class="hljs-title function_">collectionFromPath</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">schema</span>, <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(path), value);
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title function_">assertCollection</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span>)) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span>.<span class="hljs-title function_">setIn</span>(path, value);
        }
    }
    <span class="hljs-comment">/**
     * Change the YAML version and schema used by the document.
     * A `null` version disables support for directives, explicit tags, anchors, and aliases.
     * It also requires the `schema` option to be given as a `Schema` instance value.
     *
     * Overrides all previously set schema options.
     */</span>
    <span class="hljs-title function_">setSchema</span>(<span class="hljs-params">version, options = {}</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> version === <span class="hljs-string">&#x27;number&#x27;</span>)
            version = <span class="hljs-title class_">String</span>(version);
        <span class="hljs-keyword">let</span> opt;
        <span class="hljs-keyword">switch</span> (version) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;1.1&#x27;</span>:
                <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">directives</span>)
                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">directives</span>.<span class="hljs-property">yaml</span>.<span class="hljs-property">version</span> = <span class="hljs-string">&#x27;1.1&#x27;</span>;
                <span class="hljs-keyword">else</span>
                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">directives</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Directives</span>({ <span class="hljs-attr">version</span>: <span class="hljs-string">&#x27;1.1&#x27;</span> });
                opt = { <span class="hljs-attr">merge</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">resolveKnownTags</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">schema</span>: <span class="hljs-string">&#x27;yaml-1.1&#x27;</span> };
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;1.2&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;next&#x27;</span>:
                <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">directives</span>)
                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">directives</span>.<span class="hljs-property">yaml</span>.<span class="hljs-property">version</span> = version;
                <span class="hljs-keyword">else</span>
                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">directives</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Directives</span>({ version });
                opt = { <span class="hljs-attr">merge</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">resolveKnownTags</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">schema</span>: <span class="hljs-string">&#x27;core&#x27;</span> };
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-attr">null</span>:
                <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">directives</span>)
                    <span class="hljs-keyword">delete</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">directives</span>;
                opt = <span class="hljs-literal">null</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-attr">default</span>: {
                <span class="hljs-keyword">const</span> sv = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(version);
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Expected &#x27;1.1&#x27;, &#x27;1.2&#x27; or null as first argument, but found: <span class="hljs-subst">${sv}</span>`</span>);
            }
        }
        <span class="hljs-comment">// Not using `instanceof Schema` to allow for duck typing</span>
        <span class="hljs-keyword">if</span> (options.<span class="hljs-property">schema</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Object</span>)
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">schema</span> = options.<span class="hljs-property">schema</span>;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (opt)
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">schema</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Schema</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(opt, options));
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`With a null YAML version, the { schema: Schema } option is required`</span>);
    }
    <span class="hljs-comment">// json &amp; jsonArg are only used from toJSON()</span>
    <span class="hljs-title function_">toJS</span>(<span class="hljs-params">{ json, jsonArg, mapAsMap, maxAliasCount, onAnchor, reviver } = {}</span>) {
        <span class="hljs-keyword">const</span> ctx = {
            <span class="hljs-attr">anchors</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(),
            <span class="hljs-attr">doc</span>: <span class="hljs-variable language_">this</span>,
            <span class="hljs-attr">keep</span>: !json,
            <span class="hljs-attr">mapAsMap</span>: mapAsMap === <span class="hljs-literal">true</span>,
            <span class="hljs-attr">mapKeyWarned</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">maxAliasCount</span>: <span class="hljs-keyword">typeof</span> maxAliasCount === <span class="hljs-string">&#x27;number&#x27;</span> ? maxAliasCount : <span class="hljs-number">100</span>,
            <span class="hljs-attr">stringify</span>: stringify
        };
        <span class="hljs-keyword">const</span> res = <span class="hljs-title function_">toJS</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">contents</span>, jsonArg ?? <span class="hljs-string">&#x27;&#x27;</span>, ctx);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> onAnchor === <span class="hljs-string">&#x27;function&#x27;</span>)
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> { count, res } <span class="hljs-keyword">of</span> ctx.<span class="hljs-property">anchors</span>.<span class="hljs-title function_">values</span>())
                <span class="hljs-title function_">onAnchor</span>(res, count);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> reviver === <span class="hljs-string">&#x27;function&#x27;</span>
            ? <span class="hljs-title function_">applyReviver</span>(reviver, { <span class="hljs-string">&#x27;&#x27;</span>: res }, <span class="hljs-string">&#x27;&#x27;</span>, res)
            : res;
    }
    <span class="hljs-comment">/**
     * A JSON representation of the document `contents`.
     *
     * <span class="hljs-doctag">@param</span> jsonArg Used by `JSON.stringify` to indicate the array index or
     *   property name.
     */</span>
    <span class="hljs-title function_">toJSON</span>(<span class="hljs-params">jsonArg, onAnchor</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">toJS</span>({ <span class="hljs-attr">json</span>: <span class="hljs-literal">true</span>, jsonArg, <span class="hljs-attr">mapAsMap</span>: <span class="hljs-literal">false</span>, onAnchor });
    }
    <span class="hljs-comment">/** A YAML representation of the document. */</span>
    <span class="hljs-title function_">toString</span>(<span class="hljs-params">options = {}</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>)
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Document with errors cannot be stringified&#x27;</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-string">&#x27;indent&#x27;</span> <span class="hljs-keyword">in</span> options &amp;&amp;
            (!<span class="hljs-title class_">Number</span>.<span class="hljs-title function_">isInteger</span>(options.<span class="hljs-property">indent</span>) || <span class="hljs-title class_">Number</span>(options.<span class="hljs-property">indent</span>) &lt;= <span class="hljs-number">0</span>)) {
            <span class="hljs-keyword">const</span> s = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(options.<span class="hljs-property">indent</span>);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`&quot;indent&quot; option must be a positive integer, not <span class="hljs-subst">${s}</span>`</span>);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">stringifyDocument</span>(<span class="hljs-variable language_">this</span>, options);
    }
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">assertCollection</span>(<span class="hljs-params">contents</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isCollection</span>(contents))
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Expected a YAML collection as document contents&#x27;</span>);
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/errors.js</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">YAMLError</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Error</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, pos, code, message</span>) {
        <span class="hljs-variable language_">super</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">code</span> = code;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span> = message;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span> = pos;
    }
}
<span class="hljs-keyword">class</span> <span class="hljs-title class_">errors_YAMLParseError</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">YAMLError</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">pos, code, message</span>) {
        <span class="hljs-variable language_">super</span>(<span class="hljs-string">&#x27;YAMLParseError&#x27;</span>, pos, code, message);
    }
}
<span class="hljs-keyword">class</span> <span class="hljs-title class_">YAMLWarning</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">YAMLError</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">pos, code, message</span>) {
        <span class="hljs-variable language_">super</span>(<span class="hljs-string">&#x27;YAMLWarning&#x27;</span>, pos, code, message);
    }
}
<span class="hljs-keyword">const</span> <span class="hljs-title function_">errors_prettifyError</span> = (<span class="hljs-params">src, lc</span>) =&gt; <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (error.<span class="hljs-property">pos</span>[<span class="hljs-number">0</span>] === -<span class="hljs-number">1</span>)
        <span class="hljs-keyword">return</span>;
    error.<span class="hljs-property">linePos</span> = error.<span class="hljs-property">pos</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">pos</span> =&gt;</span> lc.<span class="hljs-title function_">linePos</span>(pos));
    <span class="hljs-keyword">const</span> { line, col } = error.<span class="hljs-property">linePos</span>[<span class="hljs-number">0</span>];
    error.<span class="hljs-property">message</span> += <span class="hljs-string">` at line <span class="hljs-subst">${line}</span>, column <span class="hljs-subst">${col}</span>`</span>;
    <span class="hljs-keyword">let</span> ci = col - <span class="hljs-number">1</span>;
    <span class="hljs-keyword">let</span> lineStr = src
        .<span class="hljs-title function_">substring</span>(lc.<span class="hljs-property">lineStarts</span>[line - <span class="hljs-number">1</span>], lc.<span class="hljs-property">lineStarts</span>[line])
        .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[\n\r]+$/</span>, <span class="hljs-string">&#x27;&#x27;</span>);
    <span class="hljs-comment">// Trim to max 80 chars, keeping col position near the middle</span>
    <span class="hljs-keyword">if</span> (ci &gt;= <span class="hljs-number">60</span> &amp;&amp; lineStr.<span class="hljs-property">length</span> &gt; <span class="hljs-number">80</span>) {
        <span class="hljs-keyword">const</span> trimStart = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(ci - <span class="hljs-number">39</span>, lineStr.<span class="hljs-property">length</span> - <span class="hljs-number">79</span>);
        lineStr = <span class="hljs-string">&#x27;…&#x27;</span> + lineStr.<span class="hljs-title function_">substring</span>(trimStart);
        ci -= trimStart - <span class="hljs-number">1</span>;
    }
    <span class="hljs-keyword">if</span> (lineStr.<span class="hljs-property">length</span> &gt; <span class="hljs-number">80</span>)
        lineStr = lineStr.<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>, <span class="hljs-number">79</span>) + <span class="hljs-string">&#x27;…&#x27;</span>;
    <span class="hljs-comment">// Include previous line in context if pointing at line start</span>
    <span class="hljs-keyword">if</span> (line &gt; <span class="hljs-number">1</span> &amp;&amp; <span class="hljs-regexp">/^ *$/</span>.<span class="hljs-title function_">test</span>(lineStr.<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>, ci))) {
        <span class="hljs-comment">// Regexp won&#x27;t match if start is trimmed</span>
        <span class="hljs-keyword">let</span> prev = src.<span class="hljs-title function_">substring</span>(lc.<span class="hljs-property">lineStarts</span>[line - <span class="hljs-number">2</span>], lc.<span class="hljs-property">lineStarts</span>[line - <span class="hljs-number">1</span>]);
        <span class="hljs-keyword">if</span> (prev.<span class="hljs-property">length</span> &gt; <span class="hljs-number">80</span>)
            prev = prev.<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>, <span class="hljs-number">79</span>) + <span class="hljs-string">&#x27;…\n&#x27;</span>;
        lineStr = prev + lineStr;
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/[^ ]/</span>.<span class="hljs-title function_">test</span>(lineStr)) {
        <span class="hljs-keyword">let</span> count = <span class="hljs-number">1</span>;
        <span class="hljs-keyword">const</span> end = error.<span class="hljs-property">linePos</span>[<span class="hljs-number">1</span>];
        <span class="hljs-keyword">if</span> (end &amp;&amp; end.<span class="hljs-property">line</span> === line &amp;&amp; end.<span class="hljs-property">col</span> &gt; col) {
            count = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(end.<span class="hljs-property">col</span> - col, <span class="hljs-number">80</span> - ci);
        }
        <span class="hljs-keyword">const</span> pointer = <span class="hljs-string">&#x27; &#x27;</span>.<span class="hljs-title function_">repeat</span>(ci) + <span class="hljs-string">&#x27;^&#x27;</span>.<span class="hljs-title function_">repeat</span>(count);
        error.<span class="hljs-property">message</span> += <span class="hljs-string">`:\n\n<span class="hljs-subst">${lineStr}</span>\n<span class="hljs-subst">${pointer}</span>\n`</span>;
    }
};



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/compose/resolve-props.js</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">resolveProps</span>(<span class="hljs-params">tokens, { flow, indicator, next, offset, onError, startOnNewline }</span>) {
    <span class="hljs-keyword">let</span> spaceBefore = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">let</span> atNewline = startOnNewline;
    <span class="hljs-keyword">let</span> hasSpace = startOnNewline;
    <span class="hljs-keyword">let</span> comment = <span class="hljs-string">&#x27;&#x27;</span>;
    <span class="hljs-keyword">let</span> commentSep = <span class="hljs-string">&#x27;&#x27;</span>;
    <span class="hljs-keyword">let</span> hasNewline = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">let</span> hasNewlineAfterProp = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">let</span> reqSpace = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">let</span> anchor = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">let</span> tag = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">let</span> comma = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">let</span> found = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">let</span> start = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> token <span class="hljs-keyword">of</span> tokens) {
        <span class="hljs-keyword">if</span> (reqSpace) {
            <span class="hljs-keyword">if</span> (token.<span class="hljs-property">type</span> !== <span class="hljs-string">&#x27;space&#x27;</span> &amp;&amp;
                token.<span class="hljs-property">type</span> !== <span class="hljs-string">&#x27;newline&#x27;</span> &amp;&amp;
                token.<span class="hljs-property">type</span> !== <span class="hljs-string">&#x27;comma&#x27;</span>)
                <span class="hljs-title function_">onError</span>(token.<span class="hljs-property">offset</span>, <span class="hljs-string">&#x27;MISSING_CHAR&#x27;</span>, <span class="hljs-string">&#x27;Tags and anchors must be separated from the next token by white space&#x27;</span>);
            reqSpace = <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">switch</span> (token.<span class="hljs-property">type</span>) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;space&#x27;</span>:
                <span class="hljs-comment">// At the doc level, tabs at line start may be parsed</span>
                <span class="hljs-comment">// as leading white space rather than indentation.</span>
                <span class="hljs-comment">// In a flow collection, only the parser handles indent.</span>
                <span class="hljs-keyword">if</span> (!flow &amp;&amp;
                    atNewline &amp;&amp;
                    indicator !== <span class="hljs-string">&#x27;doc-start&#x27;</span> &amp;&amp;
                    token.<span class="hljs-property">source</span>[<span class="hljs-number">0</span>] === <span class="hljs-string">&#x27;\t&#x27;</span>)
                    <span class="hljs-title function_">onError</span>(token, <span class="hljs-string">&#x27;TAB_AS_INDENT&#x27;</span>, <span class="hljs-string">&#x27;Tabs are not allowed as indentation&#x27;</span>);
                hasSpace = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;comment&#x27;</span>: {
                <span class="hljs-keyword">if</span> (!hasSpace)
                    <span class="hljs-title function_">onError</span>(token, <span class="hljs-string">&#x27;MISSING_CHAR&#x27;</span>, <span class="hljs-string">&#x27;Comments must be separated from other tokens by white space characters&#x27;</span>);
                <span class="hljs-keyword">const</span> cb = token.<span class="hljs-property">source</span>.<span class="hljs-title function_">substring</span>(<span class="hljs-number">1</span>) || <span class="hljs-string">&#x27; &#x27;</span>;
                <span class="hljs-keyword">if</span> (!comment)
                    comment = cb;
                <span class="hljs-keyword">else</span>
                    comment += commentSep + cb;
                commentSep = <span class="hljs-string">&#x27;&#x27;</span>;
                atNewline = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">break</span>;
            }
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;newline&#x27;</span>:
                <span class="hljs-keyword">if</span> (atNewline) {
                    <span class="hljs-keyword">if</span> (comment)
                        comment += token.<span class="hljs-property">source</span>;
                    <span class="hljs-keyword">else</span>
                        spaceBefore = <span class="hljs-literal">true</span>;
                }
                <span class="hljs-keyword">else</span>
                    commentSep += token.<span class="hljs-property">source</span>;
                atNewline = <span class="hljs-literal">true</span>;
                hasNewline = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">if</span> (anchor || tag)
                    hasNewlineAfterProp = <span class="hljs-literal">true</span>;
                hasSpace = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;anchor&#x27;</span>:
                <span class="hljs-keyword">if</span> (anchor)
                    <span class="hljs-title function_">onError</span>(token, <span class="hljs-string">&#x27;MULTIPLE_ANCHORS&#x27;</span>, <span class="hljs-string">&#x27;A node can have at most one anchor&#x27;</span>);
                <span class="hljs-keyword">if</span> (token.<span class="hljs-property">source</span>.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">&#x27;:&#x27;</span>))
                    <span class="hljs-title function_">onError</span>(token.<span class="hljs-property">offset</span> + token.<span class="hljs-property">source</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;BAD_ALIAS&#x27;</span>, <span class="hljs-string">&#x27;Anchor ending in : is ambiguous&#x27;</span>, <span class="hljs-literal">true</span>);
                anchor = token;
                <span class="hljs-keyword">if</span> (start === <span class="hljs-literal">null</span>)
                    start = token.<span class="hljs-property">offset</span>;
                atNewline = <span class="hljs-literal">false</span>;
                hasSpace = <span class="hljs-literal">false</span>;
                reqSpace = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;tag&#x27;</span>: {
                <span class="hljs-keyword">if</span> (tag)
                    <span class="hljs-title function_">onError</span>(token, <span class="hljs-string">&#x27;MULTIPLE_TAGS&#x27;</span>, <span class="hljs-string">&#x27;A node can have at most one tag&#x27;</span>);
                tag = token;
                <span class="hljs-keyword">if</span> (start === <span class="hljs-literal">null</span>)
                    start = token.<span class="hljs-property">offset</span>;
                atNewline = <span class="hljs-literal">false</span>;
                hasSpace = <span class="hljs-literal">false</span>;
                reqSpace = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">break</span>;
            }
            <span class="hljs-keyword">case</span> <span class="hljs-attr">indicator</span>:
                <span class="hljs-comment">// Could here handle preceding comments differently</span>
                <span class="hljs-keyword">if</span> (anchor || tag)
                    <span class="hljs-title function_">onError</span>(token, <span class="hljs-string">&#x27;BAD_PROP_ORDER&#x27;</span>, <span class="hljs-string">`Anchors and tags must be after the <span class="hljs-subst">${token.source}</span> indicator`</span>);
                <span class="hljs-keyword">if</span> (found)
                    <span class="hljs-title function_">onError</span>(token, <span class="hljs-string">&#x27;UNEXPECTED_TOKEN&#x27;</span>, <span class="hljs-string">`Unexpected <span class="hljs-subst">${token.source}</span> in <span class="hljs-subst">${flow ?? <span class="hljs-string">&#x27;collection&#x27;</span>}</span>`</span>);
                found = token;
                atNewline = <span class="hljs-literal">false</span>;
                hasSpace = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;comma&#x27;</span>:
                <span class="hljs-keyword">if</span> (flow) {
                    <span class="hljs-keyword">if</span> (comma)
                        <span class="hljs-title function_">onError</span>(token, <span class="hljs-string">&#x27;UNEXPECTED_TOKEN&#x27;</span>, <span class="hljs-string">`Unexpected , in <span class="hljs-subst">${flow}</span>`</span>);
                    comma = token;
                    atNewline = <span class="hljs-literal">false</span>;
                    hasSpace = <span class="hljs-literal">false</span>;
                    <span class="hljs-keyword">break</span>;
                }
            <span class="hljs-comment">// else fallthrough</span>
            <span class="hljs-attr">default</span>:
                <span class="hljs-title function_">onError</span>(token, <span class="hljs-string">&#x27;UNEXPECTED_TOKEN&#x27;</span>, <span class="hljs-string">`Unexpected <span class="hljs-subst">${token.type}</span> token`</span>);
                atNewline = <span class="hljs-literal">false</span>;
                hasSpace = <span class="hljs-literal">false</span>;
        }
    }
    <span class="hljs-keyword">const</span> last = tokens[tokens.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>];
    <span class="hljs-keyword">const</span> end = last ? last.<span class="hljs-property">offset</span> + last.<span class="hljs-property">source</span>.<span class="hljs-property">length</span> : offset;
    <span class="hljs-keyword">if</span> (reqSpace &amp;&amp;
        next &amp;&amp;
        next.<span class="hljs-property">type</span> !== <span class="hljs-string">&#x27;space&#x27;</span> &amp;&amp;
        next.<span class="hljs-property">type</span> !== <span class="hljs-string">&#x27;newline&#x27;</span> &amp;&amp;
        next.<span class="hljs-property">type</span> !== <span class="hljs-string">&#x27;comma&#x27;</span> &amp;&amp;
        (next.<span class="hljs-property">type</span> !== <span class="hljs-string">&#x27;scalar&#x27;</span> || next.<span class="hljs-property">source</span> !== <span class="hljs-string">&#x27;&#x27;</span>))
        <span class="hljs-title function_">onError</span>(next.<span class="hljs-property">offset</span>, <span class="hljs-string">&#x27;MISSING_CHAR&#x27;</span>, <span class="hljs-string">&#x27;Tags and anchors must be separated from the next token by white space&#x27;</span>);
    <span class="hljs-keyword">return</span> {
        comma,
        found,
        spaceBefore,
        comment,
        hasNewline,
        hasNewlineAfterProp,
        anchor,
        tag,
        end,
        <span class="hljs-attr">start</span>: start ?? end
    };
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/compose/util-contains-newline.js</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">containsNewline</span>(<span class="hljs-params">key</span>) {
    <span class="hljs-keyword">if</span> (!key)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">switch</span> (key.<span class="hljs-property">type</span>) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;alias&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;scalar&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;double-quoted-scalar&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;single-quoted-scalar&#x27;</span>:
            <span class="hljs-keyword">if</span> (key.<span class="hljs-property">source</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&#x27;\n&#x27;</span>))
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">if</span> (key.<span class="hljs-property">end</span>)
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> st <span class="hljs-keyword">of</span> key.<span class="hljs-property">end</span>)
                    <span class="hljs-keyword">if</span> (st.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;newline&#x27;</span>)
                        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;flow-collection&#x27;</span>:
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> it <span class="hljs-keyword">of</span> key.<span class="hljs-property">items</span>) {
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> st <span class="hljs-keyword">of</span> it.<span class="hljs-property">start</span>)
                    <span class="hljs-keyword">if</span> (st.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;newline&#x27;</span>)
                        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">if</span> (it.<span class="hljs-property">sep</span>)
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> st <span class="hljs-keyword">of</span> it.<span class="hljs-property">sep</span>)
                        <span class="hljs-keyword">if</span> (st.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;newline&#x27;</span>)
                            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">if</span> (<span class="hljs-title function_">containsNewline</span>(it.<span class="hljs-property">key</span>) || <span class="hljs-title function_">containsNewline</span>(it.<span class="hljs-property">value</span>))
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-attr">default</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/compose/util-flow-indent-check.js</span>


<span class="hljs-keyword">function</span> <span class="hljs-title function_">flowIndentCheck</span>(<span class="hljs-params">indent, fc, onError</span>) {
    <span class="hljs-keyword">if</span> (fc?.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;flow-collection&#x27;</span>) {
        <span class="hljs-keyword">const</span> end = fc.<span class="hljs-property">end</span>[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">if</span> (end.<span class="hljs-property">indent</span> === indent &amp;&amp;
            (end.<span class="hljs-property">source</span> === <span class="hljs-string">&#x27;]&#x27;</span> || end.<span class="hljs-property">source</span> === <span class="hljs-string">&#x27;}&#x27;</span>) &amp;&amp;
            <span class="hljs-title function_">containsNewline</span>(fc)) {
            <span class="hljs-keyword">const</span> msg = <span class="hljs-string">&#x27;Flow end indicator should be more indented than parent&#x27;</span>;
            <span class="hljs-title function_">onError</span>(end, <span class="hljs-string">&#x27;BAD_INDENT&#x27;</span>, msg, <span class="hljs-literal">true</span>);
        }
    }
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/compose/util-map-includes.js</span>


<span class="hljs-keyword">function</span> <span class="hljs-title function_">mapIncludes</span>(<span class="hljs-params">ctx, items, search</span>) {
    <span class="hljs-keyword">const</span> { uniqueKeys } = ctx.<span class="hljs-property">options</span>;
    <span class="hljs-keyword">if</span> (uniqueKeys === <span class="hljs-literal">false</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">const</span> isEqual = <span class="hljs-keyword">typeof</span> uniqueKeys === <span class="hljs-string">&#x27;function&#x27;</span>
        ? uniqueKeys
        : <span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a === b ||
            (<span class="hljs-title function_">isScalar</span>(a) &amp;&amp;
                <span class="hljs-title function_">isScalar</span>(b) &amp;&amp;
                a.<span class="hljs-property">value</span> === b.<span class="hljs-property">value</span> &amp;&amp;
                !(a.<span class="hljs-property">value</span> === <span class="hljs-string">&#x27;&lt;&lt;&#x27;</span> &amp;&amp; ctx.<span class="hljs-property">schema</span>.<span class="hljs-property">merge</span>));
    <span class="hljs-keyword">return</span> items.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">pair</span> =&gt;</span> <span class="hljs-title function_">isEqual</span>(pair.<span class="hljs-property">key</span>, search));
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/compose/resolve-block-map.js</span>







<span class="hljs-keyword">const</span> startColMsg = <span class="hljs-string">&#x27;All mapping items must start at the same column&#x27;</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">resolveBlockMap</span>(<span class="hljs-params">{ composeNode, composeEmptyNode }, ctx, bm, onError</span>) {
    <span class="hljs-keyword">const</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">YAMLMap</span>(ctx.<span class="hljs-property">schema</span>);
    <span class="hljs-keyword">if</span> (ctx.<span class="hljs-property">atRoot</span>)
        ctx.<span class="hljs-property">atRoot</span> = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">let</span> offset = bm.<span class="hljs-property">offset</span>;
    <span class="hljs-keyword">let</span> commentEnd = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> collItem <span class="hljs-keyword">of</span> bm.<span class="hljs-property">items</span>) {
        <span class="hljs-keyword">const</span> { start, key, sep, value } = collItem;
        <span class="hljs-comment">// key properties</span>
        <span class="hljs-keyword">const</span> keyProps = <span class="hljs-title function_">resolveProps</span>(start, {
            <span class="hljs-attr">indicator</span>: <span class="hljs-string">&#x27;explicit-key-ind&#x27;</span>,
            <span class="hljs-attr">next</span>: key ?? sep?.[<span class="hljs-number">0</span>],
            offset,
            onError,
            <span class="hljs-attr">startOnNewline</span>: <span class="hljs-literal">true</span>
        });
        <span class="hljs-keyword">const</span> implicitKey = !keyProps.<span class="hljs-property">found</span>;
        <span class="hljs-keyword">if</span> (implicitKey) {
            <span class="hljs-keyword">if</span> (key) {
                <span class="hljs-keyword">if</span> (key.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;block-seq&#x27;</span>)
                    <span class="hljs-title function_">onError</span>(offset, <span class="hljs-string">&#x27;BLOCK_AS_IMPLICIT_KEY&#x27;</span>, <span class="hljs-string">&#x27;A block sequence may not be used as an implicit map key&#x27;</span>);
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-string">&#x27;indent&#x27;</span> <span class="hljs-keyword">in</span> key &amp;&amp; key.<span class="hljs-property">indent</span> !== bm.<span class="hljs-property">indent</span>)
                    <span class="hljs-title function_">onError</span>(offset, <span class="hljs-string">&#x27;BAD_INDENT&#x27;</span>, startColMsg);
            }
            <span class="hljs-keyword">if</span> (!keyProps.<span class="hljs-property">anchor</span> &amp;&amp; !keyProps.<span class="hljs-property">tag</span> &amp;&amp; !sep) {
                commentEnd = keyProps.<span class="hljs-property">end</span>;
                <span class="hljs-keyword">if</span> (keyProps.<span class="hljs-property">comment</span>) {
                    <span class="hljs-keyword">if</span> (map.<span class="hljs-property">comment</span>)
                        map.<span class="hljs-property">comment</span> += <span class="hljs-string">&#x27;\n&#x27;</span> + keyProps.<span class="hljs-property">comment</span>;
                    <span class="hljs-keyword">else</span>
                        map.<span class="hljs-property">comment</span> = keyProps.<span class="hljs-property">comment</span>;
                }
                <span class="hljs-keyword">continue</span>;
            }
            <span class="hljs-keyword">if</span> (keyProps.<span class="hljs-property">hasNewlineAfterProp</span> || <span class="hljs-title function_">containsNewline</span>(key)) {
                <span class="hljs-title function_">onError</span>(key ?? start[start.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>], <span class="hljs-string">&#x27;MULTILINE_IMPLICIT_KEY&#x27;</span>, <span class="hljs-string">&#x27;Implicit keys need to be on a single line&#x27;</span>);
            }
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (keyProps.<span class="hljs-property">found</span>?.<span class="hljs-property">indent</span> !== bm.<span class="hljs-property">indent</span>) {
            <span class="hljs-title function_">onError</span>(offset, <span class="hljs-string">&#x27;BAD_INDENT&#x27;</span>, startColMsg);
        }
        <span class="hljs-comment">// key value</span>
        <span class="hljs-keyword">const</span> keyStart = keyProps.<span class="hljs-property">end</span>;
        <span class="hljs-keyword">const</span> keyNode = key
            ? <span class="hljs-title function_">composeNode</span>(ctx, key, keyProps, onError)
            : <span class="hljs-title function_">composeEmptyNode</span>(ctx, keyStart, start, <span class="hljs-literal">null</span>, keyProps, onError);
        <span class="hljs-keyword">if</span> (ctx.<span class="hljs-property">schema</span>.<span class="hljs-property">compat</span>)
            <span class="hljs-title function_">flowIndentCheck</span>(bm.<span class="hljs-property">indent</span>, key, onError);
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">mapIncludes</span>(ctx, map.<span class="hljs-property">items</span>, keyNode))
            <span class="hljs-title function_">onError</span>(keyStart, <span class="hljs-string">&#x27;DUPLICATE_KEY&#x27;</span>, <span class="hljs-string">&#x27;Map keys must be unique&#x27;</span>);
        <span class="hljs-comment">// value properties</span>
        <span class="hljs-keyword">const</span> valueProps = <span class="hljs-title function_">resolveProps</span>(sep ?? [], {
            <span class="hljs-attr">indicator</span>: <span class="hljs-string">&#x27;map-value-ind&#x27;</span>,
            <span class="hljs-attr">next</span>: value,
            <span class="hljs-attr">offset</span>: keyNode.<span class="hljs-property">range</span>[<span class="hljs-number">2</span>],
            onError,
            <span class="hljs-attr">startOnNewline</span>: !key || key.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;block-scalar&#x27;</span>
        });
        offset = valueProps.<span class="hljs-property">end</span>;
        <span class="hljs-keyword">if</span> (valueProps.<span class="hljs-property">found</span>) {
            <span class="hljs-keyword">if</span> (implicitKey) {
                <span class="hljs-keyword">if</span> (value?.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;block-map&#x27;</span> &amp;&amp; !valueProps.<span class="hljs-property">hasNewline</span>)
                    <span class="hljs-title function_">onError</span>(offset, <span class="hljs-string">&#x27;BLOCK_AS_IMPLICIT_KEY&#x27;</span>, <span class="hljs-string">&#x27;Nested mappings are not allowed in compact mappings&#x27;</span>);
                <span class="hljs-keyword">if</span> (ctx.<span class="hljs-property">options</span>.<span class="hljs-property">strict</span> &amp;&amp;
                    keyProps.<span class="hljs-property">start</span> &lt; valueProps.<span class="hljs-property">found</span>.<span class="hljs-property">offset</span> - <span class="hljs-number">1024</span>)
                    <span class="hljs-title function_">onError</span>(keyNode.<span class="hljs-property">range</span>, <span class="hljs-string">&#x27;KEY_OVER_1024_CHARS&#x27;</span>, <span class="hljs-string">&#x27;The : indicator must be at most 1024 chars after the start of an implicit block mapping key&#x27;</span>);
            }
            <span class="hljs-comment">// value value</span>
            <span class="hljs-keyword">const</span> valueNode = value
                ? <span class="hljs-title function_">composeNode</span>(ctx, value, valueProps, onError)
                : <span class="hljs-title function_">composeEmptyNode</span>(ctx, offset, sep, <span class="hljs-literal">null</span>, valueProps, onError);
            <span class="hljs-keyword">if</span> (ctx.<span class="hljs-property">schema</span>.<span class="hljs-property">compat</span>)
                <span class="hljs-title function_">flowIndentCheck</span>(bm.<span class="hljs-property">indent</span>, value, onError);
            offset = valueNode.<span class="hljs-property">range</span>[<span class="hljs-number">2</span>];
            <span class="hljs-keyword">const</span> pair = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Pair</span>(keyNode, valueNode);
            <span class="hljs-keyword">if</span> (ctx.<span class="hljs-property">options</span>.<span class="hljs-property">keepSourceTokens</span>)
                pair.<span class="hljs-property">srcToken</span> = collItem;
            map.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>(pair);
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// key with no value</span>
            <span class="hljs-keyword">if</span> (implicitKey)
                <span class="hljs-title function_">onError</span>(keyNode.<span class="hljs-property">range</span>, <span class="hljs-string">&#x27;MISSING_CHAR&#x27;</span>, <span class="hljs-string">&#x27;Implicit map keys need to be followed by map values&#x27;</span>);
            <span class="hljs-keyword">if</span> (valueProps.<span class="hljs-property">comment</span>) {
                <span class="hljs-keyword">if</span> (keyNode.<span class="hljs-property">comment</span>)
                    keyNode.<span class="hljs-property">comment</span> += <span class="hljs-string">&#x27;\n&#x27;</span> + valueProps.<span class="hljs-property">comment</span>;
                <span class="hljs-keyword">else</span>
                    keyNode.<span class="hljs-property">comment</span> = valueProps.<span class="hljs-property">comment</span>;
            }
            <span class="hljs-keyword">const</span> pair = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Pair</span>(keyNode);
            <span class="hljs-keyword">if</span> (ctx.<span class="hljs-property">options</span>.<span class="hljs-property">keepSourceTokens</span>)
                pair.<span class="hljs-property">srcToken</span> = collItem;
            map.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>(pair);
        }
    }
    <span class="hljs-keyword">if</span> (commentEnd &amp;&amp; commentEnd &lt; offset)
        <span class="hljs-title function_">onError</span>(commentEnd, <span class="hljs-string">&#x27;IMPOSSIBLE&#x27;</span>, <span class="hljs-string">&#x27;Map comment with trailing content&#x27;</span>);
    map.<span class="hljs-property">range</span> = [bm.<span class="hljs-property">offset</span>, offset, commentEnd ?? offset];
    <span class="hljs-keyword">return</span> map;
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/compose/resolve-block-seq.js</span>




<span class="hljs-keyword">function</span> <span class="hljs-title function_">resolveBlockSeq</span>(<span class="hljs-params">{ composeNode, composeEmptyNode }, ctx, bs, onError</span>) {
    <span class="hljs-keyword">const</span> seq = <span class="hljs-keyword">new</span> <span class="hljs-title class_">YAMLSeq</span>(ctx.<span class="hljs-property">schema</span>);
    <span class="hljs-keyword">if</span> (ctx.<span class="hljs-property">atRoot</span>)
        ctx.<span class="hljs-property">atRoot</span> = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">let</span> offset = bs.<span class="hljs-property">offset</span>;
    <span class="hljs-keyword">let</span> commentEnd = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> { start, value } <span class="hljs-keyword">of</span> bs.<span class="hljs-property">items</span>) {
        <span class="hljs-keyword">const</span> props = <span class="hljs-title function_">resolveProps</span>(start, {
            <span class="hljs-attr">indicator</span>: <span class="hljs-string">&#x27;seq-item-ind&#x27;</span>,
            <span class="hljs-attr">next</span>: value,
            offset,
            onError,
            <span class="hljs-attr">startOnNewline</span>: <span class="hljs-literal">true</span>
        });
        <span class="hljs-keyword">if</span> (!props.<span class="hljs-property">found</span>) {
            <span class="hljs-keyword">if</span> (props.<span class="hljs-property">anchor</span> || props.<span class="hljs-property">tag</span> || value) {
                <span class="hljs-keyword">if</span> (value &amp;&amp; value.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;block-seq&#x27;</span>)
                    <span class="hljs-title function_">onError</span>(props.<span class="hljs-property">end</span>, <span class="hljs-string">&#x27;BAD_INDENT&#x27;</span>, <span class="hljs-string">&#x27;All sequence items must start at the same column&#x27;</span>);
                <span class="hljs-keyword">else</span>
                    <span class="hljs-title function_">onError</span>(offset, <span class="hljs-string">&#x27;MISSING_CHAR&#x27;</span>, <span class="hljs-string">&#x27;Sequence item without - indicator&#x27;</span>);
            }
            <span class="hljs-keyword">else</span> {
                commentEnd = props.<span class="hljs-property">end</span>;
                <span class="hljs-keyword">if</span> (props.<span class="hljs-property">comment</span>)
                    seq.<span class="hljs-property">comment</span> = props.<span class="hljs-property">comment</span>;
                <span class="hljs-keyword">continue</span>;
            }
        }
        <span class="hljs-keyword">const</span> node = value
            ? <span class="hljs-title function_">composeNode</span>(ctx, value, props, onError)
            : <span class="hljs-title function_">composeEmptyNode</span>(ctx, props.<span class="hljs-property">end</span>, start, <span class="hljs-literal">null</span>, props, onError);
        <span class="hljs-keyword">if</span> (ctx.<span class="hljs-property">schema</span>.<span class="hljs-property">compat</span>)
            <span class="hljs-title function_">flowIndentCheck</span>(bs.<span class="hljs-property">indent</span>, value, onError);
        offset = node.<span class="hljs-property">range</span>[<span class="hljs-number">2</span>];
        seq.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>(node);
    }
    seq.<span class="hljs-property">range</span> = [bs.<span class="hljs-property">offset</span>, offset, commentEnd ?? offset];
    <span class="hljs-keyword">return</span> seq;
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/compose/resolve-end.js</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">resolveEnd</span>(<span class="hljs-params">end, offset, reqSpace, onError</span>) {
    <span class="hljs-keyword">let</span> comment = <span class="hljs-string">&#x27;&#x27;</span>;
    <span class="hljs-keyword">if</span> (end) {
        <span class="hljs-keyword">let</span> hasSpace = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">let</span> sep = <span class="hljs-string">&#x27;&#x27;</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> token <span class="hljs-keyword">of</span> end) {
            <span class="hljs-keyword">const</span> { source, type } = token;
            <span class="hljs-keyword">switch</span> (type) {
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;space&#x27;</span>:
                    hasSpace = <span class="hljs-literal">true</span>;
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;comment&#x27;</span>: {
                    <span class="hljs-keyword">if</span> (reqSpace &amp;&amp; !hasSpace)
                        <span class="hljs-title function_">onError</span>(token, <span class="hljs-string">&#x27;MISSING_CHAR&#x27;</span>, <span class="hljs-string">&#x27;Comments must be separated from other tokens by white space characters&#x27;</span>);
                    <span class="hljs-keyword">const</span> cb = source.<span class="hljs-title function_">substring</span>(<span class="hljs-number">1</span>) || <span class="hljs-string">&#x27; &#x27;</span>;
                    <span class="hljs-keyword">if</span> (!comment)
                        comment = cb;
                    <span class="hljs-keyword">else</span>
                        comment += sep + cb;
                    sep = <span class="hljs-string">&#x27;&#x27;</span>;
                    <span class="hljs-keyword">break</span>;
                }
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;newline&#x27;</span>:
                    <span class="hljs-keyword">if</span> (comment)
                        sep += source;
                    hasSpace = <span class="hljs-literal">true</span>;
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-attr">default</span>:
                    <span class="hljs-title function_">onError</span>(token, <span class="hljs-string">&#x27;UNEXPECTED_TOKEN&#x27;</span>, <span class="hljs-string">`Unexpected <span class="hljs-subst">${type}</span> at node end`</span>);
            }
            offset += source.<span class="hljs-property">length</span>;
        }
    }
    <span class="hljs-keyword">return</span> { comment, offset };
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/compose/resolve-flow-collection.js</span>









<span class="hljs-keyword">const</span> blockMsg = <span class="hljs-string">&#x27;Block collections are not allowed within flow collections&#x27;</span>;
<span class="hljs-keyword">const</span> <span class="hljs-title function_">isBlock</span> = (<span class="hljs-params">token</span>) =&gt; token &amp;&amp; (token.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;block-map&#x27;</span> || token.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;block-seq&#x27;</span>);
<span class="hljs-keyword">function</span> <span class="hljs-title function_">resolveFlowCollection</span>(<span class="hljs-params">{ composeNode, composeEmptyNode }, ctx, fc, onError</span>) {
    <span class="hljs-keyword">const</span> isMap = fc.<span class="hljs-property">start</span>.<span class="hljs-property">source</span> === <span class="hljs-string">&#x27;{&#x27;</span>;
    <span class="hljs-keyword">const</span> fcName = isMap ? <span class="hljs-string">&#x27;flow map&#x27;</span> : <span class="hljs-string">&#x27;flow sequence&#x27;</span>;
    <span class="hljs-keyword">const</span> coll = isMap
        ? <span class="hljs-keyword">new</span> <span class="hljs-title class_">YAMLMap</span>(ctx.<span class="hljs-property">schema</span>)
        : <span class="hljs-keyword">new</span> <span class="hljs-title class_">YAMLSeq</span>(ctx.<span class="hljs-property">schema</span>);
    coll.<span class="hljs-property">flow</span> = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">const</span> atRoot = ctx.<span class="hljs-property">atRoot</span>;
    <span class="hljs-keyword">if</span> (atRoot)
        ctx.<span class="hljs-property">atRoot</span> = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">let</span> offset = fc.<span class="hljs-property">offset</span> + fc.<span class="hljs-property">start</span>.<span class="hljs-property">source</span>.<span class="hljs-property">length</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; fc.<span class="hljs-property">items</span>.<span class="hljs-property">length</span>; ++i) {
        <span class="hljs-keyword">const</span> collItem = fc.<span class="hljs-property">items</span>[i];
        <span class="hljs-keyword">const</span> { start, key, sep, value } = collItem;
        <span class="hljs-keyword">const</span> props = <span class="hljs-title function_">resolveProps</span>(start, {
            <span class="hljs-attr">flow</span>: fcName,
            <span class="hljs-attr">indicator</span>: <span class="hljs-string">&#x27;explicit-key-ind&#x27;</span>,
            <span class="hljs-attr">next</span>: key ?? sep?.[<span class="hljs-number">0</span>],
            offset,
            onError,
            <span class="hljs-attr">startOnNewline</span>: <span class="hljs-literal">false</span>
        });
        <span class="hljs-keyword">if</span> (!props.<span class="hljs-property">found</span>) {
            <span class="hljs-keyword">if</span> (!props.<span class="hljs-property">anchor</span> &amp;&amp; !props.<span class="hljs-property">tag</span> &amp;&amp; !sep &amp;&amp; !value) {
                <span class="hljs-keyword">if</span> (i === <span class="hljs-number">0</span> &amp;&amp; props.<span class="hljs-property">comma</span>)
                    <span class="hljs-title function_">onError</span>(props.<span class="hljs-property">comma</span>, <span class="hljs-string">&#x27;UNEXPECTED_TOKEN&#x27;</span>, <span class="hljs-string">`Unexpected , in <span class="hljs-subst">${fcName}</span>`</span>);
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (i &lt; fc.<span class="hljs-property">items</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>)
                    <span class="hljs-title function_">onError</span>(props.<span class="hljs-property">start</span>, <span class="hljs-string">&#x27;UNEXPECTED_TOKEN&#x27;</span>, <span class="hljs-string">`Unexpected empty item in <span class="hljs-subst">${fcName}</span>`</span>);
                <span class="hljs-keyword">if</span> (props.<span class="hljs-property">comment</span>) {
                    <span class="hljs-keyword">if</span> (coll.<span class="hljs-property">comment</span>)
                        coll.<span class="hljs-property">comment</span> += <span class="hljs-string">&#x27;\n&#x27;</span> + props.<span class="hljs-property">comment</span>;
                    <span class="hljs-keyword">else</span>
                        coll.<span class="hljs-property">comment</span> = props.<span class="hljs-property">comment</span>;
                }
                offset = props.<span class="hljs-property">end</span>;
                <span class="hljs-keyword">continue</span>;
            }
            <span class="hljs-keyword">if</span> (!isMap &amp;&amp; ctx.<span class="hljs-property">options</span>.<span class="hljs-property">strict</span> &amp;&amp; <span class="hljs-title function_">containsNewline</span>(key))
                <span class="hljs-title function_">onError</span>(key, <span class="hljs-comment">// checked by containsNewline()</span>
                <span class="hljs-string">&#x27;MULTILINE_IMPLICIT_KEY&#x27;</span>, <span class="hljs-string">&#x27;Implicit keys of flow sequence pairs need to be on a single line&#x27;</span>);
        }
        <span class="hljs-keyword">if</span> (i === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">if</span> (props.<span class="hljs-property">comma</span>)
                <span class="hljs-title function_">onError</span>(props.<span class="hljs-property">comma</span>, <span class="hljs-string">&#x27;UNEXPECTED_TOKEN&#x27;</span>, <span class="hljs-string">`Unexpected , in <span class="hljs-subst">${fcName}</span>`</span>);
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (!props.<span class="hljs-property">comma</span>)
                <span class="hljs-title function_">onError</span>(props.<span class="hljs-property">start</span>, <span class="hljs-string">&#x27;MISSING_CHAR&#x27;</span>, <span class="hljs-string">`Missing , between <span class="hljs-subst">${fcName}</span> items`</span>);
            <span class="hljs-keyword">if</span> (props.<span class="hljs-property">comment</span>) {
                <span class="hljs-keyword">let</span> prevItemComment = <span class="hljs-string">&#x27;&#x27;</span>;
                <span class="hljs-attr">loop</span>: <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> st <span class="hljs-keyword">of</span> start) {
                    <span class="hljs-keyword">switch</span> (st.<span class="hljs-property">type</span>) {
                        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;comma&#x27;</span>:
                        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;space&#x27;</span>:
                            <span class="hljs-keyword">break</span>;
                        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;comment&#x27;</span>:
                            prevItemComment = st.<span class="hljs-property">source</span>.<span class="hljs-title function_">substring</span>(<span class="hljs-number">1</span>);
                            <span class="hljs-keyword">break</span> loop;
                        <span class="hljs-attr">default</span>:
                            <span class="hljs-keyword">break</span> loop;
                    }
                }
                <span class="hljs-keyword">if</span> (prevItemComment) {
                    <span class="hljs-keyword">let</span> prev = coll.<span class="hljs-property">items</span>[coll.<span class="hljs-property">items</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>];
                    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isPair</span>(prev))
                        prev = prev.<span class="hljs-property">value</span> ?? prev.<span class="hljs-property">key</span>;
                    <span class="hljs-keyword">if</span> (prev.<span class="hljs-property">comment</span>)
                        prev.<span class="hljs-property">comment</span> += <span class="hljs-string">&#x27;\n&#x27;</span> + prevItemComment;
                    <span class="hljs-keyword">else</span>
                        prev.<span class="hljs-property">comment</span> = prevItemComment;
                    props.<span class="hljs-property">comment</span> = props.<span class="hljs-property">comment</span>.<span class="hljs-title function_">substring</span>(prevItemComment.<span class="hljs-property">length</span> + <span class="hljs-number">1</span>);
                }
            }
        }
        <span class="hljs-keyword">if</span> (!isMap &amp;&amp; !sep &amp;&amp; !props.<span class="hljs-property">found</span>) {
            <span class="hljs-comment">// item is a value in a seq</span>
            <span class="hljs-comment">// → key &amp; sep are empty, start does not include ? or :</span>
            <span class="hljs-keyword">const</span> valueNode = value
                ? <span class="hljs-title function_">composeNode</span>(ctx, value, props, onError)
                : <span class="hljs-title function_">composeEmptyNode</span>(ctx, props.<span class="hljs-property">end</span>, sep, <span class="hljs-literal">null</span>, props, onError);
            coll.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>(valueNode);
            offset = valueNode.<span class="hljs-property">range</span>[<span class="hljs-number">2</span>];
            <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isBlock</span>(value))
                <span class="hljs-title function_">onError</span>(valueNode.<span class="hljs-property">range</span>, <span class="hljs-string">&#x27;BLOCK_IN_FLOW&#x27;</span>, blockMsg);
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// item is a key+value pair</span>
            <span class="hljs-comment">// key value</span>
            <span class="hljs-keyword">const</span> keyStart = props.<span class="hljs-property">end</span>;
            <span class="hljs-keyword">const</span> keyNode = key
                ? <span class="hljs-title function_">composeNode</span>(ctx, key, props, onError)
                : <span class="hljs-title function_">composeEmptyNode</span>(ctx, keyStart, start, <span class="hljs-literal">null</span>, props, onError);
            <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isBlock</span>(key))
                <span class="hljs-title function_">onError</span>(keyNode.<span class="hljs-property">range</span>, <span class="hljs-string">&#x27;BLOCK_IN_FLOW&#x27;</span>, blockMsg);
            <span class="hljs-comment">// value properties</span>
            <span class="hljs-keyword">const</span> valueProps = <span class="hljs-title function_">resolveProps</span>(sep ?? [], {
                <span class="hljs-attr">flow</span>: fcName,
                <span class="hljs-attr">indicator</span>: <span class="hljs-string">&#x27;map-value-ind&#x27;</span>,
                <span class="hljs-attr">next</span>: value,
                <span class="hljs-attr">offset</span>: keyNode.<span class="hljs-property">range</span>[<span class="hljs-number">2</span>],
                onError,
                <span class="hljs-attr">startOnNewline</span>: <span class="hljs-literal">false</span>
            });
            <span class="hljs-keyword">if</span> (valueProps.<span class="hljs-property">found</span>) {
                <span class="hljs-keyword">if</span> (!isMap &amp;&amp; !props.<span class="hljs-property">found</span> &amp;&amp; ctx.<span class="hljs-property">options</span>.<span class="hljs-property">strict</span>) {
                    <span class="hljs-keyword">if</span> (sep)
                        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> st <span class="hljs-keyword">of</span> sep) {
                            <span class="hljs-keyword">if</span> (st === valueProps.<span class="hljs-property">found</span>)
                                <span class="hljs-keyword">break</span>;
                            <span class="hljs-keyword">if</span> (st.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;newline&#x27;</span>) {
                                <span class="hljs-title function_">onError</span>(st, <span class="hljs-string">&#x27;MULTILINE_IMPLICIT_KEY&#x27;</span>, <span class="hljs-string">&#x27;Implicit keys of flow sequence pairs need to be on a single line&#x27;</span>);
                                <span class="hljs-keyword">break</span>;
                            }
                        }
                    <span class="hljs-keyword">if</span> (props.<span class="hljs-property">start</span> &lt; valueProps.<span class="hljs-property">found</span>.<span class="hljs-property">offset</span> - <span class="hljs-number">1024</span>)
                        <span class="hljs-title function_">onError</span>(valueProps.<span class="hljs-property">found</span>, <span class="hljs-string">&#x27;KEY_OVER_1024_CHARS&#x27;</span>, <span class="hljs-string">&#x27;The : indicator must be at most 1024 chars after the start of an implicit flow sequence key&#x27;</span>);
                }
            }
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (value) {
                <span class="hljs-keyword">if</span> (<span class="hljs-string">&#x27;source&#x27;</span> <span class="hljs-keyword">in</span> value &amp;&amp; value.<span class="hljs-property">source</span> &amp;&amp; value.<span class="hljs-property">source</span>[<span class="hljs-number">0</span>] === <span class="hljs-string">&#x27;:&#x27;</span>)
                    <span class="hljs-title function_">onError</span>(value, <span class="hljs-string">&#x27;MISSING_CHAR&#x27;</span>, <span class="hljs-string">`Missing space after : in <span class="hljs-subst">${fcName}</span>`</span>);
                <span class="hljs-keyword">else</span>
                    <span class="hljs-title function_">onError</span>(valueProps.<span class="hljs-property">start</span>, <span class="hljs-string">&#x27;MISSING_CHAR&#x27;</span>, <span class="hljs-string">`Missing , or : between <span class="hljs-subst">${fcName}</span> items`</span>);
            }
            <span class="hljs-comment">// value value</span>
            <span class="hljs-keyword">const</span> valueNode = value
                ? <span class="hljs-title function_">composeNode</span>(ctx, value, valueProps, onError)
                : valueProps.<span class="hljs-property">found</span>
                    ? <span class="hljs-title function_">composeEmptyNode</span>(ctx, valueProps.<span class="hljs-property">end</span>, sep, <span class="hljs-literal">null</span>, valueProps, onError)
                    : <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">if</span> (valueNode) {
                <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isBlock</span>(value))
                    <span class="hljs-title function_">onError</span>(valueNode.<span class="hljs-property">range</span>, <span class="hljs-string">&#x27;BLOCK_IN_FLOW&#x27;</span>, blockMsg);
            }
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (valueProps.<span class="hljs-property">comment</span>) {
                <span class="hljs-keyword">if</span> (keyNode.<span class="hljs-property">comment</span>)
                    keyNode.<span class="hljs-property">comment</span> += <span class="hljs-string">&#x27;\n&#x27;</span> + valueProps.<span class="hljs-property">comment</span>;
                <span class="hljs-keyword">else</span>
                    keyNode.<span class="hljs-property">comment</span> = valueProps.<span class="hljs-property">comment</span>;
            }
            <span class="hljs-keyword">const</span> pair = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Pair</span>(keyNode, valueNode);
            <span class="hljs-keyword">if</span> (ctx.<span class="hljs-property">options</span>.<span class="hljs-property">keepSourceTokens</span>)
                pair.<span class="hljs-property">srcToken</span> = collItem;
            <span class="hljs-keyword">if</span> (isMap) {
                <span class="hljs-keyword">const</span> map = coll;
                <span class="hljs-keyword">if</span> (<span class="hljs-title function_">mapIncludes</span>(ctx, map.<span class="hljs-property">items</span>, keyNode))
                    <span class="hljs-title function_">onError</span>(keyStart, <span class="hljs-string">&#x27;DUPLICATE_KEY&#x27;</span>, <span class="hljs-string">&#x27;Map keys must be unique&#x27;</span>);
                map.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>(pair);
            }
            <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">const</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">YAMLMap</span>(ctx.<span class="hljs-property">schema</span>);
                map.<span class="hljs-property">flow</span> = <span class="hljs-literal">true</span>;
                map.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>(pair);
                coll.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>(map);
            }
            offset = valueNode ? valueNode.<span class="hljs-property">range</span>[<span class="hljs-number">2</span>] : valueProps.<span class="hljs-property">end</span>;
        }
    }
    <span class="hljs-keyword">const</span> expectedEnd = isMap ? <span class="hljs-string">&#x27;}&#x27;</span> : <span class="hljs-string">&#x27;]&#x27;</span>;
    <span class="hljs-keyword">const</span> [ce, ...ee] = fc.<span class="hljs-property">end</span>;
    <span class="hljs-keyword">let</span> cePos = offset;
    <span class="hljs-keyword">if</span> (ce &amp;&amp; ce.<span class="hljs-property">source</span> === expectedEnd)
        cePos = ce.<span class="hljs-property">offset</span> + ce.<span class="hljs-property">source</span>.<span class="hljs-property">length</span>;
    <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">const</span> name = fcName[<span class="hljs-number">0</span>].<span class="hljs-title function_">toUpperCase</span>() + fcName.<span class="hljs-title function_">substring</span>(<span class="hljs-number">1</span>);
        <span class="hljs-keyword">const</span> msg = atRoot
            ? <span class="hljs-string">`<span class="hljs-subst">${name}</span> must end with a <span class="hljs-subst">${expectedEnd}</span>`</span>
            : <span class="hljs-string">`<span class="hljs-subst">${name}</span> in block collection must be sufficiently indented and end with a <span class="hljs-subst">${expectedEnd}</span>`</span>;
        <span class="hljs-title function_">onError</span>(offset, atRoot ? <span class="hljs-string">&#x27;MISSING_CHAR&#x27;</span> : <span class="hljs-string">&#x27;BAD_INDENT&#x27;</span>, msg);
        <span class="hljs-keyword">if</span> (ce &amp;&amp; ce.<span class="hljs-property">source</span>.<span class="hljs-property">length</span> !== <span class="hljs-number">1</span>)
            ee.<span class="hljs-title function_">unshift</span>(ce);
    }
    <span class="hljs-keyword">if</span> (ee.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">const</span> end = <span class="hljs-title function_">resolveEnd</span>(ee, cePos, ctx.<span class="hljs-property">options</span>.<span class="hljs-property">strict</span>, onError);
        <span class="hljs-keyword">if</span> (end.<span class="hljs-property">comment</span>) {
            <span class="hljs-keyword">if</span> (coll.<span class="hljs-property">comment</span>)
                coll.<span class="hljs-property">comment</span> += <span class="hljs-string">&#x27;\n&#x27;</span> + end.<span class="hljs-property">comment</span>;
            <span class="hljs-keyword">else</span>
                coll.<span class="hljs-property">comment</span> = end.<span class="hljs-property">comment</span>;
        }
        coll.<span class="hljs-property">range</span> = [fc.<span class="hljs-property">offset</span>, cePos, end.<span class="hljs-property">offset</span>];
    }
    <span class="hljs-keyword">else</span> {
        coll.<span class="hljs-property">range</span> = [fc.<span class="hljs-property">offset</span>, cePos, cePos];
    }
    <span class="hljs-keyword">return</span> coll;
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/compose/compose-collection.js</span>






<span class="hljs-keyword">function</span> <span class="hljs-title function_">composeCollection</span>(<span class="hljs-params">CN, ctx, token, tagToken, onError</span>) {
    <span class="hljs-keyword">let</span> coll;
    <span class="hljs-keyword">switch</span> (token.<span class="hljs-property">type</span>) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;block-map&#x27;</span>: {
            coll = <span class="hljs-title function_">resolveBlockMap</span>(<span class="hljs-variable constant_">CN</span>, ctx, token, onError);
            <span class="hljs-keyword">break</span>;
        }
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;block-seq&#x27;</span>: {
            coll = <span class="hljs-title function_">resolveBlockSeq</span>(<span class="hljs-variable constant_">CN</span>, ctx, token, onError);
            <span class="hljs-keyword">break</span>;
        }
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;flow-collection&#x27;</span>: {
            coll = <span class="hljs-title function_">resolveFlowCollection</span>(<span class="hljs-variable constant_">CN</span>, ctx, token, onError);
            <span class="hljs-keyword">break</span>;
        }
    }
    <span class="hljs-keyword">if</span> (!tagToken)
        <span class="hljs-keyword">return</span> coll;
    <span class="hljs-keyword">const</span> tagName = ctx.<span class="hljs-property">directives</span>.<span class="hljs-title function_">tagName</span>(tagToken.<span class="hljs-property">source</span>, <span class="hljs-function"><span class="hljs-params">msg</span> =&gt;</span> <span class="hljs-title function_">onError</span>(tagToken, <span class="hljs-string">&#x27;TAG_RESOLVE_FAILED&#x27;</span>, msg));
    <span class="hljs-keyword">if</span> (!tagName)
        <span class="hljs-keyword">return</span> coll;
    <span class="hljs-comment">// Cast needed due to: https://github.com/Microsoft/TypeScript/issues/3841</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title class_">Coll</span> = coll.<span class="hljs-property">constructor</span>;
    <span class="hljs-keyword">if</span> (tagName === <span class="hljs-string">&#x27;!&#x27;</span> || tagName === <span class="hljs-title class_">Coll</span>.<span class="hljs-property">tagName</span>) {
        coll.<span class="hljs-property">tag</span> = <span class="hljs-title class_">Coll</span>.<span class="hljs-property">tagName</span>;
        <span class="hljs-keyword">return</span> coll;
    }
    <span class="hljs-keyword">const</span> expType = <span class="hljs-title function_">isMap</span>(coll) ? <span class="hljs-string">&#x27;map&#x27;</span> : <span class="hljs-string">&#x27;seq&#x27;</span>;
    <span class="hljs-keyword">let</span> tag = ctx.<span class="hljs-property">schema</span>.<span class="hljs-property">tags</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">collection</span> === expType &amp;&amp; t.<span class="hljs-property">tag</span> === tagName);
    <span class="hljs-keyword">if</span> (!tag) {
        <span class="hljs-keyword">const</span> kt = ctx.<span class="hljs-property">schema</span>.<span class="hljs-property">knownTags</span>[tagName];
        <span class="hljs-keyword">if</span> (kt &amp;&amp; kt.<span class="hljs-property">collection</span> === expType) {
            ctx.<span class="hljs-property">schema</span>.<span class="hljs-property">tags</span>.<span class="hljs-title function_">push</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, kt, { <span class="hljs-attr">default</span>: <span class="hljs-literal">false</span> }));
            tag = kt;
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-title function_">onError</span>(tagToken, <span class="hljs-string">&#x27;TAG_RESOLVE_FAILED&#x27;</span>, <span class="hljs-string">`Unresolved tag: <span class="hljs-subst">${tagName}</span>`</span>, <span class="hljs-literal">true</span>);
            coll.<span class="hljs-property">tag</span> = tagName;
            <span class="hljs-keyword">return</span> coll;
        }
    }
    <span class="hljs-keyword">const</span> res = tag.<span class="hljs-title function_">resolve</span>(coll, <span class="hljs-function"><span class="hljs-params">msg</span> =&gt;</span> <span class="hljs-title function_">onError</span>(tagToken, <span class="hljs-string">&#x27;TAG_RESOLVE_FAILED&#x27;</span>, msg), ctx.<span class="hljs-property">options</span>);
    <span class="hljs-keyword">const</span> node = <span class="hljs-title function_">isNode</span>(res)
        ? res
        : <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scalar</span>(res);
    node.<span class="hljs-property">range</span> = coll.<span class="hljs-property">range</span>;
    node.<span class="hljs-property">tag</span> = tagName;
    <span class="hljs-keyword">if</span> (tag?.<span class="hljs-property">format</span>)
        node.<span class="hljs-property">format</span> = tag.<span class="hljs-property">format</span>;
    <span class="hljs-keyword">return</span> node;
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/compose/resolve-block-scalar.js</span>


<span class="hljs-keyword">function</span> <span class="hljs-title function_">resolve_block_scalar_resolveBlockScalar</span>(<span class="hljs-params">scalar, strict, onError</span>) {
    <span class="hljs-keyword">const</span> start = scalar.<span class="hljs-property">offset</span>;
    <span class="hljs-keyword">const</span> header = <span class="hljs-title function_">parseBlockScalarHeader</span>(scalar, strict, onError);
    <span class="hljs-keyword">if</span> (!header)
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">value</span>: <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-attr">type</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">comment</span>: <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-attr">range</span>: [start, start, start] };
    <span class="hljs-keyword">const</span> type = header.<span class="hljs-property">mode</span> === <span class="hljs-string">&#x27;&gt;&#x27;</span> ? <span class="hljs-title class_">Scalar</span>.<span class="hljs-property">BLOCK_FOLDED</span> : <span class="hljs-title class_">Scalar</span>.<span class="hljs-property">BLOCK_LITERAL</span>;
    <span class="hljs-keyword">const</span> lines = scalar.<span class="hljs-property">source</span> ? <span class="hljs-title function_">splitLines</span>(scalar.<span class="hljs-property">source</span>) : [];
    <span class="hljs-comment">// determine the end of content &amp; start of chomping</span>
    <span class="hljs-keyword">let</span> chompStart = lines.<span class="hljs-property">length</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = lines.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; --i) {
        <span class="hljs-keyword">const</span> content = lines[i][<span class="hljs-number">1</span>];
        <span class="hljs-keyword">if</span> (content === <span class="hljs-string">&#x27;&#x27;</span> || content === <span class="hljs-string">&#x27;\r&#x27;</span>)
            chompStart = i;
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">break</span>;
    }
    <span class="hljs-comment">// shortcut for empty contents</span>
    <span class="hljs-keyword">if</span> (chompStart === <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">const</span> value = header.<span class="hljs-property">chomp</span> === <span class="hljs-string">&#x27;+&#x27;</span> &amp;&amp; lines.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>
            ? <span class="hljs-string">&#x27;\n&#x27;</span>.<span class="hljs-title function_">repeat</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">1</span>, lines.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>))
            : <span class="hljs-string">&#x27;&#x27;</span>;
        <span class="hljs-keyword">let</span> end = start + header.<span class="hljs-property">length</span>;
        <span class="hljs-keyword">if</span> (scalar.<span class="hljs-property">source</span>)
            end += scalar.<span class="hljs-property">source</span>.<span class="hljs-property">length</span>;
        <span class="hljs-keyword">return</span> { value, type, <span class="hljs-attr">comment</span>: header.<span class="hljs-property">comment</span>, <span class="hljs-attr">range</span>: [start, end, end] };
    }
    <span class="hljs-comment">// find the indentation level to trim from start</span>
    <span class="hljs-keyword">let</span> trimIndent = scalar.<span class="hljs-property">indent</span> + header.<span class="hljs-property">indent</span>;
    <span class="hljs-keyword">let</span> offset = scalar.<span class="hljs-property">offset</span> + header.<span class="hljs-property">length</span>;
    <span class="hljs-keyword">let</span> contentStart = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; chompStart; ++i) {
        <span class="hljs-keyword">const</span> [indent, content] = lines[i];
        <span class="hljs-keyword">if</span> (content === <span class="hljs-string">&#x27;&#x27;</span> || content === <span class="hljs-string">&#x27;\r&#x27;</span>) {
            <span class="hljs-keyword">if</span> (header.<span class="hljs-property">indent</span> === <span class="hljs-number">0</span> &amp;&amp; indent.<span class="hljs-property">length</span> &gt; trimIndent)
                trimIndent = indent.<span class="hljs-property">length</span>;
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (indent.<span class="hljs-property">length</span> &lt; trimIndent) {
                <span class="hljs-keyword">const</span> message = <span class="hljs-string">&#x27;Block scalars with more-indented leading empty lines must use an explicit indentation indicator&#x27;</span>;
                <span class="hljs-title function_">onError</span>(offset + indent.<span class="hljs-property">length</span>, <span class="hljs-string">&#x27;MISSING_CHAR&#x27;</span>, message);
            }
            <span class="hljs-keyword">if</span> (header.<span class="hljs-property">indent</span> === <span class="hljs-number">0</span>)
                trimIndent = indent.<span class="hljs-property">length</span>;
            contentStart = i;
            <span class="hljs-keyword">break</span>;
        }
        offset += indent.<span class="hljs-property">length</span> + content.<span class="hljs-property">length</span> + <span class="hljs-number">1</span>;
    }
    <span class="hljs-comment">// include trailing more-indented empty lines in content</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = lines.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; i &gt;= chompStart; --i) {
        <span class="hljs-keyword">if</span> (lines[i][<span class="hljs-number">0</span>].<span class="hljs-property">length</span> &gt; trimIndent)
            chompStart = i + <span class="hljs-number">1</span>;
    }
    <span class="hljs-keyword">let</span> value = <span class="hljs-string">&#x27;&#x27;</span>;
    <span class="hljs-keyword">let</span> sep = <span class="hljs-string">&#x27;&#x27;</span>;
    <span class="hljs-keyword">let</span> prevMoreIndented = <span class="hljs-literal">false</span>;
    <span class="hljs-comment">// leading whitespace is kept intact</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; contentStart; ++i)
        value += lines[i][<span class="hljs-number">0</span>].<span class="hljs-title function_">slice</span>(trimIndent) + <span class="hljs-string">&#x27;\n&#x27;</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = contentStart; i &lt; chompStart; ++i) {
        <span class="hljs-keyword">let</span> [indent, content] = lines[i];
        offset += indent.<span class="hljs-property">length</span> + content.<span class="hljs-property">length</span> + <span class="hljs-number">1</span>;
        <span class="hljs-keyword">const</span> crlf = content[content.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>] === <span class="hljs-string">&#x27;\r&#x27;</span>;
        <span class="hljs-keyword">if</span> (crlf)
            content = content.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, -<span class="hljs-number">1</span>);
        <span class="hljs-comment">/* istanbul ignore if already caught in lexer */</span>
        <span class="hljs-keyword">if</span> (content &amp;&amp; indent.<span class="hljs-property">length</span> &lt; trimIndent) {
            <span class="hljs-keyword">const</span> src = header.<span class="hljs-property">indent</span>
                ? <span class="hljs-string">&#x27;explicit indentation indicator&#x27;</span>
                : <span class="hljs-string">&#x27;first line&#x27;</span>;
            <span class="hljs-keyword">const</span> message = <span class="hljs-string">`Block scalar lines must not be less indented than their <span class="hljs-subst">${src}</span>`</span>;
            <span class="hljs-title function_">onError</span>(offset - content.<span class="hljs-property">length</span> - (crlf ? <span class="hljs-number">2</span> : <span class="hljs-number">1</span>), <span class="hljs-string">&#x27;BAD_INDENT&#x27;</span>, message);
            indent = <span class="hljs-string">&#x27;&#x27;</span>;
        }
        <span class="hljs-keyword">if</span> (type === <span class="hljs-title class_">Scalar</span>.<span class="hljs-property">BLOCK_LITERAL</span>) {
            value += sep + indent.<span class="hljs-title function_">slice</span>(trimIndent) + content;
            sep = <span class="hljs-string">&#x27;\n&#x27;</span>;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (indent.<span class="hljs-property">length</span> &gt; trimIndent || content[<span class="hljs-number">0</span>] === <span class="hljs-string">&#x27;\t&#x27;</span>) {
            <span class="hljs-comment">// more-indented content within a folded block</span>
            <span class="hljs-keyword">if</span> (sep === <span class="hljs-string">&#x27; &#x27;</span>)
                sep = <span class="hljs-string">&#x27;\n&#x27;</span>;
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!prevMoreIndented &amp;&amp; sep === <span class="hljs-string">&#x27;\n&#x27;</span>)
                sep = <span class="hljs-string">&#x27;\n\n&#x27;</span>;
            value += sep + indent.<span class="hljs-title function_">slice</span>(trimIndent) + content;
            sep = <span class="hljs-string">&#x27;\n&#x27;</span>;
            prevMoreIndented = <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (content === <span class="hljs-string">&#x27;&#x27;</span>) {
            <span class="hljs-comment">// empty line</span>
            <span class="hljs-keyword">if</span> (sep === <span class="hljs-string">&#x27;\n&#x27;</span>)
                value += <span class="hljs-string">&#x27;\n&#x27;</span>;
            <span class="hljs-keyword">else</span>
                sep = <span class="hljs-string">&#x27;\n&#x27;</span>;
        }
        <span class="hljs-keyword">else</span> {
            value += sep + content;
            sep = <span class="hljs-string">&#x27; &#x27;</span>;
            prevMoreIndented = <span class="hljs-literal">false</span>;
        }
    }
    <span class="hljs-keyword">switch</span> (header.<span class="hljs-property">chomp</span>) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;-&#x27;</span>:
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;+&#x27;</span>:
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = chompStart; i &lt; lines.<span class="hljs-property">length</span>; ++i)
                value += <span class="hljs-string">&#x27;\n&#x27;</span> + lines[i][<span class="hljs-number">0</span>].<span class="hljs-title function_">slice</span>(trimIndent);
            <span class="hljs-keyword">if</span> (value[value.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>] !== <span class="hljs-string">&#x27;\n&#x27;</span>)
                value += <span class="hljs-string">&#x27;\n&#x27;</span>;
            <span class="hljs-keyword">break</span>;
        <span class="hljs-attr">default</span>:
            value += <span class="hljs-string">&#x27;\n&#x27;</span>;
    }
    <span class="hljs-keyword">const</span> end = start + header.<span class="hljs-property">length</span> + scalar.<span class="hljs-property">source</span>.<span class="hljs-property">length</span>;
    <span class="hljs-keyword">return</span> { value, type, <span class="hljs-attr">comment</span>: header.<span class="hljs-property">comment</span>, <span class="hljs-attr">range</span>: [start, end, end] };
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">parseBlockScalarHeader</span>(<span class="hljs-params">{ offset, props }, strict, onError</span>) {
    <span class="hljs-comment">/* istanbul ignore if should not happen */</span>
    <span class="hljs-keyword">if</span> (props[<span class="hljs-number">0</span>].<span class="hljs-property">type</span> !== <span class="hljs-string">&#x27;block-scalar-header&#x27;</span>) {
        <span class="hljs-title function_">onError</span>(props[<span class="hljs-number">0</span>], <span class="hljs-string">&#x27;IMPOSSIBLE&#x27;</span>, <span class="hljs-string">&#x27;Block scalar header not found&#x27;</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
    <span class="hljs-keyword">const</span> { source } = props[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">const</span> mode = source[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">let</span> indent = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">let</span> chomp = <span class="hljs-string">&#x27;&#x27;</span>;
    <span class="hljs-keyword">let</span> error = -<span class="hljs-number">1</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; source.<span class="hljs-property">length</span>; ++i) {
        <span class="hljs-keyword">const</span> ch = source[i];
        <span class="hljs-keyword">if</span> (!chomp &amp;&amp; (ch === <span class="hljs-string">&#x27;-&#x27;</span> || ch === <span class="hljs-string">&#x27;+&#x27;</span>))
            chomp = ch;
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">const</span> n = <span class="hljs-title class_">Number</span>(ch);
            <span class="hljs-keyword">if</span> (!indent &amp;&amp; n)
                indent = n;
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (error === -<span class="hljs-number">1</span>)
                error = offset + i;
        }
    }
    <span class="hljs-keyword">if</span> (error !== -<span class="hljs-number">1</span>)
        <span class="hljs-title function_">onError</span>(error, <span class="hljs-string">&#x27;UNEXPECTED_TOKEN&#x27;</span>, <span class="hljs-string">`Block scalar header includes extra characters: <span class="hljs-subst">${source}</span>`</span>);
    <span class="hljs-keyword">let</span> hasSpace = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">let</span> comment = <span class="hljs-string">&#x27;&#x27;</span>;
    <span class="hljs-keyword">let</span> length = source.<span class="hljs-property">length</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; props.<span class="hljs-property">length</span>; ++i) {
        <span class="hljs-keyword">const</span> token = props[i];
        <span class="hljs-keyword">switch</span> (token.<span class="hljs-property">type</span>) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;space&#x27;</span>:
                hasSpace = <span class="hljs-literal">true</span>;
            <span class="hljs-comment">// fallthrough</span>
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;newline&#x27;</span>:
                length += token.<span class="hljs-property">source</span>.<span class="hljs-property">length</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;comment&#x27;</span>:
                <span class="hljs-keyword">if</span> (strict &amp;&amp; !hasSpace) {
                    <span class="hljs-keyword">const</span> message = <span class="hljs-string">&#x27;Comments must be separated from other tokens by white space characters&#x27;</span>;
                    <span class="hljs-title function_">onError</span>(token, <span class="hljs-string">&#x27;MISSING_CHAR&#x27;</span>, message);
                }
                length += token.<span class="hljs-property">source</span>.<span class="hljs-property">length</span>;
                comment = token.<span class="hljs-property">source</span>.<span class="hljs-title function_">substring</span>(<span class="hljs-number">1</span>);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;error&#x27;</span>:
                <span class="hljs-title function_">onError</span>(token, <span class="hljs-string">&#x27;UNEXPECTED_TOKEN&#x27;</span>, token.<span class="hljs-property">message</span>);
                length += token.<span class="hljs-property">source</span>.<span class="hljs-property">length</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-comment">/* istanbul ignore next should not happen */</span>
            <span class="hljs-attr">default</span>: {
                <span class="hljs-keyword">const</span> message = <span class="hljs-string">`Unexpected token in block scalar header: <span class="hljs-subst">${token.type}</span>`</span>;
                <span class="hljs-title function_">onError</span>(token, <span class="hljs-string">&#x27;UNEXPECTED_TOKEN&#x27;</span>, message);
                <span class="hljs-keyword">const</span> ts = token.<span class="hljs-property">source</span>;
                <span class="hljs-keyword">if</span> (ts &amp;&amp; <span class="hljs-keyword">typeof</span> ts === <span class="hljs-string">&#x27;string&#x27;</span>)
                    length += ts.<span class="hljs-property">length</span>;
            }
        }
    }
    <span class="hljs-keyword">return</span> { mode, indent, chomp, comment, length };
}
<span class="hljs-comment">/** <span class="hljs-doctag">@returns</span> Array of lines split up as `[indent, content]` */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">splitLines</span>(<span class="hljs-params">source</span>) {
    <span class="hljs-keyword">const</span> split = source.<span class="hljs-title function_">split</span>(<span class="hljs-regexp">/\n( *)/</span>);
    <span class="hljs-keyword">const</span> first = split[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">const</span> m = first.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/^( *)/</span>);
    <span class="hljs-keyword">const</span> line0 = m?.[<span class="hljs-number">1</span>]
        ? [m[<span class="hljs-number">1</span>], first.<span class="hljs-title function_">slice</span>(m[<span class="hljs-number">1</span>].<span class="hljs-property">length</span>)]
        : [<span class="hljs-string">&#x27;&#x27;</span>, first];
    <span class="hljs-keyword">const</span> lines = [line0];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; split.<span class="hljs-property">length</span>; i += <span class="hljs-number">2</span>)
        lines.<span class="hljs-title function_">push</span>([split[i], split[i + <span class="hljs-number">1</span>]]);
    <span class="hljs-keyword">return</span> lines;
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/compose/resolve-flow-scalar.js</span>



<span class="hljs-keyword">function</span> <span class="hljs-title function_">resolve_flow_scalar_resolveFlowScalar</span>(<span class="hljs-params">scalar, strict, onError</span>) {
    <span class="hljs-keyword">const</span> { offset, type, source, end } = scalar;
    <span class="hljs-keyword">let</span> _type;
    <span class="hljs-keyword">let</span> value;
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">_onError</span> = (<span class="hljs-params">rel, code, msg</span>) =&gt; <span class="hljs-title function_">onError</span>(offset + rel, code, msg);
    <span class="hljs-keyword">switch</span> (type) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;scalar&#x27;</span>:
            _type = <span class="hljs-title class_">Scalar</span>.<span class="hljs-property">PLAIN</span>;
            value = <span class="hljs-title function_">plainValue</span>(source, _onError);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;single-quoted-scalar&#x27;</span>:
            _type = <span class="hljs-title class_">Scalar</span>.<span class="hljs-property">QUOTE_SINGLE</span>;
            value = <span class="hljs-title function_">singleQuotedValue</span>(source, _onError);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;double-quoted-scalar&#x27;</span>:
            _type = <span class="hljs-title class_">Scalar</span>.<span class="hljs-property">QUOTE_DOUBLE</span>;
            value = <span class="hljs-title function_">doubleQuotedValue</span>(source, _onError);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-comment">/* istanbul ignore next should not happen */</span>
        <span class="hljs-attr">default</span>:
            <span class="hljs-title function_">onError</span>(scalar, <span class="hljs-string">&#x27;UNEXPECTED_TOKEN&#x27;</span>, <span class="hljs-string">`Expected a flow scalar value, but found: <span class="hljs-subst">${type}</span>`</span>);
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">value</span>: <span class="hljs-string">&#x27;&#x27;</span>,
                <span class="hljs-attr">type</span>: <span class="hljs-literal">null</span>,
                <span class="hljs-attr">comment</span>: <span class="hljs-string">&#x27;&#x27;</span>,
                <span class="hljs-attr">range</span>: [offset, offset + source.<span class="hljs-property">length</span>, offset + source.<span class="hljs-property">length</span>]
            };
    }
    <span class="hljs-keyword">const</span> valueEnd = offset + source.<span class="hljs-property">length</span>;
    <span class="hljs-keyword">const</span> re = <span class="hljs-title function_">resolveEnd</span>(end, valueEnd, strict, onError);
    <span class="hljs-keyword">return</span> {
        value,
        <span class="hljs-attr">type</span>: _type,
        <span class="hljs-attr">comment</span>: re.<span class="hljs-property">comment</span>,
        <span class="hljs-attr">range</span>: [offset, valueEnd, re.<span class="hljs-property">offset</span>]
    };
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">plainValue</span>(<span class="hljs-params">source, onError</span>) {
    <span class="hljs-keyword">let</span> badChar = <span class="hljs-string">&#x27;&#x27;</span>;
    <span class="hljs-keyword">switch</span> (source[<span class="hljs-number">0</span>]) {
        <span class="hljs-comment">/* istanbul ignore next should not happen */</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;\t&#x27;</span>:
            badChar = <span class="hljs-string">&#x27;a tab character&#x27;</span>;
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;,&#x27;</span>:
            badChar = <span class="hljs-string">&#x27;flow indicator character ,&#x27;</span>;
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;%&#x27;</span>:
            badChar = <span class="hljs-string">&#x27;directive indicator character %&#x27;</span>;
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;|&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;&gt;&#x27;</span>: {
            badChar = <span class="hljs-string">`block scalar indicator <span class="hljs-subst">${source[<span class="hljs-number">0</span>]}</span>`</span>;
            <span class="hljs-keyword">break</span>;
        }
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;@&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;`&#x27;</span>: {
            badChar = <span class="hljs-string">`reserved character <span class="hljs-subst">${source[<span class="hljs-number">0</span>]}</span>`</span>;
            <span class="hljs-keyword">break</span>;
        }
    }
    <span class="hljs-keyword">if</span> (badChar)
        <span class="hljs-title function_">onError</span>(<span class="hljs-number">0</span>, <span class="hljs-string">&#x27;BAD_SCALAR_START&#x27;</span>, <span class="hljs-string">`Plain value cannot start with <span class="hljs-subst">${badChar}</span>`</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">foldLines</span>(source);
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">singleQuotedValue</span>(<span class="hljs-params">source, onError</span>) {
    <span class="hljs-keyword">if</span> (source[source.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>] !== <span class="hljs-string">&quot;&#x27;&quot;</span> || source.<span class="hljs-property">length</span> === <span class="hljs-number">1</span>)
        <span class="hljs-title function_">onError</span>(source.<span class="hljs-property">length</span>, <span class="hljs-string">&#x27;MISSING_CHAR&#x27;</span>, <span class="hljs-string">&quot;Missing closing &#x27;quote&quot;</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">foldLines</span>(source.<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>)).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/&#x27;&#x27;/g</span>, <span class="hljs-string">&quot;&#x27;&quot;</span>);
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">foldLines</span>(<span class="hljs-params">source</span>) {
    <span class="hljs-comment">/**
     * The negative lookbehind here and in the `re` RegExp is to
     * prevent causing a polynomial search time in certain cases.
     *
     * The try-catch is for Safari, which doesn&#x27;t support this yet:
     * https://caniuse.com/js-regexp-lookbehind
     */</span>
    <span class="hljs-keyword">let</span> first, line;
    <span class="hljs-keyword">try</span> {
        first = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">&#x27;(.*?)(?&lt;![ \t])[ \t]*\r?\n&#x27;</span>, <span class="hljs-string">&#x27;sy&#x27;</span>);
        line = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">&#x27;[ \t]*(.*?)(?:(?&lt;![ \t])[ \t]*)?\r?\n&#x27;</span>, <span class="hljs-string">&#x27;sy&#x27;</span>);
    }
    <span class="hljs-keyword">catch</span> (_) {
        first = <span class="hljs-regexp">/(.*?)[ \t]*\r?\n/</span>sy;
        line = <span class="hljs-regexp">/[ \t]*(.*?)[ \t]*\r?\n/</span>sy;
    }
    <span class="hljs-keyword">let</span> match = first.<span class="hljs-title function_">exec</span>(source);
    <span class="hljs-keyword">if</span> (!match)
        <span class="hljs-keyword">return</span> source;
    <span class="hljs-keyword">let</span> res = match[<span class="hljs-number">1</span>];
    <span class="hljs-keyword">let</span> sep = <span class="hljs-string">&#x27; &#x27;</span>;
    <span class="hljs-keyword">let</span> pos = first.<span class="hljs-property">lastIndex</span>;
    line.<span class="hljs-property">lastIndex</span> = pos;
    <span class="hljs-keyword">while</span> ((match = line.<span class="hljs-title function_">exec</span>(source))) {
        <span class="hljs-keyword">if</span> (match[<span class="hljs-number">1</span>] === <span class="hljs-string">&#x27;&#x27;</span>) {
            <span class="hljs-keyword">if</span> (sep === <span class="hljs-string">&#x27;\n&#x27;</span>)
                res += sep;
            <span class="hljs-keyword">else</span>
                sep = <span class="hljs-string">&#x27;\n&#x27;</span>;
        }
        <span class="hljs-keyword">else</span> {
            res += sep + match[<span class="hljs-number">1</span>];
            sep = <span class="hljs-string">&#x27; &#x27;</span>;
        }
        pos = line.<span class="hljs-property">lastIndex</span>;
    }
    <span class="hljs-keyword">const</span> last = <span class="hljs-regexp">/[ \t]*(.*)/</span>sy;
    last.<span class="hljs-property">lastIndex</span> = pos;
    match = last.<span class="hljs-title function_">exec</span>(source);
    <span class="hljs-keyword">return</span> res + sep + (match?.[<span class="hljs-number">1</span>] ?? <span class="hljs-string">&#x27;&#x27;</span>);
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">doubleQuotedValue</span>(<span class="hljs-params">source, onError</span>) {
    <span class="hljs-keyword">let</span> res = <span class="hljs-string">&#x27;&#x27;</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; source.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; ++i) {
        <span class="hljs-keyword">const</span> ch = source[i];
        <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">&#x27;\r&#x27;</span> &amp;&amp; source[i + <span class="hljs-number">1</span>] === <span class="hljs-string">&#x27;\n&#x27;</span>)
            <span class="hljs-keyword">continue</span>;
        <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">&#x27;\n&#x27;</span>) {
            <span class="hljs-keyword">const</span> { fold, offset } = <span class="hljs-title function_">foldNewline</span>(source, i);
            res += fold;
            i = offset;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">&#x27;\\&#x27;</span>) {
            <span class="hljs-keyword">let</span> next = source[++i];
            <span class="hljs-keyword">const</span> cc = escapeCodes[next];
            <span class="hljs-keyword">if</span> (cc)
                res += cc;
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (next === <span class="hljs-string">&#x27;\n&#x27;</span>) {
                <span class="hljs-comment">// skip escaped newlines, but still trim the following line</span>
                next = source[i + <span class="hljs-number">1</span>];
                <span class="hljs-keyword">while</span> (next === <span class="hljs-string">&#x27; &#x27;</span> || next === <span class="hljs-string">&#x27;\t&#x27;</span>)
                    next = source[++i + <span class="hljs-number">1</span>];
            }
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (next === <span class="hljs-string">&#x27;\r&#x27;</span> &amp;&amp; source[i + <span class="hljs-number">1</span>] === <span class="hljs-string">&#x27;\n&#x27;</span>) {
                <span class="hljs-comment">// skip escaped CRLF newlines, but still trim the following line</span>
                next = source[++i + <span class="hljs-number">1</span>];
                <span class="hljs-keyword">while</span> (next === <span class="hljs-string">&#x27; &#x27;</span> || next === <span class="hljs-string">&#x27;\t&#x27;</span>)
                    next = source[++i + <span class="hljs-number">1</span>];
            }
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (next === <span class="hljs-string">&#x27;x&#x27;</span> || next === <span class="hljs-string">&#x27;u&#x27;</span> || next === <span class="hljs-string">&#x27;U&#x27;</span>) {
                <span class="hljs-keyword">const</span> length = { <span class="hljs-attr">x</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">u</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">U</span>: <span class="hljs-number">8</span> }[next];
                res += <span class="hljs-title function_">parseCharCode</span>(source, i + <span class="hljs-number">1</span>, length, onError);
                i += length;
            }
            <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">const</span> raw = source.<span class="hljs-title function_">substr</span>(i - <span class="hljs-number">1</span>, <span class="hljs-number">2</span>);
                <span class="hljs-title function_">onError</span>(i - <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;BAD_DQ_ESCAPE&#x27;</span>, <span class="hljs-string">`Invalid escape sequence <span class="hljs-subst">${raw}</span>`</span>);
                res += raw;
            }
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">&#x27; &#x27;</span> || ch === <span class="hljs-string">&#x27;\t&#x27;</span>) {
            <span class="hljs-comment">// trim trailing whitespace</span>
            <span class="hljs-keyword">const</span> wsStart = i;
            <span class="hljs-keyword">let</span> next = source[i + <span class="hljs-number">1</span>];
            <span class="hljs-keyword">while</span> (next === <span class="hljs-string">&#x27; &#x27;</span> || next === <span class="hljs-string">&#x27;\t&#x27;</span>)
                next = source[++i + <span class="hljs-number">1</span>];
            <span class="hljs-keyword">if</span> (next !== <span class="hljs-string">&#x27;\n&#x27;</span> &amp;&amp; !(next === <span class="hljs-string">&#x27;\r&#x27;</span> &amp;&amp; source[i + <span class="hljs-number">2</span>] === <span class="hljs-string">&#x27;\n&#x27;</span>))
                res += i &gt; wsStart ? source.<span class="hljs-title function_">slice</span>(wsStart, i + <span class="hljs-number">1</span>) : ch;
        }
        <span class="hljs-keyword">else</span> {
            res += ch;
        }
    }
    <span class="hljs-keyword">if</span> (source[source.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>] !== <span class="hljs-string">&#x27;&quot;&#x27;</span> || source.<span class="hljs-property">length</span> === <span class="hljs-number">1</span>)
        <span class="hljs-title function_">onError</span>(source.<span class="hljs-property">length</span>, <span class="hljs-string">&#x27;MISSING_CHAR&#x27;</span>, <span class="hljs-string">&#x27;Missing closing &quot;quote&#x27;</span>);
    <span class="hljs-keyword">return</span> res;
}
<span class="hljs-comment">/**
 * Fold a single newline into a space, multiple newlines to N - 1 newlines.
 * Presumes `source[offset] === &#x27;\n&#x27;`
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">foldNewline</span>(<span class="hljs-params">source, offset</span>) {
    <span class="hljs-keyword">let</span> fold = <span class="hljs-string">&#x27;&#x27;</span>;
    <span class="hljs-keyword">let</span> ch = source[offset + <span class="hljs-number">1</span>];
    <span class="hljs-keyword">while</span> (ch === <span class="hljs-string">&#x27; &#x27;</span> || ch === <span class="hljs-string">&#x27;\t&#x27;</span> || ch === <span class="hljs-string">&#x27;\n&#x27;</span> || ch === <span class="hljs-string">&#x27;\r&#x27;</span>) {
        <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">&#x27;\r&#x27;</span> &amp;&amp; source[offset + <span class="hljs-number">2</span>] !== <span class="hljs-string">&#x27;\n&#x27;</span>)
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">&#x27;\n&#x27;</span>)
            fold += <span class="hljs-string">&#x27;\n&#x27;</span>;
        offset += <span class="hljs-number">1</span>;
        ch = source[offset + <span class="hljs-number">1</span>];
    }
    <span class="hljs-keyword">if</span> (!fold)
        fold = <span class="hljs-string">&#x27; &#x27;</span>;
    <span class="hljs-keyword">return</span> { fold, offset };
}
<span class="hljs-keyword">const</span> escapeCodes = {
    <span class="hljs-string">&#x27;0&#x27;</span>: <span class="hljs-string">&#x27;\0&#x27;</span>,
    <span class="hljs-attr">a</span>: <span class="hljs-string">&#x27;\x07&#x27;</span>,
    <span class="hljs-attr">b</span>: <span class="hljs-string">&#x27;\b&#x27;</span>,
    <span class="hljs-attr">e</span>: <span class="hljs-string">&#x27;\x1b&#x27;</span>,
    <span class="hljs-attr">f</span>: <span class="hljs-string">&#x27;\f&#x27;</span>,
    <span class="hljs-attr">n</span>: <span class="hljs-string">&#x27;\n&#x27;</span>,
    <span class="hljs-attr">r</span>: <span class="hljs-string">&#x27;\r&#x27;</span>,
    <span class="hljs-attr">t</span>: <span class="hljs-string">&#x27;\t&#x27;</span>,
    <span class="hljs-attr">v</span>: <span class="hljs-string">&#x27;\v&#x27;</span>,
    <span class="hljs-attr">N</span>: <span class="hljs-string">&#x27;\u0085&#x27;</span>,
    <span class="hljs-attr">_</span>: <span class="hljs-string">&#x27;\u00a0&#x27;</span>,
    <span class="hljs-attr">L</span>: <span class="hljs-string">&#x27;\u2028&#x27;</span>,
    <span class="hljs-attr">P</span>: <span class="hljs-string">&#x27;\u2029&#x27;</span>,
    <span class="hljs-string">&#x27; &#x27;</span>: <span class="hljs-string">&#x27; &#x27;</span>,
    <span class="hljs-string">&#x27;&quot;&#x27;</span>: <span class="hljs-string">&#x27;&quot;&#x27;</span>,
    <span class="hljs-string">&#x27;/&#x27;</span>: <span class="hljs-string">&#x27;/&#x27;</span>,
    <span class="hljs-string">&#x27;\\&#x27;</span>: <span class="hljs-string">&#x27;\\&#x27;</span>,
    <span class="hljs-string">&#x27;\t&#x27;</span>: <span class="hljs-string">&#x27;\t&#x27;</span>
};
<span class="hljs-keyword">function</span> <span class="hljs-title function_">parseCharCode</span>(<span class="hljs-params">source, offset, length, onError</span>) {
    <span class="hljs-keyword">const</span> cc = source.<span class="hljs-title function_">substr</span>(offset, length);
    <span class="hljs-keyword">const</span> ok = cc.<span class="hljs-property">length</span> === length &amp;&amp; <span class="hljs-regexp">/^[0-9a-fA-F]+$/</span>.<span class="hljs-title function_">test</span>(cc);
    <span class="hljs-keyword">const</span> code = ok ? <span class="hljs-built_in">parseInt</span>(cc, <span class="hljs-number">16</span>) : <span class="hljs-title class_">NaN</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isNaN</span>(code)) {
        <span class="hljs-keyword">const</span> raw = source.<span class="hljs-title function_">substr</span>(offset - <span class="hljs-number">2</span>, length + <span class="hljs-number">2</span>);
        <span class="hljs-title function_">onError</span>(offset - <span class="hljs-number">2</span>, <span class="hljs-string">&#x27;BAD_DQ_ESCAPE&#x27;</span>, <span class="hljs-string">`Invalid escape sequence <span class="hljs-subst">${raw}</span>`</span>);
        <span class="hljs-keyword">return</span> raw;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">String</span>.<span class="hljs-title function_">fromCodePoint</span>(code);
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/compose/compose-scalar.js</span>





<span class="hljs-keyword">function</span> <span class="hljs-title function_">composeScalar</span>(<span class="hljs-params">ctx, token, tagToken, onError</span>) {
    <span class="hljs-keyword">const</span> { value, type, comment, range } = token.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;block-scalar&#x27;</span>
        ? <span class="hljs-title function_">resolve_block_scalar_resolveBlockScalar</span>(token, ctx.<span class="hljs-property">options</span>.<span class="hljs-property">strict</span>, onError)
        : <span class="hljs-title function_">resolve_flow_scalar_resolveFlowScalar</span>(token, ctx.<span class="hljs-property">options</span>.<span class="hljs-property">strict</span>, onError);
    <span class="hljs-keyword">const</span> tagName = tagToken
        ? ctx.<span class="hljs-property">directives</span>.<span class="hljs-title function_">tagName</span>(tagToken.<span class="hljs-property">source</span>, <span class="hljs-function"><span class="hljs-params">msg</span> =&gt;</span> <span class="hljs-title function_">onError</span>(tagToken, <span class="hljs-string">&#x27;TAG_RESOLVE_FAILED&#x27;</span>, msg))
        : <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">const</span> tag = tagToken &amp;&amp; tagName
        ? <span class="hljs-title function_">findScalarTagByName</span>(ctx.<span class="hljs-property">schema</span>, value, tagName, tagToken, onError)
        : token.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;scalar&#x27;</span>
            ? <span class="hljs-title function_">findScalarTagByTest</span>(ctx, value, token, onError)
            : ctx.<span class="hljs-property">schema</span>[<span class="hljs-variable constant_">SCALAR</span>];
    <span class="hljs-keyword">let</span> scalar;
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> res = tag.<span class="hljs-title function_">resolve</span>(value, <span class="hljs-function"><span class="hljs-params">msg</span> =&gt;</span> <span class="hljs-title function_">onError</span>(tagToken ?? token, <span class="hljs-string">&#x27;TAG_RESOLVE_FAILED&#x27;</span>, msg), ctx.<span class="hljs-property">options</span>);
        scalar = <span class="hljs-title function_">isScalar</span>(res) ? res : <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scalar</span>(res);
    }
    <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-keyword">const</span> msg = error <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Error</span> ? error.<span class="hljs-property">message</span> : <span class="hljs-title class_">String</span>(error);
        <span class="hljs-title function_">onError</span>(tagToken ?? token, <span class="hljs-string">&#x27;TAG_RESOLVE_FAILED&#x27;</span>, msg);
        scalar = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scalar</span>(value);
    }
    scalar.<span class="hljs-property">range</span> = range;
    scalar.<span class="hljs-property">source</span> = value;
    <span class="hljs-keyword">if</span> (type)
        scalar.<span class="hljs-property">type</span> = type;
    <span class="hljs-keyword">if</span> (tagName)
        scalar.<span class="hljs-property">tag</span> = tagName;
    <span class="hljs-keyword">if</span> (tag.<span class="hljs-property">format</span>)
        scalar.<span class="hljs-property">format</span> = tag.<span class="hljs-property">format</span>;
    <span class="hljs-keyword">if</span> (comment)
        scalar.<span class="hljs-property">comment</span> = comment;
    <span class="hljs-keyword">return</span> scalar;
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">findScalarTagByName</span>(<span class="hljs-params">schema, value, tagName, tagToken, onError</span>) {
    <span class="hljs-keyword">if</span> (tagName === <span class="hljs-string">&#x27;!&#x27;</span>)
        <span class="hljs-keyword">return</span> schema[<span class="hljs-variable constant_">SCALAR</span>]; <span class="hljs-comment">// non-specific tag</span>
    <span class="hljs-keyword">const</span> matchWithTest = [];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> tag <span class="hljs-keyword">of</span> schema.<span class="hljs-property">tags</span>) {
        <span class="hljs-keyword">if</span> (!tag.<span class="hljs-property">collection</span> &amp;&amp; tag.<span class="hljs-property">tag</span> === tagName) {
            <span class="hljs-keyword">if</span> (tag.<span class="hljs-property">default</span> &amp;&amp; tag.<span class="hljs-property">test</span>)
                matchWithTest.<span class="hljs-title function_">push</span>(tag);
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">return</span> tag;
        }
    }
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> tag <span class="hljs-keyword">of</span> matchWithTest)
        <span class="hljs-keyword">if</span> (tag.<span class="hljs-property">test</span>?.<span class="hljs-title function_">test</span>(value))
            <span class="hljs-keyword">return</span> tag;
    <span class="hljs-keyword">const</span> kt = schema.<span class="hljs-property">knownTags</span>[tagName];
    <span class="hljs-keyword">if</span> (kt &amp;&amp; !kt.<span class="hljs-property">collection</span>) {
        <span class="hljs-comment">// Ensure that the known tag is available for stringifying,</span>
        <span class="hljs-comment">// but does not get used by default.</span>
        schema.<span class="hljs-property">tags</span>.<span class="hljs-title function_">push</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, kt, { <span class="hljs-attr">default</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">test</span>: <span class="hljs-literal">undefined</span> }));
        <span class="hljs-keyword">return</span> kt;
    }
    <span class="hljs-title function_">onError</span>(tagToken, <span class="hljs-string">&#x27;TAG_RESOLVE_FAILED&#x27;</span>, <span class="hljs-string">`Unresolved tag: <span class="hljs-subst">${tagName}</span>`</span>, tagName !== <span class="hljs-string">&#x27;tag:yaml.org,2002:str&#x27;</span>);
    <span class="hljs-keyword">return</span> schema[<span class="hljs-variable constant_">SCALAR</span>];
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">findScalarTagByTest</span>(<span class="hljs-params">{ directives, schema }, value, token, onError</span>) {
    <span class="hljs-keyword">const</span> tag = schema.<span class="hljs-property">tags</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">tag</span> =&gt;</span> tag.<span class="hljs-property">default</span> &amp;&amp; tag.<span class="hljs-property">test</span>?.<span class="hljs-title function_">test</span>(value)) || schema[<span class="hljs-variable constant_">SCALAR</span>];
    <span class="hljs-keyword">if</span> (schema.<span class="hljs-property">compat</span>) {
        <span class="hljs-keyword">const</span> compat = schema.<span class="hljs-property">compat</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">tag</span> =&gt;</span> tag.<span class="hljs-property">default</span> &amp;&amp; tag.<span class="hljs-property">test</span>?.<span class="hljs-title function_">test</span>(value)) ??
            schema[<span class="hljs-variable constant_">SCALAR</span>];
        <span class="hljs-keyword">if</span> (tag.<span class="hljs-property">tag</span> !== compat.<span class="hljs-property">tag</span>) {
            <span class="hljs-keyword">const</span> ts = directives.<span class="hljs-title function_">tagString</span>(tag.<span class="hljs-property">tag</span>);
            <span class="hljs-keyword">const</span> cs = directives.<span class="hljs-title function_">tagString</span>(compat.<span class="hljs-property">tag</span>);
            <span class="hljs-keyword">const</span> msg = <span class="hljs-string">`Value may be parsed as either <span class="hljs-subst">${ts}</span> or <span class="hljs-subst">${cs}</span>`</span>;
            <span class="hljs-title function_">onError</span>(token, <span class="hljs-string">&#x27;TAG_RESOLVE_FAILED&#x27;</span>, msg, <span class="hljs-literal">true</span>);
        }
    }
    <span class="hljs-keyword">return</span> tag;
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/compose/util-empty-scalar-position.js</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">emptyScalarPosition</span>(<span class="hljs-params">offset, before, pos</span>) {
    <span class="hljs-keyword">if</span> (before) {
        <span class="hljs-keyword">if</span> (pos === <span class="hljs-literal">null</span>)
            pos = before.<span class="hljs-property">length</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = pos - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; --i) {
            <span class="hljs-keyword">let</span> st = before[i];
            <span class="hljs-keyword">switch</span> (st.<span class="hljs-property">type</span>) {
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;space&#x27;</span>:
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;comment&#x27;</span>:
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;newline&#x27;</span>:
                    offset -= st.<span class="hljs-property">source</span>.<span class="hljs-property">length</span>;
                    <span class="hljs-keyword">continue</span>;
            }
            <span class="hljs-comment">// Technically, an empty scalar is immediately after the last non-empty</span>
            <span class="hljs-comment">// node, but it&#x27;s more useful to place it after any whitespace.</span>
            st = before[++i];
            <span class="hljs-keyword">while</span> (st?.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;space&#x27;</span>) {
                offset += st.<span class="hljs-property">source</span>.<span class="hljs-property">length</span>;
                st = before[++i];
            }
            <span class="hljs-keyword">break</span>;
        }
    }
    <span class="hljs-keyword">return</span> offset;
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/compose/compose-node.js</span>






<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">CN</span> = { composeNode, composeEmptyNode };
<span class="hljs-keyword">function</span> <span class="hljs-title function_">composeNode</span>(<span class="hljs-params">ctx, token, props, onError</span>) {
    <span class="hljs-keyword">const</span> { spaceBefore, comment, anchor, tag } = props;
    <span class="hljs-keyword">let</span> node;
    <span class="hljs-keyword">let</span> isSrcToken = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">switch</span> (token.<span class="hljs-property">type</span>) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;alias&#x27;</span>:
            node = <span class="hljs-title function_">composeAlias</span>(ctx, token, onError);
            <span class="hljs-keyword">if</span> (anchor || tag)
                <span class="hljs-title function_">onError</span>(token, <span class="hljs-string">&#x27;ALIAS_PROPS&#x27;</span>, <span class="hljs-string">&#x27;An alias node must not specify any properties&#x27;</span>);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;scalar&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;single-quoted-scalar&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;double-quoted-scalar&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;block-scalar&#x27;</span>:
            node = <span class="hljs-title function_">composeScalar</span>(ctx, token, tag, onError);
            <span class="hljs-keyword">if</span> (anchor)
                node.<span class="hljs-property">anchor</span> = anchor.<span class="hljs-property">source</span>.<span class="hljs-title function_">substring</span>(<span class="hljs-number">1</span>);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;block-map&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;block-seq&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;flow-collection&#x27;</span>:
            node = <span class="hljs-title function_">composeCollection</span>(<span class="hljs-variable constant_">CN</span>, ctx, token, tag, onError);
            <span class="hljs-keyword">if</span> (anchor)
                node.<span class="hljs-property">anchor</span> = anchor.<span class="hljs-property">source</span>.<span class="hljs-title function_">substring</span>(<span class="hljs-number">1</span>);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-attr">default</span>: {
            <span class="hljs-keyword">const</span> message = token.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;error&#x27;</span>
                ? token.<span class="hljs-property">message</span>
                : <span class="hljs-string">`Unsupported token (type: <span class="hljs-subst">${token.type}</span>)`</span>;
            <span class="hljs-title function_">onError</span>(token, <span class="hljs-string">&#x27;UNEXPECTED_TOKEN&#x27;</span>, message);
            node = <span class="hljs-title function_">composeEmptyNode</span>(ctx, token.<span class="hljs-property">offset</span>, <span class="hljs-literal">undefined</span>, <span class="hljs-literal">null</span>, props, onError);
            isSrcToken = <span class="hljs-literal">false</span>;
        }
    }
    <span class="hljs-keyword">if</span> (anchor &amp;&amp; node.<span class="hljs-property">anchor</span> === <span class="hljs-string">&#x27;&#x27;</span>)
        <span class="hljs-title function_">onError</span>(anchor, <span class="hljs-string">&#x27;BAD_ALIAS&#x27;</span>, <span class="hljs-string">&#x27;Anchor cannot be an empty string&#x27;</span>);
    <span class="hljs-keyword">if</span> (spaceBefore)
        node.<span class="hljs-property">spaceBefore</span> = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">if</span> (comment) {
        <span class="hljs-keyword">if</span> (token.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;scalar&#x27;</span> &amp;&amp; token.<span class="hljs-property">source</span> === <span class="hljs-string">&#x27;&#x27;</span>)
            node.<span class="hljs-property">comment</span> = comment;
        <span class="hljs-keyword">else</span>
            node.<span class="hljs-property">commentBefore</span> = comment;
    }
    <span class="hljs-comment">// @ts-expect-error Type checking misses meaning of isSrcToken</span>
    <span class="hljs-keyword">if</span> (ctx.<span class="hljs-property">options</span>.<span class="hljs-property">keepSourceTokens</span> &amp;&amp; isSrcToken)
        node.<span class="hljs-property">srcToken</span> = token;
    <span class="hljs-keyword">return</span> node;
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">composeEmptyNode</span>(<span class="hljs-params">ctx, offset, before, pos, { spaceBefore, comment, anchor, tag, end }, onError</span>) {
    <span class="hljs-keyword">const</span> token = {
        <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;scalar&#x27;</span>,
        <span class="hljs-attr">offset</span>: <span class="hljs-title function_">emptyScalarPosition</span>(offset, before, pos),
        <span class="hljs-attr">indent</span>: -<span class="hljs-number">1</span>,
        <span class="hljs-attr">source</span>: <span class="hljs-string">&#x27;&#x27;</span>
    };
    <span class="hljs-keyword">const</span> node = <span class="hljs-title function_">composeScalar</span>(ctx, token, tag, onError);
    <span class="hljs-keyword">if</span> (anchor) {
        node.<span class="hljs-property">anchor</span> = anchor.<span class="hljs-property">source</span>.<span class="hljs-title function_">substring</span>(<span class="hljs-number">1</span>);
        <span class="hljs-keyword">if</span> (node.<span class="hljs-property">anchor</span> === <span class="hljs-string">&#x27;&#x27;</span>)
            <span class="hljs-title function_">onError</span>(anchor, <span class="hljs-string">&#x27;BAD_ALIAS&#x27;</span>, <span class="hljs-string">&#x27;Anchor cannot be an empty string&#x27;</span>);
    }
    <span class="hljs-keyword">if</span> (spaceBefore)
        node.<span class="hljs-property">spaceBefore</span> = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">if</span> (comment) {
        node.<span class="hljs-property">comment</span> = comment;
        node.<span class="hljs-property">range</span>[<span class="hljs-number">2</span>] = end;
    }
    <span class="hljs-keyword">return</span> node;
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">composeAlias</span>(<span class="hljs-params">{ options }, { offset, source, end }, onError</span>) {
    <span class="hljs-keyword">const</span> alias = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Alias</span>(source.<span class="hljs-title function_">substring</span>(<span class="hljs-number">1</span>));
    <span class="hljs-keyword">if</span> (alias.<span class="hljs-property">source</span> === <span class="hljs-string">&#x27;&#x27;</span>)
        <span class="hljs-title function_">onError</span>(offset, <span class="hljs-string">&#x27;BAD_ALIAS&#x27;</span>, <span class="hljs-string">&#x27;Alias cannot be an empty string&#x27;</span>);
    <span class="hljs-keyword">if</span> (alias.<span class="hljs-property">source</span>.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">&#x27;:&#x27;</span>))
        <span class="hljs-title function_">onError</span>(offset + source.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;BAD_ALIAS&#x27;</span>, <span class="hljs-string">&#x27;Alias ending in : is ambiguous&#x27;</span>, <span class="hljs-literal">true</span>);
    <span class="hljs-keyword">const</span> valueEnd = offset + source.<span class="hljs-property">length</span>;
    <span class="hljs-keyword">const</span> re = <span class="hljs-title function_">resolveEnd</span>(end, valueEnd, options.<span class="hljs-property">strict</span>, onError);
    alias.<span class="hljs-property">range</span> = [offset, valueEnd, re.<span class="hljs-property">offset</span>];
    <span class="hljs-keyword">if</span> (re.<span class="hljs-property">comment</span>)
        alias.<span class="hljs-property">comment</span> = re.<span class="hljs-property">comment</span>;
    <span class="hljs-keyword">return</span> alias;
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/compose/compose-doc.js</span>





<span class="hljs-keyword">function</span> <span class="hljs-title function_">composeDoc</span>(<span class="hljs-params">options, directives, { offset, start, value, end }, onError</span>) {
    <span class="hljs-keyword">const</span> opts = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({ <span class="hljs-attr">_directives</span>: directives }, options);
    <span class="hljs-keyword">const</span> doc = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Document</span>_Document(<span class="hljs-literal">undefined</span>, opts);
    <span class="hljs-keyword">const</span> ctx = {
        <span class="hljs-attr">atRoot</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">directives</span>: doc.<span class="hljs-property">directives</span>,
        <span class="hljs-attr">options</span>: doc.<span class="hljs-property">options</span>,
        <span class="hljs-attr">schema</span>: doc.<span class="hljs-property">schema</span>
    };
    <span class="hljs-keyword">const</span> props = <span class="hljs-title function_">resolveProps</span>(start, {
        <span class="hljs-attr">indicator</span>: <span class="hljs-string">&#x27;doc-start&#x27;</span>,
        <span class="hljs-attr">next</span>: value ?? end?.[<span class="hljs-number">0</span>],
        offset,
        onError,
        <span class="hljs-attr">startOnNewline</span>: <span class="hljs-literal">true</span>
    });
    <span class="hljs-keyword">if</span> (props.<span class="hljs-property">found</span>) {
        doc.<span class="hljs-property">directives</span>.<span class="hljs-property">docStart</span> = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (value &amp;&amp;
            (value.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;block-map&#x27;</span> || value.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;block-seq&#x27;</span>) &amp;&amp;
            !props.<span class="hljs-property">hasNewline</span>)
            <span class="hljs-title function_">onError</span>(props.<span class="hljs-property">end</span>, <span class="hljs-string">&#x27;MISSING_CHAR&#x27;</span>, <span class="hljs-string">&#x27;Block collection cannot start on same line with directives-end marker&#x27;</span>);
    }
    doc.<span class="hljs-property">contents</span> = value
        ? <span class="hljs-title function_">composeNode</span>(ctx, value, props, onError)
        : <span class="hljs-title function_">composeEmptyNode</span>(ctx, props.<span class="hljs-property">end</span>, start, <span class="hljs-literal">null</span>, props, onError);
    <span class="hljs-keyword">const</span> contentEnd = doc.<span class="hljs-property">contents</span>.<span class="hljs-property">range</span>[<span class="hljs-number">2</span>];
    <span class="hljs-keyword">const</span> re = <span class="hljs-title function_">resolveEnd</span>(end, contentEnd, <span class="hljs-literal">false</span>, onError);
    <span class="hljs-keyword">if</span> (re.<span class="hljs-property">comment</span>)
        doc.<span class="hljs-property">comment</span> = re.<span class="hljs-property">comment</span>;
    doc.<span class="hljs-property">range</span> = [offset, contentEnd, re.<span class="hljs-property">offset</span>];
    <span class="hljs-keyword">return</span> doc;
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/compose/composer.js</span>







<span class="hljs-keyword">function</span> <span class="hljs-title function_">getErrorPos</span>(<span class="hljs-params">src</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> src === <span class="hljs-string">&#x27;number&#x27;</span>)
        <span class="hljs-keyword">return</span> [src, src + <span class="hljs-number">1</span>];
    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(src))
        <span class="hljs-keyword">return</span> src.<span class="hljs-property">length</span> === <span class="hljs-number">2</span> ? src : [src[<span class="hljs-number">0</span>], src[<span class="hljs-number">1</span>]];
    <span class="hljs-keyword">const</span> { offset, source } = src;
    <span class="hljs-keyword">return</span> [offset, offset + (<span class="hljs-keyword">typeof</span> source === <span class="hljs-string">&#x27;string&#x27;</span> ? source.<span class="hljs-property">length</span> : <span class="hljs-number">1</span>)];
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">parsePrelude</span>(<span class="hljs-params">prelude</span>) {
    <span class="hljs-keyword">let</span> comment = <span class="hljs-string">&#x27;&#x27;</span>;
    <span class="hljs-keyword">let</span> atComment = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">let</span> afterEmptyLine = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; prelude.<span class="hljs-property">length</span>; ++i) {
        <span class="hljs-keyword">const</span> source = prelude[i];
        <span class="hljs-keyword">switch</span> (source[<span class="hljs-number">0</span>]) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;#&#x27;</span>:
                comment +=
                    (comment === <span class="hljs-string">&#x27;&#x27;</span> ? <span class="hljs-string">&#x27;&#x27;</span> : afterEmptyLine ? <span class="hljs-string">&#x27;\n\n&#x27;</span> : <span class="hljs-string">&#x27;\n&#x27;</span>) +
                        (source.<span class="hljs-title function_">substring</span>(<span class="hljs-number">1</span>) || <span class="hljs-string">&#x27; &#x27;</span>);
                atComment = <span class="hljs-literal">true</span>;
                afterEmptyLine = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;%&#x27;</span>:
                <span class="hljs-keyword">if</span> (prelude[i + <span class="hljs-number">1</span>]?.[<span class="hljs-number">0</span>] !== <span class="hljs-string">&#x27;#&#x27;</span>)
                    i += <span class="hljs-number">1</span>;
                atComment = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-attr">default</span>:
                <span class="hljs-comment">// This may be wrong after doc-end, but in that case it doesn&#x27;t matter</span>
                <span class="hljs-keyword">if</span> (!atComment)
                    afterEmptyLine = <span class="hljs-literal">true</span>;
                atComment = <span class="hljs-literal">false</span>;
        }
    }
    <span class="hljs-keyword">return</span> { comment, afterEmptyLine };
}
<span class="hljs-comment">/**
 * Compose a stream of CST nodes into a stream of YAML Documents.
 *
 * ```ts
 * import { Composer, Parser } from &#x27;yaml&#x27;
 *
 * const src: string = ...
 * const tokens = new Parser().parse(src)
 * const docs = new Composer().compose(tokens)
 * ```
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">composer_Composer</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">options = {}</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">doc</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">atDirectives</span> = <span class="hljs-literal">false</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">prelude</span> = [];
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span> = [];
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">warnings</span> = [];
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">onError</span> = <span class="hljs-function">(<span class="hljs-params">source, code, message, warning</span>) =&gt;</span> {
            <span class="hljs-keyword">const</span> pos = <span class="hljs-title function_">getErrorPos</span>(source);
            <span class="hljs-keyword">if</span> (warning)
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">warnings</span>.<span class="hljs-title function_">push</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">YAMLWarning</span>(pos, code, message));
            <span class="hljs-keyword">else</span>
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>.<span class="hljs-title function_">push</span>(<span class="hljs-keyword">new</span> <span class="hljs-title function_">errors_YAMLParseError</span>(pos, code, message));
        };
        <span class="hljs-comment">// eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">directives</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Directives</span>({ <span class="hljs-attr">version</span>: options.<span class="hljs-property">version</span> || <span class="hljs-string">&#x27;1.2&#x27;</span> });
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span> = options;
    }
    <span class="hljs-title function_">decorate</span>(<span class="hljs-params">doc, afterDoc</span>) {
        <span class="hljs-keyword">const</span> { comment, afterEmptyLine } = <span class="hljs-title function_">parsePrelude</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">prelude</span>);
        <span class="hljs-comment">//console.log({ dc: doc.comment, prelude, comment })</span>
        <span class="hljs-keyword">if</span> (comment) {
            <span class="hljs-keyword">const</span> dc = doc.<span class="hljs-property">contents</span>;
            <span class="hljs-keyword">if</span> (afterDoc) {
                doc.<span class="hljs-property">comment</span> = doc.<span class="hljs-property">comment</span> ? <span class="hljs-string">`<span class="hljs-subst">${doc.comment}</span>\n<span class="hljs-subst">${comment}</span>`</span> : comment;
            }
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (afterEmptyLine || doc.<span class="hljs-property">directives</span>.<span class="hljs-property">docStart</span> || !dc) {
                doc.<span class="hljs-property">commentBefore</span> = comment;
            }
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isCollection</span>(dc) &amp;&amp; !dc.<span class="hljs-property">flow</span> &amp;&amp; dc.<span class="hljs-property">items</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">let</span> it = dc.<span class="hljs-property">items</span>[<span class="hljs-number">0</span>];
                <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isPair</span>(it))
                    it = it.<span class="hljs-property">key</span>;
                <span class="hljs-keyword">const</span> cb = it.<span class="hljs-property">commentBefore</span>;
                it.<span class="hljs-property">commentBefore</span> = cb ? <span class="hljs-string">`<span class="hljs-subst">${comment}</span>\n<span class="hljs-subst">${cb}</span>`</span> : comment;
            }
            <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">const</span> cb = dc.<span class="hljs-property">commentBefore</span>;
                dc.<span class="hljs-property">commentBefore</span> = cb ? <span class="hljs-string">`<span class="hljs-subst">${comment}</span>\n<span class="hljs-subst">${cb}</span>`</span> : comment;
            }
        }
        <span class="hljs-keyword">if</span> (afterDoc) {
            <span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">push</span>.<span class="hljs-title function_">apply</span>(doc.<span class="hljs-property">errors</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>);
            <span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">push</span>.<span class="hljs-title function_">apply</span>(doc.<span class="hljs-property">warnings</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">warnings</span>);
        }
        <span class="hljs-keyword">else</span> {
            doc.<span class="hljs-property">errors</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>;
            doc.<span class="hljs-property">warnings</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">warnings</span>;
        }
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">prelude</span> = [];
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span> = [];
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">warnings</span> = [];
    }
    <span class="hljs-comment">/**
     * Current stream status information.
     *
     * Mostly useful at the end of input for an empty stream.
     */</span>
    <span class="hljs-title function_">streamInfo</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">comment</span>: <span class="hljs-title function_">parsePrelude</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">prelude</span>).<span class="hljs-property">comment</span>,
            <span class="hljs-attr">directives</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">directives</span>,
            <span class="hljs-attr">errors</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>,
            <span class="hljs-attr">warnings</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">warnings</span>
        };
    }
    <span class="hljs-comment">/**
     * Compose tokens into documents.
     *
     * <span class="hljs-doctag">@param</span> <span class="hljs-variable">forceDoc</span> - If the stream contains no document, still emit a final document including any comments and directives that would be applied to a subsequent document.
     * <span class="hljs-doctag">@param</span> <span class="hljs-variable">endOffset</span> - Should be set if `forceDoc` is also set, to set the document range end and to indicate errors correctly.
     */</span>
    *<span class="hljs-title function_">compose</span>(<span class="hljs-params">tokens, forceDoc = <span class="hljs-literal">false</span>, endOffset = -<span class="hljs-number">1</span></span>) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> token <span class="hljs-keyword">of</span> tokens)
            <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">next</span>(token);
        <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">end</span>(forceDoc, endOffset);
    }
    <span class="hljs-comment">/** Advance the composer by one CST token. */</span>
    *<span class="hljs-title function_">next</span>(<span class="hljs-params">token</span>) {
        <span class="hljs-keyword">switch</span> (token.<span class="hljs-property">type</span>) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;directive&#x27;</span>:
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">directives</span>.<span class="hljs-title function_">add</span>(token.<span class="hljs-property">source</span>, <span class="hljs-function">(<span class="hljs-params">offset, message, warning</span>) =&gt;</span> {
                    <span class="hljs-keyword">const</span> pos = <span class="hljs-title function_">getErrorPos</span>(token);
                    pos[<span class="hljs-number">0</span>] += offset;
                    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">onError</span>(pos, <span class="hljs-string">&#x27;BAD_DIRECTIVE&#x27;</span>, message, warning);
                });
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">prelude</span>.<span class="hljs-title function_">push</span>(token.<span class="hljs-property">source</span>);
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">atDirectives</span> = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;document&#x27;</span>: {
                <span class="hljs-keyword">const</span> doc = <span class="hljs-title function_">composeDoc</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">directives</span>, token, <span class="hljs-variable language_">this</span>.<span class="hljs-property">onError</span>);
                <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">atDirectives</span> &amp;&amp; !doc.<span class="hljs-property">directives</span>.<span class="hljs-property">docStart</span>)
                    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">onError</span>(token, <span class="hljs-string">&#x27;MISSING_CHAR&#x27;</span>, <span class="hljs-string">&#x27;Missing directives-end/doc-start indicator line&#x27;</span>);
                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">decorate</span>(doc, <span class="hljs-literal">false</span>);
                <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">doc</span>)
                    <span class="hljs-keyword">yield</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">doc</span>;
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">doc</span> = doc;
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">atDirectives</span> = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">break</span>;
            }
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;byte-order-mark&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;space&#x27;</span>:
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;comment&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;newline&#x27;</span>:
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">prelude</span>.<span class="hljs-title function_">push</span>(token.<span class="hljs-property">source</span>);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;error&#x27;</span>: {
                <span class="hljs-keyword">const</span> msg = token.<span class="hljs-property">source</span>
                    ? <span class="hljs-string">`<span class="hljs-subst">${token.message}</span>: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(token.source)}</span>`</span>
                    : token.<span class="hljs-property">message</span>;
                <span class="hljs-keyword">const</span> error = <span class="hljs-keyword">new</span> <span class="hljs-title function_">errors_YAMLParseError</span>(<span class="hljs-title function_">getErrorPos</span>(token), <span class="hljs-string">&#x27;UNEXPECTED_TOKEN&#x27;</span>, msg);
                <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">atDirectives</span> || !<span class="hljs-variable language_">this</span>.<span class="hljs-property">doc</span>)
                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>.<span class="hljs-title function_">push</span>(error);
                <span class="hljs-keyword">else</span>
                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">doc</span>.<span class="hljs-property">errors</span>.<span class="hljs-title function_">push</span>(error);
                <span class="hljs-keyword">break</span>;
            }
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;doc-end&#x27;</span>: {
                <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">doc</span>) {
                    <span class="hljs-keyword">const</span> msg = <span class="hljs-string">&#x27;Unexpected doc-end without preceding document&#x27;</span>;
                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>.<span class="hljs-title function_">push</span>(<span class="hljs-keyword">new</span> <span class="hljs-title function_">errors_YAMLParseError</span>(<span class="hljs-title function_">getErrorPos</span>(token), <span class="hljs-string">&#x27;UNEXPECTED_TOKEN&#x27;</span>, msg));
                    <span class="hljs-keyword">break</span>;
                }
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">doc</span>.<span class="hljs-property">directives</span>.<span class="hljs-property">docEnd</span> = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">const</span> end = <span class="hljs-title function_">resolveEnd</span>(token.<span class="hljs-property">end</span>, token.<span class="hljs-property">offset</span> + token.<span class="hljs-property">source</span>.<span class="hljs-property">length</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">doc</span>.<span class="hljs-property">options</span>.<span class="hljs-property">strict</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">onError</span>);
                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">decorate</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">doc</span>, <span class="hljs-literal">true</span>);
                <span class="hljs-keyword">if</span> (end.<span class="hljs-property">comment</span>) {
                    <span class="hljs-keyword">const</span> dc = <span class="hljs-variable language_">this</span>.<span class="hljs-property">doc</span>.<span class="hljs-property">comment</span>;
                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">doc</span>.<span class="hljs-property">comment</span> = dc ? <span class="hljs-string">`<span class="hljs-subst">${dc}</span>\n<span class="hljs-subst">${end.comment}</span>`</span> : end.<span class="hljs-property">comment</span>;
                }
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">doc</span>.<span class="hljs-property">range</span>[<span class="hljs-number">2</span>] = end.<span class="hljs-property">offset</span>;
                <span class="hljs-keyword">break</span>;
            }
            <span class="hljs-attr">default</span>:
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>.<span class="hljs-title function_">push</span>(<span class="hljs-keyword">new</span> <span class="hljs-title function_">errors_YAMLParseError</span>(<span class="hljs-title function_">getErrorPos</span>(token), <span class="hljs-string">&#x27;UNEXPECTED_TOKEN&#x27;</span>, <span class="hljs-string">`Unsupported token <span class="hljs-subst">${token.type}</span>`</span>));
        }
    }
    <span class="hljs-comment">/**
     * Call at end of input to yield any remaining document.
     *
     * <span class="hljs-doctag">@param</span> <span class="hljs-variable">forceDoc</span> - If the stream contains no document, still emit a final document including any comments and directives that would be applied to a subsequent document.
     * <span class="hljs-doctag">@param</span> <span class="hljs-variable">endOffset</span> - Should be set if `forceDoc` is also set, to set the document range end and to indicate errors correctly.
     */</span>
    *<span class="hljs-title function_">end</span>(<span class="hljs-params">forceDoc = <span class="hljs-literal">false</span>, endOffset = -<span class="hljs-number">1</span></span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">doc</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">decorate</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">doc</span>, <span class="hljs-literal">true</span>);
            <span class="hljs-keyword">yield</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">doc</span>;
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">doc</span> = <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (forceDoc) {
            <span class="hljs-keyword">const</span> opts = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({ <span class="hljs-attr">_directives</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">directives</span> }, <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>);
            <span class="hljs-keyword">const</span> doc = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Document</span>_Document(<span class="hljs-literal">undefined</span>, opts);
            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">atDirectives</span>)
                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">onError</span>(endOffset, <span class="hljs-string">&#x27;MISSING_CHAR&#x27;</span>, <span class="hljs-string">&#x27;Missing directives-end indicator line&#x27;</span>);
            doc.<span class="hljs-property">range</span> = [<span class="hljs-number">0</span>, endOffset, endOffset];
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">decorate</span>(doc, <span class="hljs-literal">false</span>);
            <span class="hljs-keyword">yield</span> doc;
        }
    }
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/parse/cst-scalar.js</span>





<span class="hljs-keyword">function</span> <span class="hljs-title function_">resolveAsScalar</span>(<span class="hljs-params">token, strict = <span class="hljs-literal">true</span>, onError</span>) {
    <span class="hljs-keyword">if</span> (token) {
        <span class="hljs-keyword">const</span> <span class="hljs-title function_">_onError</span> = (<span class="hljs-params">pos, code, message</span>) =&gt; {
            <span class="hljs-keyword">const</span> offset = <span class="hljs-keyword">typeof</span> pos === <span class="hljs-string">&#x27;number&#x27;</span> ? pos : <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(pos) ? pos[<span class="hljs-number">0</span>] : pos.<span class="hljs-property">offset</span>;
            <span class="hljs-keyword">if</span> (onError)
                <span class="hljs-title function_">onError</span>(offset, code, message);
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">YAMLParseError</span>([offset, offset + <span class="hljs-number">1</span>], code, message);
        };
        <span class="hljs-keyword">switch</span> (token.<span class="hljs-property">type</span>) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;scalar&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;single-quoted-scalar&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;double-quoted-scalar&#x27;</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-title function_">resolveFlowScalar</span>(token, strict, _onError);
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;block-scalar&#x27;</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-title function_">resolveBlockScalar</span>(token, strict, _onError);
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
}
<span class="hljs-comment">/**
 * Create a new scalar token with `value`
 *
 * Values that represent an actual string but may be parsed as a different type should use a `type` other than `&#x27;PLAIN&#x27;`,
 * as this function does not support any schema operations and won&#x27;t check for such conflicts.
 *
 * <span class="hljs-doctag">@param</span> value The string representation of the value, which will have its content properly indented.
 * <span class="hljs-doctag">@param</span> context.end Comments and whitespace after the end of the value, or after the block scalar header. If undefined, a newline will be added.
 * <span class="hljs-doctag">@param</span> context.implicitKey Being within an implicit key may affect the resolved type of the token&#x27;s value.
 * <span class="hljs-doctag">@param</span> context.indent The indent level of the token.
 * <span class="hljs-doctag">@param</span> context.inFlow Is this scalar within a flow collection? This may affect the resolved type of the token&#x27;s value.
 * <span class="hljs-doctag">@param</span> context.offset The offset position of the token.
 * <span class="hljs-doctag">@param</span> context.type The preferred type of the scalar token. If undefined, the previous type of the `token` will be used, defaulting to `&#x27;PLAIN&#x27;`.
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createScalarToken</span>(<span class="hljs-params">value, context</span>) {
    <span class="hljs-keyword">const</span> { implicitKey = <span class="hljs-literal">false</span>, indent, inFlow = <span class="hljs-literal">false</span>, offset = -<span class="hljs-number">1</span>, type = <span class="hljs-string">&#x27;PLAIN&#x27;</span> } = context;
    <span class="hljs-keyword">const</span> source = <span class="hljs-title function_">stringifyString</span>({ type, value }, {
        implicitKey,
        <span class="hljs-attr">indent</span>: indent &gt; <span class="hljs-number">0</span> ? <span class="hljs-string">&#x27; &#x27;</span>.<span class="hljs-title function_">repeat</span>(indent) : <span class="hljs-string">&#x27;&#x27;</span>,
        inFlow,
        <span class="hljs-attr">options</span>: { <span class="hljs-attr">blockQuote</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">lineWidth</span>: -<span class="hljs-number">1</span> }
    });
    <span class="hljs-keyword">const</span> end = context.<span class="hljs-property">end</span> ?? [
        { <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;newline&#x27;</span>, <span class="hljs-attr">offset</span>: -<span class="hljs-number">1</span>, indent, <span class="hljs-attr">source</span>: <span class="hljs-string">&#x27;\n&#x27;</span> }
    ];
    <span class="hljs-keyword">switch</span> (source[<span class="hljs-number">0</span>]) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;|&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;&gt;&#x27;</span>: {
            <span class="hljs-keyword">const</span> he = source.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;\n&#x27;</span>);
            <span class="hljs-keyword">const</span> head = source.<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>, he);
            <span class="hljs-keyword">const</span> body = source.<span class="hljs-title function_">substring</span>(he + <span class="hljs-number">1</span>) + <span class="hljs-string">&#x27;\n&#x27;</span>;
            <span class="hljs-keyword">const</span> props = [
                { <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;block-scalar-header&#x27;</span>, offset, indent, <span class="hljs-attr">source</span>: head }
            ];
            <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">addEndtoBlockProps</span>(props, end))
                props.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;newline&#x27;</span>, <span class="hljs-attr">offset</span>: -<span class="hljs-number">1</span>, indent, <span class="hljs-attr">source</span>: <span class="hljs-string">&#x27;\n&#x27;</span> });
            <span class="hljs-keyword">return</span> { <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;block-scalar&#x27;</span>, offset, indent, props, <span class="hljs-attr">source</span>: body };
        }
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;&quot;&#x27;</span>:
            <span class="hljs-keyword">return</span> { <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;double-quoted-scalar&#x27;</span>, offset, indent, source, end };
        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;&#x27;&quot;</span>:
            <span class="hljs-keyword">return</span> { <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;single-quoted-scalar&#x27;</span>, offset, indent, source, end };
        <span class="hljs-attr">default</span>:
            <span class="hljs-keyword">return</span> { <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;scalar&#x27;</span>, offset, indent, source, end };
    }
}
<span class="hljs-comment">/**
 * Set the value of `token` to the given string `value`, overwriting any previous contents and type that it may have.
 *
 * Best efforts are made to retain any comments previously associated with the `token`,
 * though all contents within a collection&#x27;s `items` will be overwritten.
 *
 * Values that represent an actual string but may be parsed as a different type should use a `type` other than `&#x27;PLAIN&#x27;`,
 * as this function does not support any schema operations and won&#x27;t check for such conflicts.
 *
 * <span class="hljs-doctag">@param</span> token Any token. If it does not include an `indent` value, the value will be stringified as if it were an implicit key.
 * <span class="hljs-doctag">@param</span> value The string representation of the value, which will have its content properly indented.
 * <span class="hljs-doctag">@param</span> context.afterKey In most cases, values after a key should have an additional level of indentation.
 * <span class="hljs-doctag">@param</span> context.implicitKey Being within an implicit key may affect the resolved type of the token&#x27;s value.
 * <span class="hljs-doctag">@param</span> context.inFlow Being within a flow collection may affect the resolved type of the token&#x27;s value.
 * <span class="hljs-doctag">@param</span> context.type The preferred type of the scalar token. If undefined, the previous type of the `token` will be used, defaulting to `&#x27;PLAIN&#x27;`.
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">setScalarValue</span>(<span class="hljs-params">token, value, context = {}</span>) {
    <span class="hljs-keyword">let</span> { afterKey = <span class="hljs-literal">false</span>, implicitKey = <span class="hljs-literal">false</span>, inFlow = <span class="hljs-literal">false</span>, type } = context;
    <span class="hljs-keyword">let</span> indent = <span class="hljs-string">&#x27;indent&#x27;</span> <span class="hljs-keyword">in</span> token ? token.<span class="hljs-property">indent</span> : <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">if</span> (afterKey &amp;&amp; <span class="hljs-keyword">typeof</span> indent === <span class="hljs-string">&#x27;number&#x27;</span>)
        indent += <span class="hljs-number">2</span>;
    <span class="hljs-keyword">if</span> (!type)
        <span class="hljs-keyword">switch</span> (token.<span class="hljs-property">type</span>) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;single-quoted-scalar&#x27;</span>:
                type = <span class="hljs-string">&#x27;QUOTE_SINGLE&#x27;</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;double-quoted-scalar&#x27;</span>:
                type = <span class="hljs-string">&#x27;QUOTE_DOUBLE&#x27;</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;block-scalar&#x27;</span>: {
                <span class="hljs-keyword">const</span> header = token.<span class="hljs-property">props</span>[<span class="hljs-number">0</span>];
                <span class="hljs-keyword">if</span> (header.<span class="hljs-property">type</span> !== <span class="hljs-string">&#x27;block-scalar-header&#x27;</span>)
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Invalid block scalar header&#x27;</span>);
                type = header.<span class="hljs-property">source</span>[<span class="hljs-number">0</span>] === <span class="hljs-string">&#x27;&gt;&#x27;</span> ? <span class="hljs-string">&#x27;BLOCK_FOLDED&#x27;</span> : <span class="hljs-string">&#x27;BLOCK_LITERAL&#x27;</span>;
                <span class="hljs-keyword">break</span>;
            }
            <span class="hljs-attr">default</span>:
                type = <span class="hljs-string">&#x27;PLAIN&#x27;</span>;
        }
    <span class="hljs-keyword">const</span> source = <span class="hljs-title function_">stringifyString</span>({ type, value }, {
        <span class="hljs-attr">implicitKey</span>: implicitKey || indent === <span class="hljs-literal">null</span>,
        <span class="hljs-attr">indent</span>: indent !== <span class="hljs-literal">null</span> &amp;&amp; indent &gt; <span class="hljs-number">0</span> ? <span class="hljs-string">&#x27; &#x27;</span>.<span class="hljs-title function_">repeat</span>(indent) : <span class="hljs-string">&#x27;&#x27;</span>,
        inFlow,
        <span class="hljs-attr">options</span>: { <span class="hljs-attr">blockQuote</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">lineWidth</span>: -<span class="hljs-number">1</span> }
    });
    <span class="hljs-keyword">switch</span> (source[<span class="hljs-number">0</span>]) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;|&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;&gt;&#x27;</span>:
            <span class="hljs-title function_">setBlockScalarValue</span>(token, source);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;&quot;&#x27;</span>:
            <span class="hljs-title function_">setFlowScalarValue</span>(token, source, <span class="hljs-string">&#x27;double-quoted-scalar&#x27;</span>);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;&#x27;&quot;</span>:
            <span class="hljs-title function_">setFlowScalarValue</span>(token, source, <span class="hljs-string">&#x27;single-quoted-scalar&#x27;</span>);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-attr">default</span>:
            <span class="hljs-title function_">setFlowScalarValue</span>(token, source, <span class="hljs-string">&#x27;scalar&#x27;</span>);
    }
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">setBlockScalarValue</span>(<span class="hljs-params">token, source</span>) {
    <span class="hljs-keyword">const</span> he = source.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;\n&#x27;</span>);
    <span class="hljs-keyword">const</span> head = source.<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>, he);
    <span class="hljs-keyword">const</span> body = source.<span class="hljs-title function_">substring</span>(he + <span class="hljs-number">1</span>) + <span class="hljs-string">&#x27;\n&#x27;</span>;
    <span class="hljs-keyword">if</span> (token.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;block-scalar&#x27;</span>) {
        <span class="hljs-keyword">const</span> header = token.<span class="hljs-property">props</span>[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">if</span> (header.<span class="hljs-property">type</span> !== <span class="hljs-string">&#x27;block-scalar-header&#x27;</span>)
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Invalid block scalar header&#x27;</span>);
        header.<span class="hljs-property">source</span> = head;
        token.<span class="hljs-property">source</span> = body;
    }
    <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">const</span> { offset } = token;
        <span class="hljs-keyword">const</span> indent = <span class="hljs-string">&#x27;indent&#x27;</span> <span class="hljs-keyword">in</span> token ? token.<span class="hljs-property">indent</span> : -<span class="hljs-number">1</span>;
        <span class="hljs-keyword">const</span> props = [
            { <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;block-scalar-header&#x27;</span>, offset, indent, <span class="hljs-attr">source</span>: head }
        ];
        <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">addEndtoBlockProps</span>(props, <span class="hljs-string">&#x27;end&#x27;</span> <span class="hljs-keyword">in</span> token ? token.<span class="hljs-property">end</span> : <span class="hljs-literal">undefined</span>))
            props.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;newline&#x27;</span>, <span class="hljs-attr">offset</span>: -<span class="hljs-number">1</span>, indent, <span class="hljs-attr">source</span>: <span class="hljs-string">&#x27;\n&#x27;</span> });
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">of</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(token))
            <span class="hljs-keyword">if</span> (key !== <span class="hljs-string">&#x27;type&#x27;</span> &amp;&amp; key !== <span class="hljs-string">&#x27;offset&#x27;</span>)
                <span class="hljs-keyword">delete</span> token[key];
        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(token, { <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;block-scalar&#x27;</span>, indent, props, <span class="hljs-attr">source</span>: body });
    }
}
<span class="hljs-comment">/** <span class="hljs-doctag">@returns</span> `true` if last token is a newline */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">addEndtoBlockProps</span>(<span class="hljs-params">props, end</span>) {
    <span class="hljs-keyword">if</span> (end)
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> st <span class="hljs-keyword">of</span> end)
            <span class="hljs-keyword">switch</span> (st.<span class="hljs-property">type</span>) {
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;space&#x27;</span>:
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;comment&#x27;</span>:
                    props.<span class="hljs-title function_">push</span>(st);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;newline&#x27;</span>:
                    props.<span class="hljs-title function_">push</span>(st);
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">setFlowScalarValue</span>(<span class="hljs-params">token, source, type</span>) {
    <span class="hljs-keyword">switch</span> (token.<span class="hljs-property">type</span>) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;scalar&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;double-quoted-scalar&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;single-quoted-scalar&#x27;</span>:
            token.<span class="hljs-property">type</span> = type;
            token.<span class="hljs-property">source</span> = source;
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;block-scalar&#x27;</span>: {
            <span class="hljs-keyword">const</span> end = token.<span class="hljs-property">props</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>);
            <span class="hljs-keyword">let</span> oa = source.<span class="hljs-property">length</span>;
            <span class="hljs-keyword">if</span> (token.<span class="hljs-property">props</span>[<span class="hljs-number">0</span>].<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;block-scalar-header&#x27;</span>)
                oa -= token.<span class="hljs-property">props</span>[<span class="hljs-number">0</span>].<span class="hljs-property">source</span>.<span class="hljs-property">length</span>;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> tok <span class="hljs-keyword">of</span> end)
                tok.<span class="hljs-property">offset</span> += oa;
            <span class="hljs-keyword">delete</span> token.<span class="hljs-property">props</span>;
            <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(token, { type, source, end });
            <span class="hljs-keyword">break</span>;
        }
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;block-map&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;block-seq&#x27;</span>: {
            <span class="hljs-keyword">const</span> offset = token.<span class="hljs-property">offset</span> + source.<span class="hljs-property">length</span>;
            <span class="hljs-keyword">const</span> nl = { <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;newline&#x27;</span>, offset, <span class="hljs-attr">indent</span>: token.<span class="hljs-property">indent</span>, <span class="hljs-attr">source</span>: <span class="hljs-string">&#x27;\n&#x27;</span> };
            <span class="hljs-keyword">delete</span> token.<span class="hljs-property">items</span>;
            <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(token, { type, source, <span class="hljs-attr">end</span>: [nl] });
            <span class="hljs-keyword">break</span>;
        }
        <span class="hljs-attr">default</span>: {
            <span class="hljs-keyword">const</span> indent = <span class="hljs-string">&#x27;indent&#x27;</span> <span class="hljs-keyword">in</span> token ? token.<span class="hljs-property">indent</span> : -<span class="hljs-number">1</span>;
            <span class="hljs-keyword">const</span> end = <span class="hljs-string">&#x27;end&#x27;</span> <span class="hljs-keyword">in</span> token &amp;&amp; <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(token.<span class="hljs-property">end</span>)
                ? token.<span class="hljs-property">end</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">st</span> =&gt;</span> st.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;space&#x27;</span> ||
                    st.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;comment&#x27;</span> ||
                    st.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;newline&#x27;</span>)
                : [];
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">of</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(token))
                <span class="hljs-keyword">if</span> (key !== <span class="hljs-string">&#x27;type&#x27;</span> &amp;&amp; key !== <span class="hljs-string">&#x27;offset&#x27;</span>)
                    <span class="hljs-keyword">delete</span> token[key];
            <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(token, { type, indent, source, end });
        }
    }
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/parse/cst-visit.js</span>
<span class="hljs-keyword">const</span> cst_visit_BREAK = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&#x27;break visit&#x27;</span>);
<span class="hljs-keyword">const</span> cst_visit_SKIP = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&#x27;skip children&#x27;</span>);
<span class="hljs-keyword">const</span> cst_visit_REMOVE = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&#x27;remove item&#x27;</span>);
<span class="hljs-comment">/**
 * Apply a visitor to a CST document or item.
 *
 * Walks through the tree (depth-first) starting from the root, calling a
 * `visitor` function with two arguments when entering each item:
 *   - `item`: The current item, which included the following members:
 *     - `start: SourceToken[]` – Source tokens before the key or value,
 *       possibly including its anchor or tag.
 *     - `key?: Token | null` – Set for pair values. May then be `null`, if
 *       the key before the `:` separator is empty.
 *     - `sep?: SourceToken[]` – Source tokens between the key and the value,
 *       which should include the `:` map value indicator if `value` is set.
 *     - `value?: Token` – The value of a sequence item, or of a map pair.
 *   - `path`: The steps from the root to the current node, as an array of
 *     `[&#x27;key&#x27; | &#x27;value&#x27;, number]` tuples.
 *
 * The return value of the visitor may be used to control the traversal:
 *   - `undefined` (default): Do nothing and continue
 *   - `visit.SKIP`: Do not visit the children of this token, continue with
 *      next sibling
 *   - `visit.BREAK`: Terminate traversal completely
 *   - `visit.REMOVE`: Remove the current item, then continue with the next one
 *   - `number`: Set the index of the next step. This is useful especially if
 *     the index of the current token has changed.
 *   - `function`: Define the next visitor for this item. After the original
 *     visitor is called on item entry, next visitors are called after handling
 *     a non-empty `key` and when exiting the item.
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">cst_visit_visit</span>(<span class="hljs-params">cst, visitor</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-string">&#x27;type&#x27;</span> <span class="hljs-keyword">in</span> cst &amp;&amp; cst.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;document&#x27;</span>)
        cst = { <span class="hljs-attr">start</span>: cst.<span class="hljs-property">start</span>, <span class="hljs-attr">value</span>: cst.<span class="hljs-property">value</span> };
    <span class="hljs-title function_">_visit</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">freeze</span>([]), cst, visitor);
}
<span class="hljs-comment">// Without the `as symbol` casts, TS declares these in the `visit`</span>
<span class="hljs-comment">// namespace using `var`, but then complains about that because</span>
<span class="hljs-comment">// `unique symbol` must be `const`.</span>
<span class="hljs-comment">/** Terminate visit traversal completely */</span>
cst_visit_visit.<span class="hljs-property">BREAK</span> = cst_visit_BREAK;
<span class="hljs-comment">/** Do not visit the children of the current item */</span>
cst_visit_visit.<span class="hljs-property">SKIP</span> = cst_visit_SKIP;
<span class="hljs-comment">/** Remove the current item */</span>
cst_visit_visit.<span class="hljs-property">REMOVE</span> = cst_visit_REMOVE;
<span class="hljs-comment">/** Find the item at `path` from `cst` as the root */</span>
cst_visit_visit.<span class="hljs-property">itemAtPath</span> = <span class="hljs-function">(<span class="hljs-params">cst, path</span>) =&gt;</span> {
    <span class="hljs-keyword">let</span> item = cst;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [field, index] <span class="hljs-keyword">of</span> path) {
        <span class="hljs-keyword">const</span> tok = item?.[field];
        <span class="hljs-keyword">if</span> (tok &amp;&amp; <span class="hljs-string">&#x27;items&#x27;</span> <span class="hljs-keyword">in</span> tok) {
            item = tok.<span class="hljs-property">items</span>[index];
        }
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>;
    }
    <span class="hljs-keyword">return</span> item;
};
<span class="hljs-comment">/**
 * Get the immediate parent collection of the item at `path` from `cst` as the root.
 *
 * Throws an error if the collection is not found, which should never happen if the item itself exists.
 */</span>
cst_visit_visit.<span class="hljs-property">parentCollection</span> = <span class="hljs-function">(<span class="hljs-params">cst, path</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> parent = cst_visit_visit.<span class="hljs-title function_">itemAtPath</span>(cst, path.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, -<span class="hljs-number">1</span>));
    <span class="hljs-keyword">const</span> field = path[path.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>][<span class="hljs-number">0</span>];
    <span class="hljs-keyword">const</span> coll = parent?.[field];
    <span class="hljs-keyword">if</span> (coll &amp;&amp; <span class="hljs-string">&#x27;items&#x27;</span> <span class="hljs-keyword">in</span> coll)
        <span class="hljs-keyword">return</span> coll;
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Parent collection not found&#x27;</span>);
};
<span class="hljs-keyword">function</span> <span class="hljs-title function_">_visit</span>(<span class="hljs-params">path, item, visitor</span>) {
    <span class="hljs-keyword">let</span> ctrl = <span class="hljs-title function_">visitor</span>(item, path);
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> ctrl === <span class="hljs-string">&#x27;symbol&#x27;</span>)
        <span class="hljs-keyword">return</span> ctrl;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> field <span class="hljs-keyword">of</span> [<span class="hljs-string">&#x27;key&#x27;</span>, <span class="hljs-string">&#x27;value&#x27;</span>]) {
        <span class="hljs-keyword">const</span> token = item[field];
        <span class="hljs-keyword">if</span> (token &amp;&amp; <span class="hljs-string">&#x27;items&#x27;</span> <span class="hljs-keyword">in</span> token) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; token.<span class="hljs-property">items</span>.<span class="hljs-property">length</span>; ++i) {
                <span class="hljs-keyword">const</span> ci = <span class="hljs-title function_">_visit</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">freeze</span>(path.<span class="hljs-title function_">concat</span>([[field, i]])), token.<span class="hljs-property">items</span>[i], visitor);
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> ci === <span class="hljs-string">&#x27;number&#x27;</span>)
                    i = ci - <span class="hljs-number">1</span>;
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ci === cst_visit_BREAK)
                    <span class="hljs-keyword">return</span> cst_visit_BREAK;
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ci === cst_visit_REMOVE) {
                    token.<span class="hljs-property">items</span>.<span class="hljs-title function_">splice</span>(i, <span class="hljs-number">1</span>);
                    i -= <span class="hljs-number">1</span>;
                }
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> ctrl === <span class="hljs-string">&#x27;function&#x27;</span> &amp;&amp; field === <span class="hljs-string">&#x27;key&#x27;</span>)
                ctrl = <span class="hljs-title function_">ctrl</span>(item, path);
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> ctrl === <span class="hljs-string">&#x27;function&#x27;</span> ? <span class="hljs-title function_">ctrl</span>(item, path) : ctrl;
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/parse/cst.js</span>




<span class="hljs-comment">/** The byte order mark */</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">BOM</span> = <span class="hljs-string">&#x27;\u{FEFF}&#x27;</span>;
<span class="hljs-comment">/** Start of doc-mode */</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">DOCUMENT</span> = <span class="hljs-string">&#x27;\x02&#x27;</span>; <span class="hljs-comment">// C0: Start of Text</span>
<span class="hljs-comment">/** Unexpected end of flow-mode */</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">FLOW_END</span> = <span class="hljs-string">&#x27;\x18&#x27;</span>; <span class="hljs-comment">// C0: Cancel</span>
<span class="hljs-comment">/** Next token is a scalar value */</span>
<span class="hljs-keyword">const</span> cst_SCALAR = <span class="hljs-string">&#x27;\x1f&#x27;</span>; <span class="hljs-comment">// C0: Unit Separator</span>
<span class="hljs-comment">/** <span class="hljs-doctag">@returns</span> `true` if `token` is a flow or block collection */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">cst_isCollection</span> = (<span class="hljs-params">token</span>) =&gt; !!token &amp;&amp; <span class="hljs-string">&#x27;items&#x27;</span> <span class="hljs-keyword">in</span> token;
<span class="hljs-comment">/** <span class="hljs-doctag">@returns</span> `true` if `token` is a flow or block scalar; not an alias */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">cst_isScalar</span> = (<span class="hljs-params">token</span>) =&gt; !!token &amp;&amp;
    (token.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;scalar&#x27;</span> ||
        token.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;single-quoted-scalar&#x27;</span> ||
        token.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;double-quoted-scalar&#x27;</span> ||
        token.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;block-scalar&#x27;</span>);
<span class="hljs-comment">/* istanbul ignore next */</span>
<span class="hljs-comment">/** Get a printable representation of a lexer token */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">prettyToken</span>(<span class="hljs-params">token</span>) {
    <span class="hljs-keyword">switch</span> (token) {
        <span class="hljs-keyword">case</span> <span class="hljs-attr">BOM</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;BOM&gt;&#x27;</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-attr">DOCUMENT</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;DOC&gt;&#x27;</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-attr">FLOW_END</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;FLOW_END&gt;&#x27;</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-attr">cst_SCALAR</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;SCALAR&gt;&#x27;</span>;
        <span class="hljs-attr">default</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(token);
    }
}
<span class="hljs-comment">/** Identify the type of a lexer token. May return `null` for unknown tokens. */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">tokenType</span>(<span class="hljs-params">source</span>) {
    <span class="hljs-keyword">switch</span> (source) {
        <span class="hljs-keyword">case</span> <span class="hljs-attr">BOM</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;byte-order-mark&#x27;</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-attr">DOCUMENT</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;doc-mode&#x27;</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-attr">FLOW_END</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;flow-error-end&#x27;</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-attr">cst_SCALAR</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;scalar&#x27;</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;---&#x27;</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;doc-start&#x27;</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;...&#x27;</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;doc-end&#x27;</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;\n&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;\r\n&#x27;</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;newline&#x27;</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;-&#x27;</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;seq-item-ind&#x27;</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;?&#x27;</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;explicit-key-ind&#x27;</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;:&#x27;</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;map-value-ind&#x27;</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;{&#x27;</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;flow-map-start&#x27;</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;}&#x27;</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;flow-map-end&#x27;</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;[&#x27;</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;flow-seq-start&#x27;</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;]&#x27;</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;flow-seq-end&#x27;</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;,&#x27;</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;comma&#x27;</span>;
    }
    <span class="hljs-keyword">switch</span> (source[<span class="hljs-number">0</span>]) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27; &#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;\t&#x27;</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;space&#x27;</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;#&#x27;</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;comment&#x27;</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;%&#x27;</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;directive-line&#x27;</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;*&#x27;</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;alias&#x27;</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;&amp;&#x27;</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;anchor&#x27;</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;!&#x27;</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;tag&#x27;</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;&#x27;&quot;</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;single-quoted-scalar&#x27;</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;&quot;&#x27;</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;double-quoted-scalar&#x27;</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;|&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;&gt;&#x27;</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;block-scalar-header&#x27;</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/parse/lexer.js</span>


<span class="hljs-comment">/*
START -&gt; stream

stream
  directive -&gt; line-end -&gt; stream
  indent + line-end -&gt; stream
  [else] -&gt; line-start

line-end
  comment -&gt; line-end
  newline -&gt; .
  input-end -&gt; END

line-start
  doc-start -&gt; doc
  doc-end -&gt; stream
  [else] -&gt; indent -&gt; block-start

block-start
  seq-item-start -&gt; block-start
  explicit-key-start -&gt; block-start
  map-value-start -&gt; block-start
  [else] -&gt; doc

doc
  line-end -&gt; line-start
  spaces -&gt; doc
  anchor -&gt; doc
  tag -&gt; doc
  flow-start -&gt; flow -&gt; doc
  flow-end -&gt; error -&gt; doc
  seq-item-start -&gt; error -&gt; doc
  explicit-key-start -&gt; error -&gt; doc
  map-value-start -&gt; doc
  alias -&gt; doc
  quote-start -&gt; quoted-scalar -&gt; doc
  block-scalar-header -&gt; line-end -&gt; block-scalar(min) -&gt; line-start
  [else] -&gt; plain-scalar(false, min) -&gt; doc

flow
  line-end -&gt; flow
  spaces -&gt; flow
  anchor -&gt; flow
  tag -&gt; flow
  flow-start -&gt; flow -&gt; flow
  flow-end -&gt; .
  seq-item-start -&gt; error -&gt; flow
  explicit-key-start -&gt; flow
  map-value-start -&gt; flow
  alias -&gt; flow
  quote-start -&gt; quoted-scalar -&gt; flow
  comma -&gt; flow
  [else] -&gt; plain-scalar(true, 0) -&gt; flow

quoted-scalar
  quote-end -&gt; .
  [else] -&gt; quoted-scalar

block-scalar(min)
  newline + peek(indent &lt; min) -&gt; .
  [else] -&gt; block-scalar(min)

plain-scalar(is-flow, min)
  scalar-end(is-flow) -&gt; .
  peek(newline + (indent &lt; min)) -&gt; .
  [else] -&gt; plain-scalar(min)
*/</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">isEmpty</span>(<span class="hljs-params">ch</span>) {
    <span class="hljs-keyword">switch</span> (ch) {
        <span class="hljs-keyword">case</span> <span class="hljs-attr">undefined</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27; &#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;\n&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;\r&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;\t&#x27;</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-attr">default</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
}
<span class="hljs-keyword">const</span> hexDigits = <span class="hljs-string">&#x27;0123456789ABCDEFabcdef&#x27;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;&#x27;</span>);
<span class="hljs-keyword">const</span> tagChars = <span class="hljs-string">&quot;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&amp;=+$_.!~*&#x27;()&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;&#x27;</span>);
<span class="hljs-keyword">const</span> invalidFlowScalarChars = <span class="hljs-string">&#x27;,[]{}&#x27;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;&#x27;</span>);
<span class="hljs-keyword">const</span> invalidAnchorChars = <span class="hljs-string">&#x27; ,[]{}\n\r\t&#x27;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;&#x27;</span>);
<span class="hljs-keyword">const</span> <span class="hljs-title function_">isNotAnchorChar</span> = (<span class="hljs-params">ch</span>) =&gt; !ch || invalidAnchorChars.<span class="hljs-title function_">includes</span>(ch);
<span class="hljs-comment">/**
 * Splits an input string into lexical tokens, i.e. smaller strings that are
 * easily identifiable by `tokens.tokenType()`.
 *
 * Lexing starts always in a &quot;stream&quot; context. Incomplete input may be buffered
 * until a complete token can be emitted.
 *
 * In addition to slices of the original input, the following control characters
 * may also be emitted:
 *
 * - `\x02` (Start of Text): A document starts with the next token
 * - `\x18` (Cancel): Unexpected end of flow-mode (indicates an error)
 * - `\x1f` (Unit Separator): Next token is a scalar value
 * - `\u{FEFF}` (Byte order mark): Emitted separately outside documents
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Lexer</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {
        <span class="hljs-comment">/**
         * Flag indicating whether the end of the current buffer marks the end of
         * all input
         */</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">atEnd</span> = <span class="hljs-literal">false</span>;
        <span class="hljs-comment">/**
         * Explicit indent set in block scalar header, as an offset from the current
         * minimum indent, so e.g. set to 1 from a header `|2+`. Set to -1 if not
         * explicitly set.
         */</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">blockScalarIndent</span> = -<span class="hljs-number">1</span>;
        <span class="hljs-comment">/**
         * Block scalars that include a + (keep) chomping indicator in their header
         * include trailing empty lines, which are otherwise excluded from the
         * scalar&#x27;s contents.
         */</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">blockScalarKeep</span> = <span class="hljs-literal">false</span>;
        <span class="hljs-comment">/** Current input */</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span> = <span class="hljs-string">&#x27;&#x27;</span>;
        <span class="hljs-comment">/**
         * Flag noting whether the map value indicator : can immediately follow this
         * node within a flow context.
         */</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">flowKey</span> = <span class="hljs-literal">false</span>;
        <span class="hljs-comment">/** Count of surrounding flow collection levels. */</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">flowLevel</span> = <span class="hljs-number">0</span>;
        <span class="hljs-comment">/**
         * Minimum level of indentation required for next lines to be parsed as a
         * part of the current scalar value.
         */</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">indentNext</span> = <span class="hljs-number">0</span>;
        <span class="hljs-comment">/** Indentation level of the current line. */</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">indentValue</span> = <span class="hljs-number">0</span>;
        <span class="hljs-comment">/** Position of the next \n character. */</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">lineEndPos</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-comment">/** Stores the state of the lexer if reaching the end of incpomplete input */</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">next</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-comment">/** A pointer to `buffer`; the current position of the lexer. */</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span> = <span class="hljs-number">0</span>;
    }
    <span class="hljs-comment">/**
     * Generate YAML tokens from the `source` string. If `incomplete`,
     * a part of the last line may be left as a buffer for the next call.
     *
     * <span class="hljs-doctag">@returns</span> A generator of lexical tokens
     */</span>
    *<span class="hljs-title function_">lex</span>(<span class="hljs-params">source, incomplete = <span class="hljs-literal">false</span></span>) {
        <span class="hljs-keyword">if</span> (source) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span> ? <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span> + source : source;
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">lineEndPos</span> = <span class="hljs-literal">null</span>;
        }
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">atEnd</span> = !incomplete;
        <span class="hljs-keyword">let</span> next = <span class="hljs-variable language_">this</span>.<span class="hljs-property">next</span> ?? <span class="hljs-string">&#x27;stream&#x27;</span>;
        <span class="hljs-keyword">while</span> (next &amp;&amp; (incomplete || <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">hasChars</span>(<span class="hljs-number">1</span>)))
            next = <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">parseNext</span>(next);
    }
    <span class="hljs-title function_">atLineEnd</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">let</span> i = <span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span>;
        <span class="hljs-keyword">let</span> ch = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[i];
        <span class="hljs-keyword">while</span> (ch === <span class="hljs-string">&#x27; &#x27;</span> || ch === <span class="hljs-string">&#x27;\t&#x27;</span>)
            ch = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[++i];
        <span class="hljs-keyword">if</span> (!ch || ch === <span class="hljs-string">&#x27;#&#x27;</span> || ch === <span class="hljs-string">&#x27;\n&#x27;</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">&#x27;\r&#x27;</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[i + <span class="hljs-number">1</span>] === <span class="hljs-string">&#x27;\n&#x27;</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    <span class="hljs-title function_">charAt</span>(<span class="hljs-params">n</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span> + n];
    }
    <span class="hljs-title function_">continueScalar</span>(<span class="hljs-params">offset</span>) {
        <span class="hljs-keyword">let</span> ch = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[offset];
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">indentNext</span> &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">let</span> indent = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">while</span> (ch === <span class="hljs-string">&#x27; &#x27;</span>)
                ch = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[++indent + offset];
            <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">&#x27;\r&#x27;</span>) {
                <span class="hljs-keyword">const</span> next = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[indent + offset + <span class="hljs-number">1</span>];
                <span class="hljs-keyword">if</span> (next === <span class="hljs-string">&#x27;\n&#x27;</span> || (!next &amp;&amp; !<span class="hljs-variable language_">this</span>.<span class="hljs-property">atEnd</span>))
                    <span class="hljs-keyword">return</span> offset + indent + <span class="hljs-number">1</span>;
            }
            <span class="hljs-keyword">return</span> ch === <span class="hljs-string">&#x27;\n&#x27;</span> || indent &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">indentNext</span> || (!ch &amp;&amp; !<span class="hljs-variable language_">this</span>.<span class="hljs-property">atEnd</span>)
                ? offset + indent
                : -<span class="hljs-number">1</span>;
        }
        <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">&#x27;-&#x27;</span> || ch === <span class="hljs-string">&#x27;.&#x27;</span>) {
            <span class="hljs-keyword">const</span> dt = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>.<span class="hljs-title function_">substr</span>(offset, <span class="hljs-number">3</span>);
            <span class="hljs-keyword">if</span> ((dt === <span class="hljs-string">&#x27;---&#x27;</span> || dt === <span class="hljs-string">&#x27;...&#x27;</span>) &amp;&amp; <span class="hljs-title function_">isEmpty</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[offset + <span class="hljs-number">3</span>]))
                <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
        }
        <span class="hljs-keyword">return</span> offset;
    }
    <span class="hljs-title function_">getLine</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">let</span> end = <span class="hljs-variable language_">this</span>.<span class="hljs-property">lineEndPos</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> end !== <span class="hljs-string">&#x27;number&#x27;</span> || (end !== -<span class="hljs-number">1</span> &amp;&amp; end &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span>)) {
            end = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;\n&#x27;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span>);
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">lineEndPos</span> = end;
        }
        <span class="hljs-keyword">if</span> (end === -<span class="hljs-number">1</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">atEnd</span> ? <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>.<span class="hljs-title function_">substring</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span>) : <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[end - <span class="hljs-number">1</span>] === <span class="hljs-string">&#x27;\r&#x27;</span>)
            end -= <span class="hljs-number">1</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>.<span class="hljs-title function_">substring</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span>, end);
    }
    <span class="hljs-title function_">hasChars</span>(<span class="hljs-params">n</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span> + n &lt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>.<span class="hljs-property">length</span>;
    }
    <span class="hljs-title function_">setNext</span>(<span class="hljs-params">state</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>.<span class="hljs-title function_">substring</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span> = <span class="hljs-number">0</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">lineEndPos</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">next</span> = state;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
    <span class="hljs-title function_">peek</span>(<span class="hljs-params">n</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>.<span class="hljs-title function_">substr</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span>, n);
    }
    *<span class="hljs-title function_">parseNext</span>(<span class="hljs-params">next</span>) {
        <span class="hljs-keyword">switch</span> (next) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;stream&#x27;</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">parseStream</span>();
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;line-start&#x27;</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">parseLineStart</span>();
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;block-start&#x27;</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">parseBlockStart</span>();
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;doc&#x27;</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">parseDocument</span>();
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;flow&#x27;</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">parseFlowCollection</span>();
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;quoted-scalar&#x27;</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">parseQuotedScalar</span>();
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;block-scalar&#x27;</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">parseBlockScalar</span>();
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;plain-scalar&#x27;</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">parsePlainScalar</span>();
        }
    }
    *<span class="hljs-title function_">parseStream</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">let</span> line = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getLine</span>();
        <span class="hljs-keyword">if</span> (line === <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setNext</span>(<span class="hljs-string">&#x27;stream&#x27;</span>);
        <span class="hljs-keyword">if</span> (line[<span class="hljs-number">0</span>] === <span class="hljs-variable constant_">BOM</span>) {
            <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushCount</span>(<span class="hljs-number">1</span>);
            line = line.<span class="hljs-title function_">substring</span>(<span class="hljs-number">1</span>);
        }
        <span class="hljs-keyword">if</span> (line[<span class="hljs-number">0</span>] === <span class="hljs-string">&#x27;%&#x27;</span>) {
            <span class="hljs-keyword">let</span> dirEnd = line.<span class="hljs-property">length</span>;
            <span class="hljs-keyword">const</span> cs = line.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;#&#x27;</span>);
            <span class="hljs-keyword">if</span> (cs !== -<span class="hljs-number">1</span>) {
                <span class="hljs-keyword">const</span> ch = line[cs - <span class="hljs-number">1</span>];
                <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">&#x27; &#x27;</span> || ch === <span class="hljs-string">&#x27;\t&#x27;</span>)
                    dirEnd = cs - <span class="hljs-number">1</span>;
            }
            <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
                <span class="hljs-keyword">const</span> ch = line[dirEnd - <span class="hljs-number">1</span>];
                <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">&#x27; &#x27;</span> || ch === <span class="hljs-string">&#x27;\t&#x27;</span>)
                    dirEnd -= <span class="hljs-number">1</span>;
                <span class="hljs-keyword">else</span>
                    <span class="hljs-keyword">break</span>;
            }
            <span class="hljs-keyword">const</span> n = (<span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushCount</span>(dirEnd)) + (<span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushSpaces</span>(<span class="hljs-literal">true</span>));
            <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushCount</span>(line.<span class="hljs-property">length</span> - n); <span class="hljs-comment">// possible comment</span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushNewline</span>();
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;stream&#x27;</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">atLineEnd</span>()) {
            <span class="hljs-keyword">const</span> sp = <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushSpaces</span>(<span class="hljs-literal">true</span>);
            <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushCount</span>(line.<span class="hljs-property">length</span> - sp);
            <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushNewline</span>();
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;stream&#x27;</span>;
        }
        <span class="hljs-keyword">yield</span> <span class="hljs-variable constant_">DOCUMENT</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">parseLineStart</span>();
    }
    *<span class="hljs-title function_">parseLineStart</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">const</span> ch = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">charAt</span>(<span class="hljs-number">0</span>);
        <span class="hljs-keyword">if</span> (!ch &amp;&amp; !<span class="hljs-variable language_">this</span>.<span class="hljs-property">atEnd</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setNext</span>(<span class="hljs-string">&#x27;line-start&#x27;</span>);
        <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">&#x27;-&#x27;</span> || ch === <span class="hljs-string">&#x27;.&#x27;</span>) {
            <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">atEnd</span> &amp;&amp; !<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">hasChars</span>(<span class="hljs-number">4</span>))
                <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setNext</span>(<span class="hljs-string">&#x27;line-start&#x27;</span>);
            <span class="hljs-keyword">const</span> s = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">peek</span>(<span class="hljs-number">3</span>);
            <span class="hljs-keyword">if</span> (s === <span class="hljs-string">&#x27;---&#x27;</span> &amp;&amp; <span class="hljs-title function_">isEmpty</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">charAt</span>(<span class="hljs-number">3</span>))) {
                <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushCount</span>(<span class="hljs-number">3</span>);
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">indentValue</span> = <span class="hljs-number">0</span>;
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">indentNext</span> = <span class="hljs-number">0</span>;
                <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;doc&#x27;</span>;
            }
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (s === <span class="hljs-string">&#x27;...&#x27;</span> &amp;&amp; <span class="hljs-title function_">isEmpty</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">charAt</span>(<span class="hljs-number">3</span>))) {
                <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushCount</span>(<span class="hljs-number">3</span>);
                <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;stream&#x27;</span>;
            }
        }
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">indentValue</span> = <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushSpaces</span>(<span class="hljs-literal">false</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">indentNext</span> &gt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">indentValue</span> &amp;&amp; !<span class="hljs-title function_">isEmpty</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">charAt</span>(<span class="hljs-number">1</span>)))
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">indentNext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">indentValue</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">parseBlockStart</span>();
    }
    *<span class="hljs-title function_">parseBlockStart</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">const</span> [ch0, ch1] = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">peek</span>(<span class="hljs-number">2</span>);
        <span class="hljs-keyword">if</span> (!ch1 &amp;&amp; !<span class="hljs-variable language_">this</span>.<span class="hljs-property">atEnd</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setNext</span>(<span class="hljs-string">&#x27;block-start&#x27;</span>);
        <span class="hljs-keyword">if</span> ((ch0 === <span class="hljs-string">&#x27;-&#x27;</span> || ch0 === <span class="hljs-string">&#x27;?&#x27;</span> || ch0 === <span class="hljs-string">&#x27;:&#x27;</span>) &amp;&amp; <span class="hljs-title function_">isEmpty</span>(ch1)) {
            <span class="hljs-keyword">const</span> n = (<span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushCount</span>(<span class="hljs-number">1</span>)) + (<span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushSpaces</span>(<span class="hljs-literal">true</span>));
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">indentNext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">indentValue</span> + <span class="hljs-number">1</span>;
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">indentValue</span> += n;
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">parseBlockStart</span>();
        }
        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;doc&#x27;</span>;
    }
    *<span class="hljs-title function_">parseDocument</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushSpaces</span>(<span class="hljs-literal">true</span>);
        <span class="hljs-keyword">const</span> line = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getLine</span>();
        <span class="hljs-keyword">if</span> (line === <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setNext</span>(<span class="hljs-string">&#x27;doc&#x27;</span>);
        <span class="hljs-keyword">let</span> n = <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushIndicators</span>();
        <span class="hljs-keyword">switch</span> (line[n]) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;#&#x27;</span>:
                <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushCount</span>(line.<span class="hljs-property">length</span> - n);
            <span class="hljs-comment">// fallthrough</span>
            <span class="hljs-keyword">case</span> <span class="hljs-attr">undefined</span>:
                <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushNewline</span>();
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">parseLineStart</span>();
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;{&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;[&#x27;</span>:
                <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushCount</span>(<span class="hljs-number">1</span>);
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">flowKey</span> = <span class="hljs-literal">false</span>;
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">flowLevel</span> = <span class="hljs-number">1</span>;
                <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;flow&#x27;</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;}&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;]&#x27;</span>:
                <span class="hljs-comment">// this is an error</span>
                <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushCount</span>(<span class="hljs-number">1</span>);
                <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;doc&#x27;</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;*&#x27;</span>:
                <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushUntil</span>(isNotAnchorChar);
                <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;doc&#x27;</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;&quot;&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;&#x27;&quot;</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">parseQuotedScalar</span>();
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;|&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;&gt;&#x27;</span>:
                n += <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">parseBlockScalarHeader</span>();
                n += <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushSpaces</span>(<span class="hljs-literal">true</span>);
                <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushCount</span>(line.<span class="hljs-property">length</span> - n);
                <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushNewline</span>();
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">parseBlockScalar</span>();
            <span class="hljs-attr">default</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">parsePlainScalar</span>();
        }
    }
    *<span class="hljs-title function_">parseFlowCollection</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">let</span> nl, sp;
        <span class="hljs-keyword">let</span> indent = -<span class="hljs-number">1</span>;
        <span class="hljs-keyword">do</span> {
            nl = <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushNewline</span>();
            <span class="hljs-keyword">if</span> (nl &gt; <span class="hljs-number">0</span>) {
                sp = <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushSpaces</span>(<span class="hljs-literal">false</span>);
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">indentValue</span> = indent = sp;
            }
            <span class="hljs-keyword">else</span> {
                sp = <span class="hljs-number">0</span>;
            }
            sp += <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushSpaces</span>(<span class="hljs-literal">true</span>);
        } <span class="hljs-keyword">while</span> (nl + sp &gt; <span class="hljs-number">0</span>);
        <span class="hljs-keyword">const</span> line = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getLine</span>();
        <span class="hljs-keyword">if</span> (line === <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setNext</span>(<span class="hljs-string">&#x27;flow&#x27;</span>);
        <span class="hljs-keyword">if</span> ((indent !== -<span class="hljs-number">1</span> &amp;&amp; indent &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">indentNext</span> &amp;&amp; line[<span class="hljs-number">0</span>] !== <span class="hljs-string">&#x27;#&#x27;</span>) ||
            (indent === <span class="hljs-number">0</span> &amp;&amp;
                (line.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">&#x27;---&#x27;</span>) || line.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">&#x27;...&#x27;</span>)) &amp;&amp;
                <span class="hljs-title function_">isEmpty</span>(line[<span class="hljs-number">3</span>]))) {
            <span class="hljs-comment">// Allowing for the terminal ] or } at the same (rather than greater)</span>
            <span class="hljs-comment">// indent level as the initial [ or { is technically invalid, but</span>
            <span class="hljs-comment">// failing here would be surprising to users.</span>
            <span class="hljs-keyword">const</span> atFlowEndMarker = indent === <span class="hljs-variable language_">this</span>.<span class="hljs-property">indentNext</span> - <span class="hljs-number">1</span> &amp;&amp;
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">flowLevel</span> === <span class="hljs-number">1</span> &amp;&amp;
                (line[<span class="hljs-number">0</span>] === <span class="hljs-string">&#x27;]&#x27;</span> || line[<span class="hljs-number">0</span>] === <span class="hljs-string">&#x27;}&#x27;</span>);
            <span class="hljs-keyword">if</span> (!atFlowEndMarker) {
                <span class="hljs-comment">// this is an error</span>
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">flowLevel</span> = <span class="hljs-number">0</span>;
                <span class="hljs-keyword">yield</span> <span class="hljs-variable constant_">FLOW_END</span>;
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">parseLineStart</span>();
            }
        }
        <span class="hljs-keyword">let</span> n = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">while</span> (line[n] === <span class="hljs-string">&#x27;,&#x27;</span>) {
            n += <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushCount</span>(<span class="hljs-number">1</span>);
            n += <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushSpaces</span>(<span class="hljs-literal">true</span>);
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">flowKey</span> = <span class="hljs-literal">false</span>;
        }
        n += <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushIndicators</span>();
        <span class="hljs-keyword">switch</span> (line[n]) {
            <span class="hljs-keyword">case</span> <span class="hljs-attr">undefined</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;flow&#x27;</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;#&#x27;</span>:
                <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushCount</span>(line.<span class="hljs-property">length</span> - n);
                <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;flow&#x27;</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;{&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;[&#x27;</span>:
                <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushCount</span>(<span class="hljs-number">1</span>);
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">flowKey</span> = <span class="hljs-literal">false</span>;
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">flowLevel</span> += <span class="hljs-number">1</span>;
                <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;flow&#x27;</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;}&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;]&#x27;</span>:
                <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushCount</span>(<span class="hljs-number">1</span>);
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">flowKey</span> = <span class="hljs-literal">true</span>;
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">flowLevel</span> -= <span class="hljs-number">1</span>;
                <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">flowLevel</span> ? <span class="hljs-string">&#x27;flow&#x27;</span> : <span class="hljs-string">&#x27;doc&#x27;</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;*&#x27;</span>:
                <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushUntil</span>(isNotAnchorChar);
                <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;flow&#x27;</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;&quot;&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;&#x27;&quot;</span>:
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">flowKey</span> = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">parseQuotedScalar</span>();
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;:&#x27;</span>: {
                <span class="hljs-keyword">const</span> next = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">charAt</span>(<span class="hljs-number">1</span>);
                <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">flowKey</span> || <span class="hljs-title function_">isEmpty</span>(next) || next === <span class="hljs-string">&#x27;,&#x27;</span>) {
                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">flowKey</span> = <span class="hljs-literal">false</span>;
                    <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushCount</span>(<span class="hljs-number">1</span>);
                    <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushSpaces</span>(<span class="hljs-literal">true</span>);
                    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;flow&#x27;</span>;
                }
            }
            <span class="hljs-comment">// fallthrough</span>
            <span class="hljs-attr">default</span>:
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">flowKey</span> = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">parsePlainScalar</span>();
        }
    }
    *<span class="hljs-title function_">parseQuotedScalar</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">const</span> quote = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">charAt</span>(<span class="hljs-number">0</span>);
        <span class="hljs-keyword">let</span> end = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>.<span class="hljs-title function_">indexOf</span>(quote, <span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span> + <span class="hljs-number">1</span>);
        <span class="hljs-keyword">if</span> (quote === <span class="hljs-string">&quot;&#x27;&quot;</span>) {
            <span class="hljs-keyword">while</span> (end !== -<span class="hljs-number">1</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[end + <span class="hljs-number">1</span>] === <span class="hljs-string">&quot;&#x27;&quot;</span>)
                end = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&quot;&#x27;&quot;</span>, end + <span class="hljs-number">2</span>);
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// double-quote</span>
            <span class="hljs-keyword">while</span> (end !== -<span class="hljs-number">1</span>) {
                <span class="hljs-keyword">let</span> n = <span class="hljs-number">0</span>;
                <span class="hljs-keyword">while</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[end - <span class="hljs-number">1</span> - n] === <span class="hljs-string">&#x27;\\&#x27;</span>)
                    n += <span class="hljs-number">1</span>;
                <span class="hljs-keyword">if</span> (n % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>)
                    <span class="hljs-keyword">break</span>;
                end = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;&quot;&#x27;</span>, end + <span class="hljs-number">1</span>);
            }
        }
        <span class="hljs-comment">// Only looking for newlines within the quotes</span>
        <span class="hljs-keyword">const</span> qb = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>.<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>, end);
        <span class="hljs-keyword">let</span> nl = qb.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;\n&#x27;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span>);
        <span class="hljs-keyword">if</span> (nl !== -<span class="hljs-number">1</span>) {
            <span class="hljs-keyword">while</span> (nl !== -<span class="hljs-number">1</span>) {
                <span class="hljs-keyword">const</span> cs = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">continueScalar</span>(nl + <span class="hljs-number">1</span>);
                <span class="hljs-keyword">if</span> (cs === -<span class="hljs-number">1</span>)
                    <span class="hljs-keyword">break</span>;
                nl = qb.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;\n&#x27;</span>, cs);
            }
            <span class="hljs-keyword">if</span> (nl !== -<span class="hljs-number">1</span>) {
                <span class="hljs-comment">// this is an error caused by an unexpected unindent</span>
                end = nl - (qb[nl - <span class="hljs-number">1</span>] === <span class="hljs-string">&#x27;\r&#x27;</span> ? <span class="hljs-number">2</span> : <span class="hljs-number">1</span>);
            }
        }
        <span class="hljs-keyword">if</span> (end === -<span class="hljs-number">1</span>) {
            <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">atEnd</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setNext</span>(<span class="hljs-string">&#x27;quoted-scalar&#x27;</span>);
            end = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>.<span class="hljs-property">length</span>;
        }
        <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushToIndex</span>(end + <span class="hljs-number">1</span>, <span class="hljs-literal">false</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">flowLevel</span> ? <span class="hljs-string">&#x27;flow&#x27;</span> : <span class="hljs-string">&#x27;doc&#x27;</span>;
    }
    *<span class="hljs-title function_">parseBlockScalarHeader</span>(<span class="hljs-params"></span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">blockScalarIndent</span> = -<span class="hljs-number">1</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">blockScalarKeep</span> = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">let</span> i = <span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span>;
        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
            <span class="hljs-keyword">const</span> ch = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[++i];
            <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">&#x27;+&#x27;</span>)
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">blockScalarKeep</span> = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch &gt; <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; ch &lt;= <span class="hljs-string">&#x27;9&#x27;</span>)
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">blockScalarIndent</span> = <span class="hljs-title class_">Number</span>(ch) - <span class="hljs-number">1</span>;
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch !== <span class="hljs-string">&#x27;-&#x27;</span>)
                <span class="hljs-keyword">break</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushUntil</span>(<span class="hljs-function"><span class="hljs-params">ch</span> =&gt;</span> <span class="hljs-title function_">isEmpty</span>(ch) || ch === <span class="hljs-string">&#x27;#&#x27;</span>);
    }
    *<span class="hljs-title function_">parseBlockScalar</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">let</span> nl = <span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span> - <span class="hljs-number">1</span>; <span class="hljs-comment">// may be -1 if this.pos === 0</span>
        <span class="hljs-keyword">let</span> indent = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">let</span> ch;
        <span class="hljs-attr">loop</span>: <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span>; (ch = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[i]); ++i) {
            <span class="hljs-keyword">switch</span> (ch) {
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27; &#x27;</span>:
                    indent += <span class="hljs-number">1</span>;
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;\n&#x27;</span>:
                    nl = i;
                    indent = <span class="hljs-number">0</span>;
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;\r&#x27;</span>: {
                    <span class="hljs-keyword">const</span> next = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[i + <span class="hljs-number">1</span>];
                    <span class="hljs-keyword">if</span> (!next &amp;&amp; !<span class="hljs-variable language_">this</span>.<span class="hljs-property">atEnd</span>)
                        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setNext</span>(<span class="hljs-string">&#x27;block-scalar&#x27;</span>);
                    <span class="hljs-keyword">if</span> (next === <span class="hljs-string">&#x27;\n&#x27;</span>)
                        <span class="hljs-keyword">break</span>;
                } <span class="hljs-comment">// fallthrough</span>
                <span class="hljs-attr">default</span>:
                    <span class="hljs-keyword">break</span> loop;
            }
        }
        <span class="hljs-keyword">if</span> (!ch &amp;&amp; !<span class="hljs-variable language_">this</span>.<span class="hljs-property">atEnd</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setNext</span>(<span class="hljs-string">&#x27;block-scalar&#x27;</span>);
        <span class="hljs-keyword">if</span> (indent &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">indentNext</span>) {
            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">blockScalarIndent</span> === -<span class="hljs-number">1</span>)
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">indentNext</span> = indent;
            <span class="hljs-keyword">else</span>
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">indentNext</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">blockScalarIndent</span>;
            <span class="hljs-keyword">do</span> {
                <span class="hljs-keyword">const</span> cs = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">continueScalar</span>(nl + <span class="hljs-number">1</span>);
                <span class="hljs-keyword">if</span> (cs === -<span class="hljs-number">1</span>)
                    <span class="hljs-keyword">break</span>;
                nl = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;\n&#x27;</span>, cs);
            } <span class="hljs-keyword">while</span> (nl !== -<span class="hljs-number">1</span>);
            <span class="hljs-keyword">if</span> (nl === -<span class="hljs-number">1</span>) {
                <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">atEnd</span>)
                    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setNext</span>(<span class="hljs-string">&#x27;block-scalar&#x27;</span>);
                nl = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>.<span class="hljs-property">length</span>;
            }
        }
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">blockScalarKeep</span>) {
            <span class="hljs-keyword">do</span> {
                <span class="hljs-keyword">let</span> i = nl - <span class="hljs-number">1</span>;
                <span class="hljs-keyword">let</span> ch = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[i];
                <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">&#x27;\r&#x27;</span>)
                    ch = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[--i];
                <span class="hljs-keyword">const</span> lastChar = i; <span class="hljs-comment">// Drop the line if last char not more indented</span>
                <span class="hljs-keyword">while</span> (ch === <span class="hljs-string">&#x27; &#x27;</span> || ch === <span class="hljs-string">&#x27;\t&#x27;</span>)
                    ch = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[--i];
                <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">&#x27;\n&#x27;</span> &amp;&amp; i &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span> &amp;&amp; i + <span class="hljs-number">1</span> + indent &gt; lastChar)
                    nl = i;
                <span class="hljs-keyword">else</span>
                    <span class="hljs-keyword">break</span>;
            } <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>);
        }
        <span class="hljs-keyword">yield</span> cst_SCALAR;
        <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushToIndex</span>(nl + <span class="hljs-number">1</span>, <span class="hljs-literal">true</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">parseLineStart</span>();
    }
    *<span class="hljs-title function_">parsePlainScalar</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">const</span> inFlow = <span class="hljs-variable language_">this</span>.<span class="hljs-property">flowLevel</span> &gt; <span class="hljs-number">0</span>;
        <span class="hljs-keyword">let</span> end = <span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span> - <span class="hljs-number">1</span>;
        <span class="hljs-keyword">let</span> i = <span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span> - <span class="hljs-number">1</span>;
        <span class="hljs-keyword">let</span> ch;
        <span class="hljs-keyword">while</span> ((ch = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[++i])) {
            <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">&#x27;:&#x27;</span>) {
                <span class="hljs-keyword">const</span> next = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[i + <span class="hljs-number">1</span>];
                <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isEmpty</span>(next) || (inFlow &amp;&amp; next === <span class="hljs-string">&#x27;,&#x27;</span>))
                    <span class="hljs-keyword">break</span>;
                end = i;
            }
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isEmpty</span>(ch)) {
                <span class="hljs-keyword">let</span> next = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[i + <span class="hljs-number">1</span>];
                <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">&#x27;\r&#x27;</span>) {
                    <span class="hljs-keyword">if</span> (next === <span class="hljs-string">&#x27;\n&#x27;</span>) {
                        i += <span class="hljs-number">1</span>;
                        ch = <span class="hljs-string">&#x27;\n&#x27;</span>;
                        next = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[i + <span class="hljs-number">1</span>];
                    }
                    <span class="hljs-keyword">else</span>
                        end = i;
                }
                <span class="hljs-keyword">if</span> (next === <span class="hljs-string">&#x27;#&#x27;</span> || (inFlow &amp;&amp; invalidFlowScalarChars.<span class="hljs-title function_">includes</span>(next)))
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">&#x27;\n&#x27;</span>) {
                    <span class="hljs-keyword">const</span> cs = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">continueScalar</span>(i + <span class="hljs-number">1</span>);
                    <span class="hljs-keyword">if</span> (cs === -<span class="hljs-number">1</span>)
                        <span class="hljs-keyword">break</span>;
                    i = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(i, cs - <span class="hljs-number">2</span>); <span class="hljs-comment">// to advance, but still account for &#x27; #&#x27;</span>
                }
            }
            <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (inFlow &amp;&amp; invalidFlowScalarChars.<span class="hljs-title function_">includes</span>(ch))
                    <span class="hljs-keyword">break</span>;
                end = i;
            }
        }
        <span class="hljs-keyword">if</span> (!ch &amp;&amp; !<span class="hljs-variable language_">this</span>.<span class="hljs-property">atEnd</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setNext</span>(<span class="hljs-string">&#x27;plain-scalar&#x27;</span>);
        <span class="hljs-keyword">yield</span> cst_SCALAR;
        <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushToIndex</span>(end + <span class="hljs-number">1</span>, <span class="hljs-literal">true</span>);
        <span class="hljs-keyword">return</span> inFlow ? <span class="hljs-string">&#x27;flow&#x27;</span> : <span class="hljs-string">&#x27;doc&#x27;</span>;
    }
    *<span class="hljs-title function_">pushCount</span>(<span class="hljs-params">n</span>) {
        <span class="hljs-keyword">if</span> (n &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">yield</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>.<span class="hljs-title function_">substr</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span>, n);
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span> += n;
            <span class="hljs-keyword">return</span> n;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
    }
    *<span class="hljs-title function_">pushToIndex</span>(<span class="hljs-params">i, allowEmpty</span>) {
        <span class="hljs-keyword">const</span> s = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span>, i);
        <span class="hljs-keyword">if</span> (s) {
            <span class="hljs-keyword">yield</span> s;
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span> += s.<span class="hljs-property">length</span>;
            <span class="hljs-keyword">return</span> s.<span class="hljs-property">length</span>;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (allowEmpty)
            <span class="hljs-keyword">yield</span> <span class="hljs-string">&#x27;&#x27;</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
    }
    *<span class="hljs-title function_">pushIndicators</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">switch</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">charAt</span>(<span class="hljs-number">0</span>)) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;!&#x27;</span>:
                <span class="hljs-keyword">return</span> ((<span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushTag</span>()) +
                    (<span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushSpaces</span>(<span class="hljs-literal">true</span>)) +
                    (<span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushIndicators</span>()));
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;&amp;&#x27;</span>:
                <span class="hljs-keyword">return</span> ((<span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushUntil</span>(isNotAnchorChar)) +
                    (<span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushSpaces</span>(<span class="hljs-literal">true</span>)) +
                    (<span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushIndicators</span>()));
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;-&#x27;</span>: <span class="hljs-comment">// this is an error</span>
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;?&#x27;</span>: <span class="hljs-comment">// this is an error outside flow collections</span>
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;:&#x27;</span>: {
                <span class="hljs-keyword">const</span> inFlow = <span class="hljs-variable language_">this</span>.<span class="hljs-property">flowLevel</span> &gt; <span class="hljs-number">0</span>;
                <span class="hljs-keyword">const</span> ch1 = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">charAt</span>(<span class="hljs-number">1</span>);
                <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isEmpty</span>(ch1) || (inFlow &amp;&amp; invalidFlowScalarChars.<span class="hljs-title function_">includes</span>(ch1))) {
                    <span class="hljs-keyword">if</span> (!inFlow)
                        <span class="hljs-variable language_">this</span>.<span class="hljs-property">indentNext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">indentValue</span> + <span class="hljs-number">1</span>;
                    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">flowKey</span>)
                        <span class="hljs-variable language_">this</span>.<span class="hljs-property">flowKey</span> = <span class="hljs-literal">false</span>;
                    <span class="hljs-keyword">return</span> ((<span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushCount</span>(<span class="hljs-number">1</span>)) +
                        (<span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushSpaces</span>(<span class="hljs-literal">true</span>)) +
                        (<span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushIndicators</span>()));
                }
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
    }
    *<span class="hljs-title function_">pushTag</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">charAt</span>(<span class="hljs-number">1</span>) === <span class="hljs-string">&#x27;&lt;&#x27;</span>) {
            <span class="hljs-keyword">let</span> i = <span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span> + <span class="hljs-number">2</span>;
            <span class="hljs-keyword">let</span> ch = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[i];
            <span class="hljs-keyword">while</span> (!<span class="hljs-title function_">isEmpty</span>(ch) &amp;&amp; ch !== <span class="hljs-string">&#x27;&gt;&#x27;</span>)
                ch = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[++i];
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushToIndex</span>(ch === <span class="hljs-string">&#x27;&gt;&#x27;</span> ? i + <span class="hljs-number">1</span> : i, <span class="hljs-literal">false</span>);
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">let</span> i = <span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span> + <span class="hljs-number">1</span>;
            <span class="hljs-keyword">let</span> ch = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[i];
            <span class="hljs-keyword">while</span> (ch) {
                <span class="hljs-keyword">if</span> (tagChars.<span class="hljs-title function_">includes</span>(ch))
                    ch = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[++i];
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">&#x27;%&#x27;</span> &amp;&amp;
                    hexDigits.<span class="hljs-title function_">includes</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[i + <span class="hljs-number">1</span>]) &amp;&amp;
                    hexDigits.<span class="hljs-title function_">includes</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[i + <span class="hljs-number">2</span>])) {
                    ch = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[(i += <span class="hljs-number">3</span>)];
                }
                <span class="hljs-keyword">else</span>
                    <span class="hljs-keyword">break</span>;
            }
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushToIndex</span>(i, <span class="hljs-literal">false</span>);
        }
    }
    *<span class="hljs-title function_">pushNewline</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">const</span> ch = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span>];
        <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">&#x27;\n&#x27;</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushCount</span>(<span class="hljs-number">1</span>);
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">&#x27;\r&#x27;</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">charAt</span>(<span class="hljs-number">1</span>) === <span class="hljs-string">&#x27;\n&#x27;</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushCount</span>(<span class="hljs-number">2</span>);
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
    }
    *<span class="hljs-title function_">pushSpaces</span>(<span class="hljs-params">allowTabs</span>) {
        <span class="hljs-keyword">let</span> i = <span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span> - <span class="hljs-number">1</span>;
        <span class="hljs-keyword">let</span> ch;
        <span class="hljs-keyword">do</span> {
            ch = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[++i];
        } <span class="hljs-keyword">while</span> (ch === <span class="hljs-string">&#x27; &#x27;</span> || (allowTabs &amp;&amp; ch === <span class="hljs-string">&#x27;\t&#x27;</span>));
        <span class="hljs-keyword">const</span> n = i - <span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span>;
        <span class="hljs-keyword">if</span> (n &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">yield</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>.<span class="hljs-title function_">substr</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span>, n);
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span> = i;
        }
        <span class="hljs-keyword">return</span> n;
    }
    *<span class="hljs-title function_">pushUntil</span>(<span class="hljs-params">test</span>) {
        <span class="hljs-keyword">let</span> i = <span class="hljs-variable language_">this</span>.<span class="hljs-property">pos</span>;
        <span class="hljs-keyword">let</span> ch = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[i];
        <span class="hljs-keyword">while</span> (!<span class="hljs-title function_">test</span>(ch))
            ch = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>[++i];
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pushToIndex</span>(i, <span class="hljs-literal">false</span>);
    }
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/parse/parser.js</span>



<span class="hljs-keyword">function</span> <span class="hljs-title function_">includesToken</span>(<span class="hljs-params">list, type</span>) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; list.<span class="hljs-property">length</span>; ++i)
        <span class="hljs-keyword">if</span> (list[i].<span class="hljs-property">type</span> === type)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">findNonEmptyIndex</span>(<span class="hljs-params">list</span>) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; list.<span class="hljs-property">length</span>; ++i) {
        <span class="hljs-keyword">switch</span> (list[i].<span class="hljs-property">type</span>) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;space&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;comment&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;newline&#x27;</span>:
                <span class="hljs-keyword">break</span>;
            <span class="hljs-attr">default</span>:
                <span class="hljs-keyword">return</span> i;
        }
    }
    <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">isFlowToken</span>(<span class="hljs-params">token</span>) {
    <span class="hljs-keyword">switch</span> (token?.<span class="hljs-property">type</span>) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;alias&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;scalar&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;single-quoted-scalar&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;double-quoted-scalar&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;flow-collection&#x27;</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-attr">default</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getPrevProps</span>(<span class="hljs-params">parent</span>) {
    <span class="hljs-keyword">switch</span> (parent.<span class="hljs-property">type</span>) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;document&#x27;</span>:
            <span class="hljs-keyword">return</span> parent.<span class="hljs-property">start</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;block-map&#x27;</span>: {
            <span class="hljs-keyword">const</span> it = parent.<span class="hljs-property">items</span>[parent.<span class="hljs-property">items</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>];
            <span class="hljs-keyword">return</span> it.<span class="hljs-property">sep</span> ?? it.<span class="hljs-property">start</span>;
        }
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;block-seq&#x27;</span>:
            <span class="hljs-keyword">return</span> parent.<span class="hljs-property">items</span>[parent.<span class="hljs-property">items</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>].<span class="hljs-property">start</span>;
        <span class="hljs-comment">/* istanbul ignore next should not happen */</span>
        <span class="hljs-attr">default</span>:
            <span class="hljs-keyword">return</span> [];
    }
}
<span class="hljs-comment">/** Note: May modify input array */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getFirstKeyStartProps</span>(<span class="hljs-params">prev</span>) {
    <span class="hljs-keyword">if</span> (prev.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>)
        <span class="hljs-keyword">return</span> [];
    <span class="hljs-keyword">let</span> i = prev.<span class="hljs-property">length</span>;
    <span class="hljs-attr">loop</span>: <span class="hljs-keyword">while</span> (--i &gt;= <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">switch</span> (prev[i].<span class="hljs-property">type</span>) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;doc-start&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;explicit-key-ind&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;map-value-ind&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;seq-item-ind&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;newline&#x27;</span>:
                <span class="hljs-keyword">break</span> loop;
        }
    }
    <span class="hljs-keyword">while</span> (prev[++i]?.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;space&#x27;</span>) {
        <span class="hljs-comment">/* loop */</span>
    }
    <span class="hljs-keyword">return</span> prev.<span class="hljs-title function_">splice</span>(i, prev.<span class="hljs-property">length</span>);
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">fixFlowSeqItems</span>(<span class="hljs-params">fc</span>) {
    <span class="hljs-keyword">if</span> (fc.<span class="hljs-property">start</span>.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;flow-seq-start&#x27;</span>) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> it <span class="hljs-keyword">of</span> fc.<span class="hljs-property">items</span>) {
            <span class="hljs-keyword">if</span> (it.<span class="hljs-property">sep</span> &amp;&amp;
                !it.<span class="hljs-property">value</span> &amp;&amp;
                !<span class="hljs-title function_">includesToken</span>(it.<span class="hljs-property">start</span>, <span class="hljs-string">&#x27;explicit-key-ind&#x27;</span>) &amp;&amp;
                !<span class="hljs-title function_">includesToken</span>(it.<span class="hljs-property">sep</span>, <span class="hljs-string">&#x27;map-value-ind&#x27;</span>)) {
                <span class="hljs-keyword">if</span> (it.<span class="hljs-property">key</span>)
                    it.<span class="hljs-property">value</span> = it.<span class="hljs-property">key</span>;
                <span class="hljs-keyword">delete</span> it.<span class="hljs-property">key</span>;
                <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isFlowToken</span>(it.<span class="hljs-property">value</span>)) {
                    <span class="hljs-keyword">if</span> (it.<span class="hljs-property">value</span>.<span class="hljs-property">end</span>)
                        <span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">push</span>.<span class="hljs-title function_">apply</span>(it.<span class="hljs-property">value</span>.<span class="hljs-property">end</span>, it.<span class="hljs-property">sep</span>);
                    <span class="hljs-keyword">else</span>
                        it.<span class="hljs-property">value</span>.<span class="hljs-property">end</span> = it.<span class="hljs-property">sep</span>;
                }
                <span class="hljs-keyword">else</span>
                    <span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">push</span>.<span class="hljs-title function_">apply</span>(it.<span class="hljs-property">start</span>, it.<span class="hljs-property">sep</span>);
                <span class="hljs-keyword">delete</span> it.<span class="hljs-property">sep</span>;
            }
        }
    }
}
<span class="hljs-comment">/**
 * A YAML concrete syntax tree (CST) parser
 *
 * ```ts
 * const src: string = ...
 * for (const token of new Parser().parse(src)) {
 *   // token: Token
 * }
 * ```
 *
 * To use the parser with a user-provided lexer:
 *
 * ```ts
 * function* parse(source: string, lexer: Lexer) {
 *   const parser = new Parser()
 *   for (const lexeme of lexer.lex(source))
 *     yield* parser.next(lexeme)
 *   yield* parser.end()
 * }
 *
 * const src: string = ...
 * const lexer = new Lexer()
 * for (const token of parse(src, lexer)) {
 *   // token: Token
 * }
 * ```
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">parser_Parser</span> {
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> <span class="hljs-variable">onNewLine</span> - If defined, called separately with the start position of
     *   each new line (in `parse()`, including the start of input).
     */</span>
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">onNewLine</span>) {
        <span class="hljs-comment">/** If true, space and sequence indicators count as indentation */</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">atNewLine</span> = <span class="hljs-literal">true</span>;
        <span class="hljs-comment">/** If true, next token is a scalar value */</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">atScalar</span> = <span class="hljs-literal">false</span>;
        <span class="hljs-comment">/** Current indentation level */</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">indent</span> = <span class="hljs-number">0</span>;
        <span class="hljs-comment">/** Current offset since the start of parsing */</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">offset</span> = <span class="hljs-number">0</span>;
        <span class="hljs-comment">/** On the same line with a block map key */</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">onKeyLine</span> = <span class="hljs-literal">false</span>;
        <span class="hljs-comment">/** Top indicates the node that&#x27;s currently being built */</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span> = [];
        <span class="hljs-comment">/** The source of the current token, set in parse() */</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">source</span> = <span class="hljs-string">&#x27;&#x27;</span>;
        <span class="hljs-comment">/** The type of the current token, set in parse() */</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> = <span class="hljs-string">&#x27;&#x27;</span>;
        <span class="hljs-comment">// Must be defined after `next()`</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">lexer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Lexer</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">onNewLine</span> = onNewLine;
    }
    <span class="hljs-comment">/**
     * Parse `source` as a YAML stream.
     * If `incomplete`, a part of the last line may be left as a buffer for the next call.
     *
     * Errors are not thrown, but yielded as `{ type: &#x27;error&#x27;, message }` tokens.
     *
     * <span class="hljs-doctag">@returns</span> A generator of tokens representing each directive, document, and other structure.
     */</span>
    *<span class="hljs-title function_">parse</span>(<span class="hljs-params">source, incomplete = <span class="hljs-literal">false</span></span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">onNewLine</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">offset</span> === <span class="hljs-number">0</span>)
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">onNewLine</span>(<span class="hljs-number">0</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> lexeme <span class="hljs-keyword">of</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">lexer</span>.<span class="hljs-title function_">lex</span>(source, incomplete))
            <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">next</span>(lexeme);
        <span class="hljs-keyword">if</span> (!incomplete)
            <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">end</span>();
    }
    <span class="hljs-comment">/**
     * Advance the parser by the `source` of one lexical token.
     */</span>
    *<span class="hljs-title function_">next</span>(<span class="hljs-params">source</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">source</span> = source;
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">atScalar</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">atScalar</span> = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">step</span>();
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">offset</span> += source.<span class="hljs-property">length</span>;
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">const</span> type = <span class="hljs-title function_">tokenType</span>(source);
        <span class="hljs-keyword">if</span> (!type) {
            <span class="hljs-keyword">const</span> message = <span class="hljs-string">`Not a YAML token: <span class="hljs-subst">${source}</span>`</span>;
            <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pop</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;error&#x27;</span>, <span class="hljs-attr">offset</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">offset</span>, message, source });
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">offset</span> += source.<span class="hljs-property">length</span>;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type === <span class="hljs-string">&#x27;scalar&#x27;</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">atNewLine</span> = <span class="hljs-literal">false</span>;
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">atScalar</span> = <span class="hljs-literal">true</span>;
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> = <span class="hljs-string">&#x27;scalar&#x27;</span>;
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> = type;
            <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">step</span>();
            <span class="hljs-keyword">switch</span> (type) {
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;newline&#x27;</span>:
                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">atNewLine</span> = <span class="hljs-literal">true</span>;
                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">indent</span> = <span class="hljs-number">0</span>;
                    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">onNewLine</span>)
                        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">onNewLine</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">offset</span> + source.<span class="hljs-property">length</span>);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;space&#x27;</span>:
                    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">atNewLine</span> &amp;&amp; source[<span class="hljs-number">0</span>] === <span class="hljs-string">&#x27; &#x27;</span>)
                        <span class="hljs-variable language_">this</span>.<span class="hljs-property">indent</span> += source.<span class="hljs-property">length</span>;
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;explicit-key-ind&#x27;</span>:
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;map-value-ind&#x27;</span>:
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;seq-item-ind&#x27;</span>:
                    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">atNewLine</span>)
                        <span class="hljs-variable language_">this</span>.<span class="hljs-property">indent</span> += source.<span class="hljs-property">length</span>;
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;doc-mode&#x27;</span>:
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;flow-error-end&#x27;</span>:
                    <span class="hljs-keyword">return</span>;
                <span class="hljs-attr">default</span>:
                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">atNewLine</span> = <span class="hljs-literal">false</span>;
            }
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">offset</span> += source.<span class="hljs-property">length</span>;
        }
    }
    <span class="hljs-comment">/** Call at end of input to push out any remaining constructions */</span>
    *<span class="hljs-title function_">end</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">while</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>)
            <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pop</span>();
    }
    <span class="hljs-keyword">get</span> <span class="hljs-title function_">sourceToken</span>() {
        <span class="hljs-keyword">const</span> st = {
            <span class="hljs-attr">type</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span>,
            <span class="hljs-attr">offset</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">offset</span>,
            <span class="hljs-attr">indent</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">indent</span>,
            <span class="hljs-attr">source</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">source</span>
        };
        <span class="hljs-keyword">return</span> st;
    }
    *<span class="hljs-title function_">step</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">const</span> top = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">peek</span>(<span class="hljs-number">1</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;doc-end&#x27;</span> &amp;&amp; (!top || top.<span class="hljs-property">type</span> !== <span class="hljs-string">&#x27;doc-end&#x27;</span>)) {
            <span class="hljs-keyword">while</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>)
                <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pop</span>();
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>.<span class="hljs-title function_">push</span>({
                <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;doc-end&#x27;</span>,
                <span class="hljs-attr">offset</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">offset</span>,
                <span class="hljs-attr">source</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">source</span>
            });
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (!top)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">stream</span>();
        <span class="hljs-keyword">switch</span> (top.<span class="hljs-property">type</span>) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;document&#x27;</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">document</span>(top);
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;alias&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;scalar&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;single-quoted-scalar&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;double-quoted-scalar&#x27;</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">scalar</span>(top);
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;block-scalar&#x27;</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">blockScalar</span>(top);
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;block-map&#x27;</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">blockMap</span>(top);
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;block-seq&#x27;</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">blockSequence</span>(top);
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;flow-collection&#x27;</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">flowCollection</span>(top);
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;doc-end&#x27;</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">documentEnd</span>(top);
        }
        <span class="hljs-comment">/* istanbul ignore next should not happen */</span>
        <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pop</span>();
    }
    <span class="hljs-title function_">peek</span>(<span class="hljs-params">n</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>.<span class="hljs-property">length</span> - n];
    }
    *<span class="hljs-title function_">pop</span>(<span class="hljs-params">error</span>) {
        <span class="hljs-keyword">const</span> token = error ?? <span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>.<span class="hljs-title function_">pop</span>();
        <span class="hljs-comment">/* istanbul ignore if should not happen */</span>
        <span class="hljs-keyword">if</span> (!token) {
            <span class="hljs-keyword">const</span> message = <span class="hljs-string">&#x27;Tried to pop an empty stack&#x27;</span>;
            <span class="hljs-keyword">yield</span> { <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;error&#x27;</span>, <span class="hljs-attr">offset</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">offset</span>, <span class="hljs-attr">source</span>: <span class="hljs-string">&#x27;&#x27;</span>, message };
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">yield</span> token;
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">const</span> top = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">peek</span>(<span class="hljs-number">1</span>);
            <span class="hljs-keyword">if</span> (token.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;block-scalar&#x27;</span>) {
                <span class="hljs-comment">// Block scalars use their parent rather than header indent</span>
                token.<span class="hljs-property">indent</span> = <span class="hljs-string">&#x27;indent&#x27;</span> <span class="hljs-keyword">in</span> top ? top.<span class="hljs-property">indent</span> : <span class="hljs-number">0</span>;
            }
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (token.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;flow-collection&#x27;</span> &amp;&amp; top.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;document&#x27;</span>) {
                <span class="hljs-comment">// Ignore all indent for top-level flow collections</span>
                token.<span class="hljs-property">indent</span> = <span class="hljs-number">0</span>;
            }
            <span class="hljs-keyword">if</span> (token.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;flow-collection&#x27;</span>)
                <span class="hljs-title function_">fixFlowSeqItems</span>(token);
            <span class="hljs-keyword">switch</span> (top.<span class="hljs-property">type</span>) {
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;document&#x27;</span>:
                    top.<span class="hljs-property">value</span> = token;
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;block-scalar&#x27;</span>:
                    top.<span class="hljs-property">props</span>.<span class="hljs-title function_">push</span>(token); <span class="hljs-comment">// error</span>
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;block-map&#x27;</span>: {
                    <span class="hljs-keyword">const</span> it = top.<span class="hljs-property">items</span>[top.<span class="hljs-property">items</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>];
                    <span class="hljs-keyword">if</span> (it.<span class="hljs-property">value</span>) {
                        top.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">start</span>: [], <span class="hljs-attr">key</span>: token, <span class="hljs-attr">sep</span>: [] });
                        <span class="hljs-variable language_">this</span>.<span class="hljs-property">onKeyLine</span> = <span class="hljs-literal">true</span>;
                        <span class="hljs-keyword">return</span>;
                    }
                    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (it.<span class="hljs-property">sep</span>) {
                        it.<span class="hljs-property">value</span> = token;
                    }
                    <span class="hljs-keyword">else</span> {
                        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(it, { <span class="hljs-attr">key</span>: token, <span class="hljs-attr">sep</span>: [] });
                        <span class="hljs-variable language_">this</span>.<span class="hljs-property">onKeyLine</span> = !<span class="hljs-title function_">includesToken</span>(it.<span class="hljs-property">start</span>, <span class="hljs-string">&#x27;explicit-key-ind&#x27;</span>);
                        <span class="hljs-keyword">return</span>;
                    }
                    <span class="hljs-keyword">break</span>;
                }
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;block-seq&#x27;</span>: {
                    <span class="hljs-keyword">const</span> it = top.<span class="hljs-property">items</span>[top.<span class="hljs-property">items</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>];
                    <span class="hljs-keyword">if</span> (it.<span class="hljs-property">value</span>)
                        top.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">start</span>: [], <span class="hljs-attr">value</span>: token });
                    <span class="hljs-keyword">else</span>
                        it.<span class="hljs-property">value</span> = token;
                    <span class="hljs-keyword">break</span>;
                }
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;flow-collection&#x27;</span>: {
                    <span class="hljs-keyword">const</span> it = top.<span class="hljs-property">items</span>[top.<span class="hljs-property">items</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>];
                    <span class="hljs-keyword">if</span> (!it || it.<span class="hljs-property">value</span>)
                        top.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">start</span>: [], <span class="hljs-attr">key</span>: token, <span class="hljs-attr">sep</span>: [] });
                    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (it.<span class="hljs-property">sep</span>)
                        it.<span class="hljs-property">value</span> = token;
                    <span class="hljs-keyword">else</span>
                        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(it, { <span class="hljs-attr">key</span>: token, <span class="hljs-attr">sep</span>: [] });
                    <span class="hljs-keyword">return</span>;
                }
                <span class="hljs-comment">/* istanbul ignore next should not happen */</span>
                <span class="hljs-attr">default</span>:
                    <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pop</span>();
                    <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pop</span>(token);
            }
            <span class="hljs-keyword">if</span> ((top.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;document&#x27;</span> ||
                top.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;block-map&#x27;</span> ||
                top.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;block-seq&#x27;</span>) &amp;&amp;
                (token.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;block-map&#x27;</span> || token.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;block-seq&#x27;</span>)) {
                <span class="hljs-keyword">const</span> last = token.<span class="hljs-property">items</span>[token.<span class="hljs-property">items</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>];
                <span class="hljs-keyword">if</span> (last &amp;&amp;
                    !last.<span class="hljs-property">sep</span> &amp;&amp;
                    !last.<span class="hljs-property">value</span> &amp;&amp;
                    last.<span class="hljs-property">start</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> &amp;&amp;
                    <span class="hljs-title function_">findNonEmptyIndex</span>(last.<span class="hljs-property">start</span>) === -<span class="hljs-number">1</span> &amp;&amp;
                    (token.<span class="hljs-property">indent</span> === <span class="hljs-number">0</span> ||
                        last.<span class="hljs-property">start</span>.<span class="hljs-title function_">every</span>(<span class="hljs-function"><span class="hljs-params">st</span> =&gt;</span> st.<span class="hljs-property">type</span> !== <span class="hljs-string">&#x27;comment&#x27;</span> || st.<span class="hljs-property">indent</span> &lt; token.<span class="hljs-property">indent</span>))) {
                    <span class="hljs-keyword">if</span> (top.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;document&#x27;</span>)
                        top.<span class="hljs-property">end</span> = last.<span class="hljs-property">start</span>;
                    <span class="hljs-keyword">else</span>
                        top.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">start</span>: last.<span class="hljs-property">start</span> });
                    token.<span class="hljs-property">items</span>.<span class="hljs-title function_">splice</span>(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);
                }
            }
        }
    }
    *<span class="hljs-title function_">stream</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">switch</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span>) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;directive-line&#x27;</span>:
                <span class="hljs-keyword">yield</span> { <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;directive&#x27;</span>, <span class="hljs-attr">offset</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">offset</span>, <span class="hljs-attr">source</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">source</span> };
                <span class="hljs-keyword">return</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;byte-order-mark&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;space&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;comment&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;newline&#x27;</span>:
                <span class="hljs-keyword">yield</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>;
                <span class="hljs-keyword">return</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;doc-mode&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;doc-start&#x27;</span>: {
                <span class="hljs-keyword">const</span> doc = {
                    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;document&#x27;</span>,
                    <span class="hljs-attr">offset</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">offset</span>,
                    <span class="hljs-attr">start</span>: []
                };
                <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;doc-start&#x27;</span>)
                    doc.<span class="hljs-property">start</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>.<span class="hljs-title function_">push</span>(doc);
                <span class="hljs-keyword">return</span>;
            }
        }
        <span class="hljs-keyword">yield</span> {
            <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;error&#x27;</span>,
            <span class="hljs-attr">offset</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">offset</span>,
            <span class="hljs-attr">message</span>: <span class="hljs-string">`Unexpected <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.type}</span> token in YAML stream`</span>,
            <span class="hljs-attr">source</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">source</span>
        };
    }
    *<span class="hljs-title function_">document</span>(<span class="hljs-params">doc</span>) {
        <span class="hljs-keyword">if</span> (doc.<span class="hljs-property">value</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">lineEnd</span>(doc);
        <span class="hljs-keyword">switch</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span>) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;doc-start&#x27;</span>: {
                <span class="hljs-keyword">if</span> (<span class="hljs-title function_">findNonEmptyIndex</span>(doc.<span class="hljs-property">start</span>) !== -<span class="hljs-number">1</span>) {
                    <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pop</span>();
                    <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">step</span>();
                }
                <span class="hljs-keyword">else</span>
                    doc.<span class="hljs-property">start</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;anchor&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;tag&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;space&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;comment&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;newline&#x27;</span>:
                doc.<span class="hljs-property">start</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">const</span> bv = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">startBlockValue</span>(doc);
        <span class="hljs-keyword">if</span> (bv)
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>.<span class="hljs-title function_">push</span>(bv);
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">yield</span> {
                <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;error&#x27;</span>,
                <span class="hljs-attr">offset</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">offset</span>,
                <span class="hljs-attr">message</span>: <span class="hljs-string">`Unexpected <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.type}</span> token in YAML document`</span>,
                <span class="hljs-attr">source</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">source</span>
            };
        }
    }
    *<span class="hljs-title function_">scalar</span>(<span class="hljs-params">scalar</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;map-value-ind&#x27;</span>) {
            <span class="hljs-keyword">const</span> prev = <span class="hljs-title function_">getPrevProps</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">peek</span>(<span class="hljs-number">2</span>));
            <span class="hljs-keyword">const</span> start = <span class="hljs-title function_">getFirstKeyStartProps</span>(prev);
            <span class="hljs-keyword">let</span> sep;
            <span class="hljs-keyword">if</span> (scalar.<span class="hljs-property">end</span>) {
                sep = scalar.<span class="hljs-property">end</span>;
                sep.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                <span class="hljs-keyword">delete</span> scalar.<span class="hljs-property">end</span>;
            }
            <span class="hljs-keyword">else</span>
                sep = [<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>];
            <span class="hljs-keyword">const</span> map = {
                <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;block-map&#x27;</span>,
                <span class="hljs-attr">offset</span>: scalar.<span class="hljs-property">offset</span>,
                <span class="hljs-attr">indent</span>: scalar.<span class="hljs-property">indent</span>,
                <span class="hljs-attr">items</span>: [{ start, <span class="hljs-attr">key</span>: scalar, sep }]
            };
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">onKeyLine</span> = <span class="hljs-literal">true</span>;
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>] = map;
        }
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">lineEnd</span>(scalar);
    }
    *<span class="hljs-title function_">blockScalar</span>(<span class="hljs-params">scalar</span>) {
        <span class="hljs-keyword">switch</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span>) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;space&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;comment&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;newline&#x27;</span>:
                scalar.<span class="hljs-property">props</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                <span class="hljs-keyword">return</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;scalar&#x27;</span>:
                scalar.<span class="hljs-property">source</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">source</span>;
                <span class="hljs-comment">// block-scalar source includes trailing newline</span>
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">atNewLine</span> = <span class="hljs-literal">true</span>;
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">indent</span> = <span class="hljs-number">0</span>;
                <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">onNewLine</span>) {
                    <span class="hljs-keyword">let</span> nl = <span class="hljs-variable language_">this</span>.<span class="hljs-property">source</span>.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;\n&#x27;</span>) + <span class="hljs-number">1</span>;
                    <span class="hljs-keyword">while</span> (nl !== <span class="hljs-number">0</span>) {
                        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">onNewLine</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">offset</span> + nl);
                        nl = <span class="hljs-variable language_">this</span>.<span class="hljs-property">source</span>.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;\n&#x27;</span>, nl) + <span class="hljs-number">1</span>;
                    }
                }
                <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pop</span>();
                <span class="hljs-keyword">break</span>;
            <span class="hljs-comment">/* istanbul ignore next should not happen */</span>
            <span class="hljs-attr">default</span>:
                <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pop</span>();
                <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">step</span>();
        }
    }
    *<span class="hljs-title function_">blockMap</span>(<span class="hljs-params">map</span>) {
        <span class="hljs-keyword">const</span> it = map.<span class="hljs-property">items</span>[map.<span class="hljs-property">items</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>];
        <span class="hljs-comment">// it.sep is true-ish if pair already has key or : separator</span>
        <span class="hljs-keyword">switch</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span>) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;newline&#x27;</span>:
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">onKeyLine</span> = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">if</span> (it.<span class="hljs-property">value</span>) {
                    <span class="hljs-keyword">const</span> end = <span class="hljs-string">&#x27;end&#x27;</span> <span class="hljs-keyword">in</span> it.<span class="hljs-property">value</span> ? it.<span class="hljs-property">value</span>.<span class="hljs-property">end</span> : <span class="hljs-literal">undefined</span>;
                    <span class="hljs-keyword">const</span> last = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(end) ? end[end.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>] : <span class="hljs-literal">undefined</span>;
                    <span class="hljs-keyword">if</span> (last?.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;comment&#x27;</span>)
                        end?.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                    <span class="hljs-keyword">else</span>
                        map.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">start</span>: [<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>] });
                }
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (it.<span class="hljs-property">sep</span>) {
                    it.<span class="hljs-property">sep</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                }
                <span class="hljs-keyword">else</span> {
                    it.<span class="hljs-property">start</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                }
                <span class="hljs-keyword">return</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;space&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;comment&#x27;</span>:
                <span class="hljs-keyword">if</span> (it.<span class="hljs-property">value</span>) {
                    map.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">start</span>: [<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>] });
                }
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (it.<span class="hljs-property">sep</span>) {
                    it.<span class="hljs-property">sep</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                }
                <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">atIndentedComment</span>(it.<span class="hljs-property">start</span>, map.<span class="hljs-property">indent</span>)) {
                        <span class="hljs-keyword">const</span> prev = map.<span class="hljs-property">items</span>[map.<span class="hljs-property">items</span>.<span class="hljs-property">length</span> - <span class="hljs-number">2</span>];
                        <span class="hljs-keyword">const</span> end = prev?.<span class="hljs-property">value</span>?.<span class="hljs-property">end</span>;
                        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(end)) {
                            <span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">push</span>.<span class="hljs-title function_">apply</span>(end, it.<span class="hljs-property">start</span>);
                            end.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                            map.<span class="hljs-property">items</span>.<span class="hljs-title function_">pop</span>();
                            <span class="hljs-keyword">return</span>;
                        }
                    }
                    it.<span class="hljs-property">start</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                }
                <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">indent</span> &gt;= map.<span class="hljs-property">indent</span>) {
            <span class="hljs-keyword">const</span> atNextItem = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">onKeyLine</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">indent</span> === map.<span class="hljs-property">indent</span> &amp;&amp; it.<span class="hljs-property">sep</span>;
            <span class="hljs-comment">// For empty nodes, assign newline-separated not indented empty tokens to following node</span>
            <span class="hljs-keyword">let</span> start = [];
            <span class="hljs-keyword">if</span> (atNextItem &amp;&amp; it.<span class="hljs-property">sep</span> &amp;&amp; !it.<span class="hljs-property">value</span>) {
                <span class="hljs-keyword">const</span> nl = [];
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; it.<span class="hljs-property">sep</span>.<span class="hljs-property">length</span>; ++i) {
                    <span class="hljs-keyword">const</span> st = it.<span class="hljs-property">sep</span>[i];
                    <span class="hljs-keyword">switch</span> (st.<span class="hljs-property">type</span>) {
                        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;newline&#x27;</span>:
                            nl.<span class="hljs-title function_">push</span>(i);
                            <span class="hljs-keyword">break</span>;
                        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;space&#x27;</span>:
                            <span class="hljs-keyword">break</span>;
                        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;comment&#x27;</span>:
                            <span class="hljs-keyword">if</span> (st.<span class="hljs-property">indent</span> &gt; map.<span class="hljs-property">indent</span>)
                                nl.<span class="hljs-property">length</span> = <span class="hljs-number">0</span>;
                            <span class="hljs-keyword">break</span>;
                        <span class="hljs-attr">default</span>:
                            nl.<span class="hljs-property">length</span> = <span class="hljs-number">0</span>;
                    }
                }
                <span class="hljs-keyword">if</span> (nl.<span class="hljs-property">length</span> &gt;= <span class="hljs-number">2</span>)
                    start = it.<span class="hljs-property">sep</span>.<span class="hljs-title function_">splice</span>(nl[<span class="hljs-number">1</span>]);
            }
            <span class="hljs-keyword">switch</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span>) {
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;anchor&#x27;</span>:
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;tag&#x27;</span>:
                    <span class="hljs-keyword">if</span> (atNextItem || it.<span class="hljs-property">value</span>) {
                        start.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                        map.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>({ start });
                        <span class="hljs-variable language_">this</span>.<span class="hljs-property">onKeyLine</span> = <span class="hljs-literal">true</span>;
                    }
                    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (it.<span class="hljs-property">sep</span>) {
                        it.<span class="hljs-property">sep</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                    }
                    <span class="hljs-keyword">else</span> {
                        it.<span class="hljs-property">start</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                    }
                    <span class="hljs-keyword">return</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;explicit-key-ind&#x27;</span>:
                    <span class="hljs-keyword">if</span> (!it.<span class="hljs-property">sep</span> &amp;&amp; !<span class="hljs-title function_">includesToken</span>(it.<span class="hljs-property">start</span>, <span class="hljs-string">&#x27;explicit-key-ind&#x27;</span>)) {
                        it.<span class="hljs-property">start</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                    }
                    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (atNextItem || it.<span class="hljs-property">value</span>) {
                        start.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                        map.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>({ start });
                    }
                    <span class="hljs-keyword">else</span> {
                        <span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>.<span class="hljs-title function_">push</span>({
                            <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;block-map&#x27;</span>,
                            <span class="hljs-attr">offset</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">offset</span>,
                            <span class="hljs-attr">indent</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">indent</span>,
                            <span class="hljs-attr">items</span>: [{ <span class="hljs-attr">start</span>: [<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>] }]
                        });
                    }
                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">onKeyLine</span> = <span class="hljs-literal">true</span>;
                    <span class="hljs-keyword">return</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;map-value-ind&#x27;</span>:
                    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">includesToken</span>(it.<span class="hljs-property">start</span>, <span class="hljs-string">&#x27;explicit-key-ind&#x27;</span>)) {
                        <span class="hljs-keyword">if</span> (!it.<span class="hljs-property">sep</span>) {
                            <span class="hljs-keyword">if</span> (<span class="hljs-title function_">includesToken</span>(it.<span class="hljs-property">start</span>, <span class="hljs-string">&#x27;newline&#x27;</span>)) {
                                <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(it, { <span class="hljs-attr">key</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">sep</span>: [<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>] });
                            }
                            <span class="hljs-keyword">else</span> {
                                <span class="hljs-keyword">const</span> start = <span class="hljs-title function_">getFirstKeyStartProps</span>(it.<span class="hljs-property">start</span>);
                                <span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>.<span class="hljs-title function_">push</span>({
                                    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;block-map&#x27;</span>,
                                    <span class="hljs-attr">offset</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">offset</span>,
                                    <span class="hljs-attr">indent</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">indent</span>,
                                    <span class="hljs-attr">items</span>: [{ start, <span class="hljs-attr">key</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">sep</span>: [<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>] }]
                                });
                            }
                        }
                        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (it.<span class="hljs-property">value</span>) {
                            map.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">start</span>: [], <span class="hljs-attr">key</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">sep</span>: [<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>] });
                        }
                        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title function_">includesToken</span>(it.<span class="hljs-property">sep</span>, <span class="hljs-string">&#x27;map-value-ind&#x27;</span>)) {
                            <span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>.<span class="hljs-title function_">push</span>({
                                <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;block-map&#x27;</span>,
                                <span class="hljs-attr">offset</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">offset</span>,
                                <span class="hljs-attr">indent</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">indent</span>,
                                <span class="hljs-attr">items</span>: [{ start, <span class="hljs-attr">key</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">sep</span>: [<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>] }]
                            });
                        }
                        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isFlowToken</span>(it.<span class="hljs-property">key</span>) &amp;&amp;
                            !<span class="hljs-title function_">includesToken</span>(it.<span class="hljs-property">sep</span>, <span class="hljs-string">&#x27;newline&#x27;</span>)) {
                            <span class="hljs-keyword">const</span> start = <span class="hljs-title function_">getFirstKeyStartProps</span>(it.<span class="hljs-property">start</span>);
                            <span class="hljs-keyword">const</span> key = it.<span class="hljs-property">key</span>;
                            <span class="hljs-keyword">const</span> sep = it.<span class="hljs-property">sep</span>;
                            sep.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                            <span class="hljs-comment">// @ts-expect-error type guard is wrong here</span>
                            <span class="hljs-keyword">delete</span> it.<span class="hljs-property">key</span>, <span class="hljs-keyword">delete</span> it.<span class="hljs-property">sep</span>;
                            <span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>.<span class="hljs-title function_">push</span>({
                                <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;block-map&#x27;</span>,
                                <span class="hljs-attr">offset</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">offset</span>,
                                <span class="hljs-attr">indent</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">indent</span>,
                                <span class="hljs-attr">items</span>: [{ start, key, sep }]
                            });
                        }
                        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (start.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
                            <span class="hljs-comment">// Not actually at next item</span>
                            it.<span class="hljs-property">sep</span> = it.<span class="hljs-property">sep</span>.<span class="hljs-title function_">concat</span>(start, <span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                        }
                        <span class="hljs-keyword">else</span> {
                            it.<span class="hljs-property">sep</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                        }
                    }
                    <span class="hljs-keyword">else</span> {
                        <span class="hljs-keyword">if</span> (!it.<span class="hljs-property">sep</span>) {
                            <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(it, { <span class="hljs-attr">key</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">sep</span>: [<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>] });
                        }
                        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (it.<span class="hljs-property">value</span> || atNextItem) {
                            map.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>({ start, <span class="hljs-attr">key</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">sep</span>: [<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>] });
                        }
                        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title function_">includesToken</span>(it.<span class="hljs-property">sep</span>, <span class="hljs-string">&#x27;map-value-ind&#x27;</span>)) {
                            <span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>.<span class="hljs-title function_">push</span>({
                                <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;block-map&#x27;</span>,
                                <span class="hljs-attr">offset</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">offset</span>,
                                <span class="hljs-attr">indent</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">indent</span>,
                                <span class="hljs-attr">items</span>: [{ <span class="hljs-attr">start</span>: [], <span class="hljs-attr">key</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">sep</span>: [<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>] }]
                            });
                        }
                        <span class="hljs-keyword">else</span> {
                            it.<span class="hljs-property">sep</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                        }
                    }
                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">onKeyLine</span> = <span class="hljs-literal">true</span>;
                    <span class="hljs-keyword">return</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;alias&#x27;</span>:
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;scalar&#x27;</span>:
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;single-quoted-scalar&#x27;</span>:
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;double-quoted-scalar&#x27;</span>: {
                    <span class="hljs-keyword">const</span> fs = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">flowScalar</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span>);
                    <span class="hljs-keyword">if</span> (atNextItem || it.<span class="hljs-property">value</span>) {
                        map.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>({ start, <span class="hljs-attr">key</span>: fs, <span class="hljs-attr">sep</span>: [] });
                        <span class="hljs-variable language_">this</span>.<span class="hljs-property">onKeyLine</span> = <span class="hljs-literal">true</span>;
                    }
                    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (it.<span class="hljs-property">sep</span>) {
                        <span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>.<span class="hljs-title function_">push</span>(fs);
                    }
                    <span class="hljs-keyword">else</span> {
                        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(it, { <span class="hljs-attr">key</span>: fs, <span class="hljs-attr">sep</span>: [] });
                        <span class="hljs-variable language_">this</span>.<span class="hljs-property">onKeyLine</span> = <span class="hljs-literal">true</span>;
                    }
                    <span class="hljs-keyword">return</span>;
                }
                <span class="hljs-attr">default</span>: {
                    <span class="hljs-keyword">const</span> bv = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">startBlockValue</span>(map);
                    <span class="hljs-keyword">if</span> (bv) {
                        <span class="hljs-keyword">if</span> (atNextItem &amp;&amp;
                            bv.<span class="hljs-property">type</span> !== <span class="hljs-string">&#x27;block-seq&#x27;</span> &amp;&amp;
                            <span class="hljs-title function_">includesToken</span>(it.<span class="hljs-property">start</span>, <span class="hljs-string">&#x27;explicit-key-ind&#x27;</span>)) {
                            map.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>({ start });
                        }
                        <span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>.<span class="hljs-title function_">push</span>(bv);
                        <span class="hljs-keyword">return</span>;
                    }
                }
            }
        }
        <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pop</span>();
        <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">step</span>();
    }
    *<span class="hljs-title function_">blockSequence</span>(<span class="hljs-params">seq</span>) {
        <span class="hljs-keyword">const</span> it = seq.<span class="hljs-property">items</span>[seq.<span class="hljs-property">items</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>];
        <span class="hljs-keyword">switch</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span>) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;newline&#x27;</span>:
                <span class="hljs-keyword">if</span> (it.<span class="hljs-property">value</span>) {
                    <span class="hljs-keyword">const</span> end = <span class="hljs-string">&#x27;end&#x27;</span> <span class="hljs-keyword">in</span> it.<span class="hljs-property">value</span> ? it.<span class="hljs-property">value</span>.<span class="hljs-property">end</span> : <span class="hljs-literal">undefined</span>;
                    <span class="hljs-keyword">const</span> last = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(end) ? end[end.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>] : <span class="hljs-literal">undefined</span>;
                    <span class="hljs-keyword">if</span> (last?.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;comment&#x27;</span>)
                        end?.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                    <span class="hljs-keyword">else</span>
                        seq.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">start</span>: [<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>] });
                }
                <span class="hljs-keyword">else</span>
                    it.<span class="hljs-property">start</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                <span class="hljs-keyword">return</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;space&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;comment&#x27;</span>:
                <span class="hljs-keyword">if</span> (it.<span class="hljs-property">value</span>)
                    seq.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">start</span>: [<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>] });
                <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">atIndentedComment</span>(it.<span class="hljs-property">start</span>, seq.<span class="hljs-property">indent</span>)) {
                        <span class="hljs-keyword">const</span> prev = seq.<span class="hljs-property">items</span>[seq.<span class="hljs-property">items</span>.<span class="hljs-property">length</span> - <span class="hljs-number">2</span>];
                        <span class="hljs-keyword">const</span> end = prev?.<span class="hljs-property">value</span>?.<span class="hljs-property">end</span>;
                        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(end)) {
                            <span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">push</span>.<span class="hljs-title function_">apply</span>(end, it.<span class="hljs-property">start</span>);
                            end.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                            seq.<span class="hljs-property">items</span>.<span class="hljs-title function_">pop</span>();
                            <span class="hljs-keyword">return</span>;
                        }
                    }
                    it.<span class="hljs-property">start</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                }
                <span class="hljs-keyword">return</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;anchor&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;tag&#x27;</span>:
                <span class="hljs-keyword">if</span> (it.<span class="hljs-property">value</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">indent</span> &lt;= seq.<span class="hljs-property">indent</span>)
                    <span class="hljs-keyword">break</span>;
                it.<span class="hljs-property">start</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                <span class="hljs-keyword">return</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;seq-item-ind&#x27;</span>:
                <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">indent</span> !== seq.<span class="hljs-property">indent</span>)
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">if</span> (it.<span class="hljs-property">value</span> || <span class="hljs-title function_">includesToken</span>(it.<span class="hljs-property">start</span>, <span class="hljs-string">&#x27;seq-item-ind&#x27;</span>))
                    seq.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">start</span>: [<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>] });
                <span class="hljs-keyword">else</span>
                    it.<span class="hljs-property">start</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">indent</span> &gt; seq.<span class="hljs-property">indent</span>) {
            <span class="hljs-keyword">const</span> bv = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">startBlockValue</span>(seq);
            <span class="hljs-keyword">if</span> (bv) {
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>.<span class="hljs-title function_">push</span>(bv);
                <span class="hljs-keyword">return</span>;
            }
        }
        <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pop</span>();
        <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">step</span>();
    }
    *<span class="hljs-title function_">flowCollection</span>(<span class="hljs-params">fc</span>) {
        <span class="hljs-keyword">const</span> it = fc.<span class="hljs-property">items</span>[fc.<span class="hljs-property">items</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>];
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;flow-error-end&#x27;</span>) {
            <span class="hljs-keyword">let</span> top;
            <span class="hljs-keyword">do</span> {
                <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pop</span>();
                top = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">peek</span>(<span class="hljs-number">1</span>);
            } <span class="hljs-keyword">while</span> (top &amp;&amp; top.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;flow-collection&#x27;</span>);
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (fc.<span class="hljs-property">end</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">switch</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span>) {
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;comma&#x27;</span>:
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;explicit-key-ind&#x27;</span>:
                    <span class="hljs-keyword">if</span> (!it || it.<span class="hljs-property">sep</span>)
                        fc.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">start</span>: [<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>] });
                    <span class="hljs-keyword">else</span>
                        it.<span class="hljs-property">start</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                    <span class="hljs-keyword">return</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;map-value-ind&#x27;</span>:
                    <span class="hljs-keyword">if</span> (!it || it.<span class="hljs-property">value</span>)
                        fc.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">start</span>: [], <span class="hljs-attr">key</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">sep</span>: [<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>] });
                    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (it.<span class="hljs-property">sep</span>)
                        it.<span class="hljs-property">sep</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                    <span class="hljs-keyword">else</span>
                        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(it, { <span class="hljs-attr">key</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">sep</span>: [<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>] });
                    <span class="hljs-keyword">return</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;space&#x27;</span>:
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;comment&#x27;</span>:
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;newline&#x27;</span>:
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;anchor&#x27;</span>:
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;tag&#x27;</span>:
                    <span class="hljs-keyword">if</span> (!it || it.<span class="hljs-property">value</span>)
                        fc.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">start</span>: [<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>] });
                    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (it.<span class="hljs-property">sep</span>)
                        it.<span class="hljs-property">sep</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                    <span class="hljs-keyword">else</span>
                        it.<span class="hljs-property">start</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                    <span class="hljs-keyword">return</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;alias&#x27;</span>:
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;scalar&#x27;</span>:
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;single-quoted-scalar&#x27;</span>:
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;double-quoted-scalar&#x27;</span>: {
                    <span class="hljs-keyword">const</span> fs = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">flowScalar</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span>);
                    <span class="hljs-keyword">if</span> (!it || it.<span class="hljs-property">value</span>)
                        fc.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">start</span>: [], <span class="hljs-attr">key</span>: fs, <span class="hljs-attr">sep</span>: [] });
                    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (it.<span class="hljs-property">sep</span>)
                        <span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>.<span class="hljs-title function_">push</span>(fs);
                    <span class="hljs-keyword">else</span>
                        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(it, { <span class="hljs-attr">key</span>: fs, <span class="hljs-attr">sep</span>: [] });
                    <span class="hljs-keyword">return</span>;
                }
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;flow-map-end&#x27;</span>:
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;flow-seq-end&#x27;</span>:
                    fc.<span class="hljs-property">end</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                    <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">const</span> bv = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">startBlockValue</span>(fc);
            <span class="hljs-comment">/* istanbul ignore else should not happen */</span>
            <span class="hljs-keyword">if</span> (bv)
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>.<span class="hljs-title function_">push</span>(bv);
            <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pop</span>();
                <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">step</span>();
            }
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">const</span> parent = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">peek</span>(<span class="hljs-number">2</span>);
            <span class="hljs-keyword">if</span> (parent.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;block-map&#x27;</span> &amp;&amp;
                ((<span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;map-value-ind&#x27;</span> &amp;&amp; parent.<span class="hljs-property">indent</span> === fc.<span class="hljs-property">indent</span>) ||
                    (<span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;newline&#x27;</span> &amp;&amp;
                        !parent.<span class="hljs-property">items</span>[parent.<span class="hljs-property">items</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>].<span class="hljs-property">sep</span>))) {
                <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pop</span>();
                <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">step</span>();
            }
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;map-value-ind&#x27;</span> &amp;&amp;
                parent.<span class="hljs-property">type</span> !== <span class="hljs-string">&#x27;flow-collection&#x27;</span>) {
                <span class="hljs-keyword">const</span> prev = <span class="hljs-title function_">getPrevProps</span>(parent);
                <span class="hljs-keyword">const</span> start = <span class="hljs-title function_">getFirstKeyStartProps</span>(prev);
                <span class="hljs-title function_">fixFlowSeqItems</span>(fc);
                <span class="hljs-keyword">const</span> sep = fc.<span class="hljs-property">end</span>.<span class="hljs-title function_">splice</span>(<span class="hljs-number">1</span>, fc.<span class="hljs-property">end</span>.<span class="hljs-property">length</span>);
                sep.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                <span class="hljs-keyword">const</span> map = {
                    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;block-map&#x27;</span>,
                    <span class="hljs-attr">offset</span>: fc.<span class="hljs-property">offset</span>,
                    <span class="hljs-attr">indent</span>: fc.<span class="hljs-property">indent</span>,
                    <span class="hljs-attr">items</span>: [{ start, <span class="hljs-attr">key</span>: fc, sep }]
                };
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">onKeyLine</span> = <span class="hljs-literal">true</span>;
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">stack</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>] = map;
            }
            <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">lineEnd</span>(fc);
            }
        }
    }
    <span class="hljs-title function_">flowScalar</span>(<span class="hljs-params">type</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">onNewLine</span>) {
            <span class="hljs-keyword">let</span> nl = <span class="hljs-variable language_">this</span>.<span class="hljs-property">source</span>.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;\n&#x27;</span>) + <span class="hljs-number">1</span>;
            <span class="hljs-keyword">while</span> (nl !== <span class="hljs-number">0</span>) {
                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">onNewLine</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">offset</span> + nl);
                nl = <span class="hljs-variable language_">this</span>.<span class="hljs-property">source</span>.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;\n&#x27;</span>, nl) + <span class="hljs-number">1</span>;
            }
        }
        <span class="hljs-keyword">return</span> {
            type,
            <span class="hljs-attr">offset</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">offset</span>,
            <span class="hljs-attr">indent</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">indent</span>,
            <span class="hljs-attr">source</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">source</span>
        };
    }
    <span class="hljs-title function_">startBlockValue</span>(<span class="hljs-params">parent</span>) {
        <span class="hljs-keyword">switch</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span>) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;alias&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;scalar&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;single-quoted-scalar&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;double-quoted-scalar&#x27;</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">flowScalar</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span>);
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;block-scalar-header&#x27;</span>:
                <span class="hljs-keyword">return</span> {
                    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;block-scalar&#x27;</span>,
                    <span class="hljs-attr">offset</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">offset</span>,
                    <span class="hljs-attr">indent</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">indent</span>,
                    <span class="hljs-attr">props</span>: [<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>],
                    <span class="hljs-attr">source</span>: <span class="hljs-string">&#x27;&#x27;</span>
                };
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;flow-map-start&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;flow-seq-start&#x27;</span>:
                <span class="hljs-keyword">return</span> {
                    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;flow-collection&#x27;</span>,
                    <span class="hljs-attr">offset</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">offset</span>,
                    <span class="hljs-attr">indent</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">indent</span>,
                    <span class="hljs-attr">start</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>,
                    <span class="hljs-attr">items</span>: [],
                    <span class="hljs-attr">end</span>: []
                };
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;seq-item-ind&#x27;</span>:
                <span class="hljs-keyword">return</span> {
                    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;block-seq&#x27;</span>,
                    <span class="hljs-attr">offset</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">offset</span>,
                    <span class="hljs-attr">indent</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">indent</span>,
                    <span class="hljs-attr">items</span>: [{ <span class="hljs-attr">start</span>: [<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>] }]
                };
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;explicit-key-ind&#x27;</span>: {
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">onKeyLine</span> = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">const</span> prev = <span class="hljs-title function_">getPrevProps</span>(parent);
                <span class="hljs-keyword">const</span> start = <span class="hljs-title function_">getFirstKeyStartProps</span>(prev);
                start.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                <span class="hljs-keyword">return</span> {
                    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;block-map&#x27;</span>,
                    <span class="hljs-attr">offset</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">offset</span>,
                    <span class="hljs-attr">indent</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">indent</span>,
                    <span class="hljs-attr">items</span>: [{ start }]
                };
            }
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;map-value-ind&#x27;</span>: {
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">onKeyLine</span> = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">const</span> prev = <span class="hljs-title function_">getPrevProps</span>(parent);
                <span class="hljs-keyword">const</span> start = <span class="hljs-title function_">getFirstKeyStartProps</span>(prev);
                <span class="hljs-keyword">return</span> {
                    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;block-map&#x27;</span>,
                    <span class="hljs-attr">offset</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">offset</span>,
                    <span class="hljs-attr">indent</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">indent</span>,
                    <span class="hljs-attr">items</span>: [{ start, <span class="hljs-attr">key</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">sep</span>: [<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>] }]
                };
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
    <span class="hljs-title function_">atIndentedComment</span>(<span class="hljs-params">start, indent</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> !== <span class="hljs-string">&#x27;comment&#x27;</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">indent</span> &lt;= indent)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span> start.<span class="hljs-title function_">every</span>(<span class="hljs-function"><span class="hljs-params">st</span> =&gt;</span> st.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;newline&#x27;</span> || st.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;space&#x27;</span>);
    }
    *<span class="hljs-title function_">documentEnd</span>(<span class="hljs-params">docEnd</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> !== <span class="hljs-string">&#x27;doc-mode&#x27;</span>) {
            <span class="hljs-keyword">if</span> (docEnd.<span class="hljs-property">end</span>)
                docEnd.<span class="hljs-property">end</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
            <span class="hljs-keyword">else</span>
                docEnd.<span class="hljs-property">end</span> = [<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>];
            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;newline&#x27;</span>)
                <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pop</span>();
        }
    }
    *<span class="hljs-title function_">lineEnd</span>(<span class="hljs-params">token</span>) {
        <span class="hljs-keyword">switch</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span>) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;comma&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;doc-start&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;doc-end&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;flow-seq-end&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;flow-map-end&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;map-value-ind&#x27;</span>:
                <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pop</span>();
                <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">step</span>();
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;newline&#x27;</span>:
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">onKeyLine</span> = <span class="hljs-literal">false</span>;
            <span class="hljs-comment">// fallthrough</span>
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;space&#x27;</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;comment&#x27;</span>:
            <span class="hljs-attr">default</span>:
                <span class="hljs-comment">// all other values are errors</span>
                <span class="hljs-keyword">if</span> (token.<span class="hljs-property">end</span>)
                    token.<span class="hljs-property">end</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>);
                <span class="hljs-keyword">else</span>
                    token.<span class="hljs-property">end</span> = [<span class="hljs-variable language_">this</span>.<span class="hljs-property">sourceToken</span>];
                <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;newline&#x27;</span>)
                    <span class="hljs-keyword">yield</span>* <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pop</span>();
        }
    }
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/parse/line-counter.js</span>
<span class="hljs-comment">/**
 * Tracks newlines during parsing in order to provide an efficient API for
 * determining the one-indexed `{ line, col }` position for any offset
 * within the input.
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">LineCounter</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">lineStarts</span> = [];
        <span class="hljs-comment">/**
         * Should be called in ascending order. Otherwise, call
         * `lineCounter.lineStarts.sort()` before calling `linePos()`.
         */</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">addNewLine</span> = <span class="hljs-function">(<span class="hljs-params">offset</span>) =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">lineStarts</span>.<span class="hljs-title function_">push</span>(offset);
        <span class="hljs-comment">/**
         * Performs a binary search and returns the 1-indexed { line, col }
         * position of `offset`. If `line === 0`, `addNewLine` has never been
         * called or `offset` is before the first known newline.
         */</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">linePos</span> = <span class="hljs-function">(<span class="hljs-params">offset</span>) =&gt;</span> {
            <span class="hljs-keyword">let</span> low = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">let</span> high = <span class="hljs-variable language_">this</span>.<span class="hljs-property">lineStarts</span>.<span class="hljs-property">length</span>;
            <span class="hljs-keyword">while</span> (low &lt; high) {
                <span class="hljs-keyword">const</span> mid = (low + high) &gt;&gt; <span class="hljs-number">1</span>; <span class="hljs-comment">// Math.floor((low + high) / 2)</span>
                <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">lineStarts</span>[mid] &lt; offset)
                    low = mid + <span class="hljs-number">1</span>;
                <span class="hljs-keyword">else</span>
                    high = mid;
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">lineStarts</span>[low] === offset)
                <span class="hljs-keyword">return</span> { <span class="hljs-attr">line</span>: low + <span class="hljs-number">1</span>, <span class="hljs-attr">col</span>: <span class="hljs-number">1</span> };
            <span class="hljs-keyword">if</span> (low === <span class="hljs-number">0</span>)
                <span class="hljs-keyword">return</span> { <span class="hljs-attr">line</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">col</span>: offset };
            <span class="hljs-keyword">const</span> start = <span class="hljs-variable language_">this</span>.<span class="hljs-property">lineStarts</span>[low - <span class="hljs-number">1</span>];
            <span class="hljs-keyword">return</span> { <span class="hljs-attr">line</span>: low, <span class="hljs-attr">col</span>: offset - start + <span class="hljs-number">1</span> };
        };
    }
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/public-api.js</span>







<span class="hljs-keyword">function</span> <span class="hljs-title function_">parseOptions</span>(<span class="hljs-params">options</span>) {
    <span class="hljs-keyword">const</span> prettyErrors = options.<span class="hljs-property">prettyErrors</span> !== <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">const</span> lineCounter = options.<span class="hljs-property">lineCounter</span> || (prettyErrors &amp;&amp; <span class="hljs-keyword">new</span> <span class="hljs-title class_">LineCounter</span>()) || <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">return</span> { lineCounter, prettyErrors };
}
<span class="hljs-comment">/**
 * Parse the input as a stream of YAML documents.
 *
 * Documents should be separated from each other by `...` or `---` marker lines.
 *
 * <span class="hljs-doctag">@returns</span> If an empty `docs` array is returned, it will be of type
 *   EmptyStream and contain additional stream information. In
 *   TypeScript, you should use `&#x27;empty&#x27; in docs` as a type guard for it.
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">parseAllDocuments</span>(<span class="hljs-params">source, options = {}</span>) {
    <span class="hljs-keyword">const</span> { lineCounter, prettyErrors } = <span class="hljs-title function_">parseOptions</span>(options);
    <span class="hljs-keyword">const</span> parser = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Parser</span>(lineCounter?.<span class="hljs-property">addNewLine</span>);
    <span class="hljs-keyword">const</span> composer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Composer</span>(options);
    <span class="hljs-keyword">const</span> docs = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(composer.<span class="hljs-title function_">compose</span>(parser.<span class="hljs-title function_">parse</span>(source)));
    <span class="hljs-keyword">if</span> (prettyErrors &amp;&amp; lineCounter)
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> doc <span class="hljs-keyword">of</span> docs) {
            doc.<span class="hljs-property">errors</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-title function_">prettifyError</span>(source, lineCounter));
            doc.<span class="hljs-property">warnings</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-title function_">prettifyError</span>(source, lineCounter));
        }
    <span class="hljs-keyword">if</span> (docs.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>)
        <span class="hljs-keyword">return</span> docs;
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>([], { <span class="hljs-attr">empty</span>: <span class="hljs-literal">true</span> }, composer.<span class="hljs-title function_">streamInfo</span>());
}
<span class="hljs-comment">/** Parse an input string into a single YAML.Document */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">parseDocument</span>(<span class="hljs-params">source, options = {}</span>) {
    <span class="hljs-keyword">const</span> { lineCounter, prettyErrors } = <span class="hljs-title function_">parseOptions</span>(options);
    <span class="hljs-keyword">const</span> parser = <span class="hljs-keyword">new</span> <span class="hljs-title function_">parser_Parser</span>(lineCounter?.<span class="hljs-property">addNewLine</span>);
    <span class="hljs-keyword">const</span> composer = <span class="hljs-keyword">new</span> <span class="hljs-title function_">composer_Composer</span>(options);
    <span class="hljs-comment">// `doc` is always set by compose.end(true) at the very latest</span>
    <span class="hljs-keyword">let</span> doc = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> _doc <span class="hljs-keyword">of</span> composer.<span class="hljs-title function_">compose</span>(parser.<span class="hljs-title function_">parse</span>(source), <span class="hljs-literal">true</span>, source.<span class="hljs-property">length</span>)) {
        <span class="hljs-keyword">if</span> (!doc)
            doc = _doc;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (doc.<span class="hljs-property">options</span>.<span class="hljs-property">logLevel</span> !== <span class="hljs-string">&#x27;silent&#x27;</span>) {
            doc.<span class="hljs-property">errors</span>.<span class="hljs-title function_">push</span>(<span class="hljs-keyword">new</span> <span class="hljs-title function_">errors_YAMLParseError</span>(_doc.<span class="hljs-property">range</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>), <span class="hljs-string">&#x27;MULTIPLE_DOCS&#x27;</span>, <span class="hljs-string">&#x27;Source contains multiple documents; please use YAML.parseAllDocuments()&#x27;</span>));
            <span class="hljs-keyword">break</span>;
        }
    }
    <span class="hljs-keyword">if</span> (prettyErrors &amp;&amp; lineCounter) {
        doc.<span class="hljs-property">errors</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-title function_">errors_prettifyError</span>(source, lineCounter));
        doc.<span class="hljs-property">warnings</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-title function_">errors_prettifyError</span>(source, lineCounter));
    }
    <span class="hljs-keyword">return</span> doc;
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">parse</span>(<span class="hljs-params">src, reviver, options</span>) {
    <span class="hljs-keyword">let</span> _reviver = <span class="hljs-literal">undefined</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> reviver === <span class="hljs-string">&#x27;function&#x27;</span>) {
        _reviver = reviver;
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (options === <span class="hljs-literal">undefined</span> &amp;&amp; reviver &amp;&amp; <span class="hljs-keyword">typeof</span> reviver === <span class="hljs-string">&#x27;object&#x27;</span>) {
        options = reviver;
    }
    <span class="hljs-keyword">const</span> doc = <span class="hljs-title function_">parseDocument</span>(src, options);
    <span class="hljs-keyword">if</span> (!doc)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    doc.<span class="hljs-property">warnings</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">warning</span> =&gt;</span> <span class="hljs-title function_">warn</span>(doc.<span class="hljs-property">options</span>.<span class="hljs-property">logLevel</span>, warning));
    <span class="hljs-keyword">if</span> (doc.<span class="hljs-property">errors</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">if</span> (doc.<span class="hljs-property">options</span>.<span class="hljs-property">logLevel</span> !== <span class="hljs-string">&#x27;silent&#x27;</span>)
            <span class="hljs-keyword">throw</span> doc.<span class="hljs-property">errors</span>[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">else</span>
            doc.<span class="hljs-property">errors</span> = [];
    }
    <span class="hljs-keyword">return</span> doc.<span class="hljs-title function_">toJS</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({ <span class="hljs-attr">reviver</span>: _reviver }, options));
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">public_api_stringify</span>(<span class="hljs-params">value, replacer, options</span>) {
    <span class="hljs-keyword">let</span> _replacer = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> replacer === <span class="hljs-string">&#x27;function&#x27;</span> || <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(replacer)) {
        _replacer = replacer;
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (options === <span class="hljs-literal">undefined</span> &amp;&amp; replacer) {
        options = replacer;
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> options === <span class="hljs-string">&#x27;string&#x27;</span>)
        options = options.<span class="hljs-property">length</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> options === <span class="hljs-string">&#x27;number&#x27;</span>) {
        <span class="hljs-keyword">const</span> indent = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(options);
        options = indent &lt; <span class="hljs-number">1</span> ? <span class="hljs-literal">undefined</span> : indent &gt; <span class="hljs-number">8</span> ? { <span class="hljs-attr">indent</span>: <span class="hljs-number">8</span> } : { indent };
    }
    <span class="hljs-keyword">if</span> (value === <span class="hljs-literal">undefined</span>) {
        <span class="hljs-keyword">const</span> { keepUndefined } = options ?? replacer ?? {};
        <span class="hljs-keyword">if</span> (!keepUndefined)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Document</span>(value, _replacer, options).<span class="hljs-title function_">toString</span>(options);
}



;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/dist/index.js</span>


















;<span class="hljs-comment">// CONCATENATED MODULE: ./node_modules/yaml/browser/index.js</span>
<span class="hljs-comment">// `export * as default from ...` fails on Webpack v4</span>
<span class="hljs-comment">// https://github.com/eemeli/yaml/issues/228</span>

<span class="hljs-comment">/* harmony default export */</span> <span class="hljs-keyword">const</span> browser = ((<span class="hljs-comment">/* unused pure expression or super */</span> <span class="hljs-literal">null</span> &amp;&amp; (<span class="hljs-variable constant_">YAML</span>)));


;<span class="hljs-comment">// CONCATENATED MODULE: ./src/init/check-update.ts</span>

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">checkVersion</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">let</span> version = <span class="hljs-title function_">GM_getValue</span>(<span class="hljs-string">&#x27;script.version&#x27;</span>) ?? <span class="hljs-string">&#x27;1.0&#x27;</span>;
  <span class="hljs-keyword">if</span> (GM_info.<span class="hljs-property">script</span>.<span class="hljs-property">version</span> &gt; version) {
    <span class="hljs-comment">// 存储版本 &lt; 当前版本 =&gt; 更新配置</span>
    <span class="hljs-keyword">let</span> dataJsonRes = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(GM_info.<span class="hljs-property">script</span>.<span class="hljs-property">icon64</span>?.<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0x25</span>) + <span class="hljs-string">&#x27;/data.json&#x27;</span>);
    <span class="hljs-keyword">let</span> yamlJson = (<span class="hljs-keyword">await</span> dataJsonRes.<span class="hljs-title function_">json</span>()).<span class="hljs-property">yaml</span>;
    <span class="hljs-keyword">let</span> promises = [];
    <span class="hljs-keyword">let</span> keys = [];
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(yamlJson).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">[key, value]</span>) =&gt;</span> {
      <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(value).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">fileName</span> =&gt;</span> {
        keys.<span class="hljs-title function_">push</span>({
          key,
          fileName
        });
        promises.<span class="hljs-title function_">push</span>(<span class="hljs-title function_">fetch</span>(GM_info.<span class="hljs-property">script</span>.<span class="hljs-property">icon64</span>?.<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0x25</span>) + <span class="hljs-string">&#x27;/yaml/&#x27;</span> + key + <span class="hljs-string">&#x27;/&#x27;</span> + fileName));
      });
    });
    <span class="hljs-keyword">let</span> data = {};
    <span class="hljs-keyword">let</span> responses = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(promises);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; responses.<span class="hljs-property">length</span>; i++) {
      <span class="hljs-keyword">let</span> res = responses[i];
      <span class="hljs-keyword">let</span> text = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">text</span>();
      <span class="hljs-keyword">let</span> key = keys[i];
      <span class="hljs-keyword">if</span> (key.<span class="hljs-property">key</span> === <span class="hljs-string">&#x27;rule&#x27;</span>) {
        data[key.<span class="hljs-property">key</span>] = {
          ...data[key.<span class="hljs-property">key</span>],
          ...<span class="hljs-title function_">ruleKey</span>(<span class="hljs-title function_">parse</span>(text), key.<span class="hljs-property">fileName</span>.<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>, key.<span class="hljs-property">fileName</span>.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-string">&#x27;.&#x27;</span>)))
        };
      } <span class="hljs-keyword">else</span> {
        data[key.<span class="hljs-property">key</span>] = {
          ...data[key.<span class="hljs-property">key</span>],
          ...<span class="hljs-title function_">parse</span>(text)
        };
      }
    }
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(data).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">[key, value]</span>) =&gt;</span> {
      <span class="hljs-title function_">GM_setValue</span>(<span class="hljs-string">&#x27;script.&#x27;</span> + key, value);
    });
    <span class="hljs-title function_">GM_setValue</span>(<span class="hljs-string">&#x27;script.version&#x27;</span>, GM_info.<span class="hljs-property">script</span>.<span class="hljs-property">version</span>);
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (GM_info.<span class="hljs-property">script</span>.<span class="hljs-property">version</span> &lt; version) {
    <span class="hljs-comment">// 存储版本 &gt; 当前版本(本地测试版本为0.0) =&gt; 是本地测试, 读取本地yaml</span>
    <span class="hljs-keyword">let</span> dataJson = <span class="hljs-title function_">GM_getResourceText</span>(<span class="hljs-string">&#x27;data.json&#x27;</span>);
    <span class="hljs-keyword">let</span> yamlJson = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(dataJson).<span class="hljs-property">yaml</span>;
    <span class="hljs-keyword">let</span> data = {
      <span class="hljs-attr">page</span>: {},
      <span class="hljs-attr">rule</span>: {},
      <span class="hljs-attr">setting</span>: {}
    };
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(yamlJson).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">[key, value]</span>) =&gt;</span> {
      <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(value).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">fileName</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (key === <span class="hljs-string">&#x27;rule&#x27;</span>) {
          data[key] = {
            ...data[key],
            ...<span class="hljs-title function_">ruleKey</span>(<span class="hljs-title function_">parse</span>(<span class="hljs-title function_">GM_getResourceText</span>(key + <span class="hljs-string">&#x27;-&#x27;</span> + fileName)), fileName.<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>, fileName.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-string">&#x27;.&#x27;</span>)))
          };
        } <span class="hljs-keyword">else</span> {
          data[key] = {
            ...data[key],
            ...<span class="hljs-title function_">parse</span>(<span class="hljs-title function_">GM_getResourceText</span>(key + <span class="hljs-string">&#x27;-&#x27;</span> + fileName))
          };
        }
      });
    });
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(data).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">[key, value]</span>) =&gt;</span> {
      <span class="hljs-title function_">GM_setValue</span>(<span class="hljs-string">&#x27;script.&#x27;</span> + key, value);
    });
  }
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">ruleKey</span>(<span class="hljs-params">oldJson, key</span>) {
  <span class="hljs-keyword">let</span> newJson = {};
  <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(oldJson).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">[_key, _value]</span>) =&gt;</span> {
    newJson[key + <span class="hljs-string">&#x27;-&#x27;</span> + _key] = _value;
  });
  <span class="hljs-keyword">return</span> newJson;
}
<span class="hljs-comment">// EXTERNAL MODULE: ./node_modules/react-dom/client.js</span>
<span class="hljs-keyword">var</span> client = <span class="hljs-title function_">__webpack_require__</span>(<span class="hljs-number">745</span>);
;<span class="hljs-comment">// CONCATENATED MODULE: external &quot;antd&quot;</span>
<span class="hljs-keyword">const</span> external_antd_namespaceObject = antd;
;<span class="hljs-comment">// CONCATENATED MODULE: external &quot;React&quot;</span>
<span class="hljs-keyword">const</span> external_React_namespaceObject = <span class="hljs-title class_">React</span>;
<span class="hljs-keyword">var</span> external_React_default = <span class="hljs-comment">/*#__PURE__*/</span>__webpack_require__.<span class="hljs-title function_">n</span>(external_React_namespaceObject);
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/view/page.view.tsx</span>


<span class="hljs-keyword">function</span> <span class="hljs-title function_">PageView</span>(<span class="hljs-params">props</span>) {
  <span class="hljs-keyword">const</span> {
    page
  } = props;
  <span class="hljs-keyword">const</span> [working, setWorking] = <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">useState</span>(page.<span class="hljs-property">working</span>);
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">workClick</span> = (<span class="hljs-params"></span>) =&gt; {
    <span class="hljs-comment">// 切换工作状态</span>
    <span class="hljs-keyword">if</span> (page.<span class="hljs-property">working</span>) {
      page.<span class="hljs-title function_">stop</span>();
    } <span class="hljs-keyword">else</span> {
      page.<span class="hljs-title function_">start</span>();
    }
    <span class="hljs-title function_">setWorking</span>(page.<span class="hljs-property">working</span>);
  };
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>((<span class="hljs-title function_">external_React_default</span>()).<span class="hljs-property">Fragment</span>, <span class="hljs-literal">null</span>, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Card</span>, <span class="hljs-literal">null</span>, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Row</span>, <span class="hljs-literal">null</span>, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Col</span>, {
    <span class="hljs-attr">span</span>: <span class="hljs-number">14</span>
  }, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Typography</span>.<span class="hljs-property">Text</span>, {
    <span class="hljs-attr">type</span>: working ? <span class="hljs-string">&#x27;success&#x27;</span> : <span class="hljs-string">&#x27;danger&#x27;</span>
  }, page.<span class="hljs-property">name</span>)), <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Col</span>, {
    <span class="hljs-attr">span</span>: <span class="hljs-number">4</span>
  }), <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Col</span>, {
    <span class="hljs-attr">span</span>: <span class="hljs-number">6</span>
  }, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Button</span>, {
    <span class="hljs-attr">size</span>: <span class="hljs-string">&quot;small&quot;</span>,
    <span class="hljs-attr">onClick</span>: workClick
  }, working ? <span class="hljs-string">&#x27;停止&#x27;</span> : <span class="hljs-string">&#x27;启动&#x27;</span>)))));
}
;<span class="hljs-comment">// CONCATENATED MODULE: external &quot;icons&quot;</span>
<span class="hljs-keyword">const</span> external_icons_namespaceObject = icons;
<span class="hljs-comment">// EXTERNAL MODULE: ./node_modules/dayjs/locale/zh-cn.js</span>
<span class="hljs-keyword">var</span> zh_cn = <span class="hljs-title function_">__webpack_require__</span>(<span class="hljs-number">852</span>);
<span class="hljs-comment">// EXTERNAL MODULE: external &quot;dayjs&quot;</span>
<span class="hljs-keyword">var</span> external_dayjs_ = <span class="hljs-title function_">__webpack_require__</span>(<span class="hljs-number">212</span>);
<span class="hljs-keyword">var</span> external_dayjs_default = <span class="hljs-comment">/*#__PURE__*/</span>__webpack_require__.<span class="hljs-title function_">n</span>(external_dayjs_);
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/utils/datetime-util.ts</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">date2properties</span>(<span class="hljs-params">date</span>) {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">year</span>: <span class="hljs-title class_">String</span>(date.<span class="hljs-title function_">getFullYear</span>()),
    <span class="hljs-attr">month</span>: (date.<span class="hljs-title function_">getMonth</span>() &lt; <span class="hljs-number">9</span> ? <span class="hljs-string">&#x27;0&#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>) + (date.<span class="hljs-title function_">getMonth</span>() + <span class="hljs-number">1</span>),
    <span class="hljs-attr">day</span>: (date.<span class="hljs-title function_">getDate</span>() &lt; <span class="hljs-number">10</span> ? <span class="hljs-string">&#x27;0&#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>) + date.<span class="hljs-title function_">getDate</span>(),
    <span class="hljs-attr">hour</span>: (date.<span class="hljs-title function_">getHours</span>() &lt; <span class="hljs-number">10</span> ? <span class="hljs-string">&#x27;0&#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>) + date.<span class="hljs-title function_">getHours</span>(),
    <span class="hljs-attr">minute</span>: (date.<span class="hljs-title function_">getMinutes</span>() &lt; <span class="hljs-number">10</span> ? <span class="hljs-string">&#x27;0&#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>) + date.<span class="hljs-title function_">getMinutes</span>(),
    <span class="hljs-attr">second</span>: (date.<span class="hljs-title function_">getSeconds</span>() &lt; <span class="hljs-number">10</span> ? <span class="hljs-string">&#x27;0&#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>) + date.<span class="hljs-title function_">getSeconds</span>(),
    <span class="hljs-attr">millisecond</span>: (date.<span class="hljs-title function_">getMilliseconds</span>() &lt; <span class="hljs-number">100</span> ? <span class="hljs-string">&#x27;0&#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>) + (date.<span class="hljs-title function_">getMilliseconds</span>() &lt; <span class="hljs-number">10</span> ? <span class="hljs-string">&#x27;0&#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>) + date.<span class="hljs-title function_">getMilliseconds</span>()
  };
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">date2string</span>(<span class="hljs-params">date, formatter = <span class="hljs-string">&#x27;yyyy-MM-dd HH:mm:ss.SSS&#x27;</span></span>) {
  <span class="hljs-keyword">const</span> {
    year,
    month,
    day,
    hour,
    minute,
    second,
    millisecond
  } = <span class="hljs-title function_">date2properties</span>(date);
  <span class="hljs-keyword">return</span> formatter.<span class="hljs-title function_">replaceAll</span>(<span class="hljs-string">&#x27;yyyy&#x27;</span>, year).<span class="hljs-title function_">replaceAll</span>(<span class="hljs-string">&#x27;MM&#x27;</span>, month).<span class="hljs-title function_">replaceAll</span>(<span class="hljs-string">&#x27;dd&#x27;</span>, day).<span class="hljs-title function_">replaceAll</span>(<span class="hljs-string">&#x27;HH&#x27;</span>, hour).<span class="hljs-title function_">replaceAll</span>(<span class="hljs-string">&#x27;mm&#x27;</span>, minute).<span class="hljs-title function_">replaceAll</span>(<span class="hljs-string">&#x27;ss&#x27;</span>, second).<span class="hljs-title function_">replaceAll</span>(<span class="hljs-string">&#x27;SSS&#x27;</span>, millisecond);
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">date2dayjs</span>(<span class="hljs-params">date, formatter = <span class="hljs-string">&#x27;YYYY-MM-DD HH:mm:ss.SSS&#x27;</span></span>) {
  <span class="hljs-keyword">const</span> {
    year,
    month,
    day,
    hour,
    minute,
    second,
    millisecond
  } = <span class="hljs-title function_">date2properties</span>(date);
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">external_dayjs_default</span>()(formatter.<span class="hljs-title function_">replaceAll</span>(<span class="hljs-string">&#x27;YYYY&#x27;</span>, year).<span class="hljs-title function_">replaceAll</span>(<span class="hljs-string">&#x27;MM&#x27;</span>, month).<span class="hljs-title function_">replaceAll</span>(<span class="hljs-string">&#x27;DD&#x27;</span>, day).<span class="hljs-title function_">replaceAll</span>(<span class="hljs-string">&#x27;HH&#x27;</span>, hour).<span class="hljs-title function_">replaceAll</span>(<span class="hljs-string">&#x27;mm&#x27;</span>, minute).<span class="hljs-title function_">replaceAll</span>(<span class="hljs-string">&#x27;ss&#x27;</span>, second).<span class="hljs-title function_">replaceAll</span>(<span class="hljs-string">&#x27;SSS&#x27;</span>, millisecond), formatter);
}
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/view/advance-setting.view.tsx</span>




<span class="hljs-keyword">function</span> <span class="hljs-title function_">AdvanceSettingView</span>(<span class="hljs-params">props</span>) {
  <span class="hljs-keyword">const</span> {
    <span class="hljs-attr">expireTime</span>: updateExpireTime
  } = props;
  <span class="hljs-keyword">const</span> [expire, setExpire] = <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">useState</span>({
    <span class="hljs-attr">date</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() + <span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>),
    <span class="hljs-attr">millisecond</span>: <span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>
  });
  <span class="hljs-keyword">const</span> [type, setType] = <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;time2date&#x27;</span>);
  <span class="hljs-keyword">const</span> [fresh, refresh] = <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">list</span> = (<span class="hljs-params"><span class="hljs-keyword">from</span>, to</span>) =&gt; {
    <span class="hljs-keyword">let</span> arr = [];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-keyword">from</span>; i &lt;= to; i++) {
      arr.<span class="hljs-title function_">push</span>(i);
    }
    <span class="hljs-keyword">return</span> arr;
  };
  <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> interval = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">if</span> (type === <span class="hljs-string">&#x27;date2time&#x27;</span>) {
        <span class="hljs-keyword">if</span> (expire.<span class="hljs-property">date</span>.<span class="hljs-title function_">getTime</span>() &lt; <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()) {
          <span class="hljs-comment">// 倒计时进入负值, 切换并置零</span>
          <span class="hljs-title function_">setType</span>(<span class="hljs-string">&#x27;time2date&#x27;</span>);
          <span class="hljs-title function_">setExpire</span>(<span class="hljs-function"><span class="hljs-params">expire</span> =&gt;</span> {
            expire.<span class="hljs-property">date</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();
            expire.<span class="hljs-property">millisecond</span> = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">return</span> expire;
          });
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-title function_">setExpire</span>(<span class="hljs-function"><span class="hljs-params">expire</span> =&gt;</span> {
            expire.<span class="hljs-property">millisecond</span> = expire.<span class="hljs-property">date</span>.<span class="hljs-title function_">getTime</span>() - <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
            <span class="hljs-keyword">return</span> expire;
          });
        }
        <span class="hljs-title function_">refresh</span>(<span class="hljs-function"><span class="hljs-params">fresh</span> =&gt;</span> !fresh);
      }
      <span class="hljs-keyword">if</span> (type === <span class="hljs-string">&#x27;time2date&#x27;</span>) {
        <span class="hljs-title function_">setExpire</span>(<span class="hljs-function"><span class="hljs-params">expire</span> =&gt;</span> {
          expire.<span class="hljs-property">date</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() + expire.<span class="hljs-property">millisecond</span>);
          <span class="hljs-keyword">return</span> expire;
        });
        <span class="hljs-title function_">refresh</span>(<span class="hljs-function"><span class="hljs-params">fresh</span> =&gt;</span> !fresh);
      }
    }, <span class="hljs-number">1000</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-built_in">clearInterval</span>(interval);
    };
  }, [type]);
  <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">updateExpireTime</span>(expire.<span class="hljs-property">date</span>.<span class="hljs-title function_">getTime</span>());
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">updateExpireTime</span>(<span class="hljs-literal">undefined</span>);
  }, [expire, fresh]);
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>((<span class="hljs-title function_">external_React_default</span>()).<span class="hljs-property">Fragment</span>, <span class="hljs-literal">null</span>, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Row</span>, <span class="hljs-literal">null</span>, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Col</span>, {
    <span class="hljs-attr">span</span>: <span class="hljs-number">12</span>
  }, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">DatePicker</span>, {
    <span class="hljs-attr">value</span>: <span class="hljs-title function_">date2dayjs</span>(expire.<span class="hljs-property">date</span>, <span class="hljs-string">&#x27;YYYY-MM-DD&#x27;</span>),
    <span class="hljs-attr">style</span>: {
      <span class="hljs-attr">width</span>: <span class="hljs-string">&#x27;100%&#x27;</span>
    },
    <span class="hljs-attr">getPopupContainer</span>: <span class="hljs-function"><span class="hljs-params">target</span> =&gt;</span> target,
    <span class="hljs-attr">disabledDate</span>: <span class="hljs-function"><span class="hljs-params">day</span> =&gt;</span> {
      <span class="hljs-keyword">const</span> date = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();
      <span class="hljs-keyword">if</span> (date.<span class="hljs-title function_">getTime</span>() % (<span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>) &lt; expire.<span class="hljs-property">date</span>.<span class="hljs-title function_">getTime</span>() % (<span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>)) {
        <span class="hljs-keyword">return</span> day.<span class="hljs-title function_">year</span>() &lt; date.<span class="hljs-title function_">getFullYear</span>() || day.<span class="hljs-title function_">year</span>() === date.<span class="hljs-title function_">getFullYear</span>() &amp;&amp; day.<span class="hljs-title function_">month</span>() &lt; date.<span class="hljs-title function_">getMonth</span>() || day.<span class="hljs-title function_">year</span>() === date.<span class="hljs-title function_">getFullYear</span>() &amp;&amp; day.<span class="hljs-title function_">month</span>() === date.<span class="hljs-title function_">getMonth</span>() &amp;&amp; day.<span class="hljs-title function_">date</span>() &lt; date.<span class="hljs-title function_">getDate</span>();
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> day.<span class="hljs-title function_">year</span>() &lt; date.<span class="hljs-title function_">getFullYear</span>() || day.<span class="hljs-title function_">year</span>() === date.<span class="hljs-title function_">getFullYear</span>() &amp;&amp; day.<span class="hljs-title function_">month</span>() &lt; date.<span class="hljs-title function_">getMonth</span>() || day.<span class="hljs-title function_">year</span>() === date.<span class="hljs-title function_">getFullYear</span>() &amp;&amp; day.<span class="hljs-title function_">month</span>() === date.<span class="hljs-title function_">getMonth</span>() &amp;&amp; day.<span class="hljs-title function_">date</span>() &lt;= date.<span class="hljs-title function_">getDate</span>();
      }
    },
    <span class="hljs-attr">onFocus</span>: <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">setType</span>(<span class="hljs-string">&#x27;date2time&#x27;</span>);
    },
    <span class="hljs-attr">onChange</span>: <span class="hljs-function"><span class="hljs-params">day</span> =&gt;</span> {
      <span class="hljs-title function_">setType</span>(<span class="hljs-string">&#x27;date2time&#x27;</span>);
      <span class="hljs-keyword">if</span> (day) {
        <span class="hljs-title function_">setExpire</span>(<span class="hljs-function"><span class="hljs-params">expire</span> =&gt;</span> {
          expire.<span class="hljs-property">date</span>.<span class="hljs-title function_">setFullYear</span>(day.<span class="hljs-title function_">year</span>());
          expire.<span class="hljs-property">date</span>.<span class="hljs-title function_">setDate</span>(day.<span class="hljs-title function_">date</span>());
          expire.<span class="hljs-property">date</span>.<span class="hljs-title function_">setMonth</span>(day.<span class="hljs-title function_">month</span>());
          expire.<span class="hljs-property">millisecond</span> = expire.<span class="hljs-property">date</span>.<span class="hljs-title function_">getTime</span>() - <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
          <span class="hljs-keyword">return</span> expire;
        });
      }
    }
  })), <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Col</span>, {
    <span class="hljs-attr">span</span>: <span class="hljs-number">12</span>
  }, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">TimePicker</span>, {
    <span class="hljs-attr">value</span>: <span class="hljs-title function_">date2dayjs</span>(expire.<span class="hljs-property">date</span>, <span class="hljs-string">&#x27;HH:mm:ss&#x27;</span>),
    <span class="hljs-attr">style</span>: {
      <span class="hljs-attr">width</span>: <span class="hljs-string">&#x27;100%&#x27;</span>
    },
    <span class="hljs-attr">getPopupContainer</span>: <span class="hljs-function"><span class="hljs-params">target</span> =&gt;</span> target,
    <span class="hljs-attr">disabledTime</span>: <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">const</span> date = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();
      <span class="hljs-keyword">if</span> (expire.<span class="hljs-property">date</span>.<span class="hljs-title function_">getFullYear</span>() === date.<span class="hljs-title function_">getFullYear</span>() &amp;&amp; expire.<span class="hljs-property">date</span>.<span class="hljs-title function_">getMonth</span>() == date.<span class="hljs-title function_">getMonth</span>() &amp;&amp; expire.<span class="hljs-property">date</span>.<span class="hljs-title function_">getDate</span>() === date.<span class="hljs-title function_">getDate</span>()) {
        <span class="hljs-keyword">return</span> {
          <span class="hljs-attr">disabledHours</span>: <span class="hljs-function">() =&gt;</span> date.<span class="hljs-title function_">getHours</span>() ? <span class="hljs-title function_">list</span>(<span class="hljs-number">0</span>, date.<span class="hljs-title function_">getHours</span>() - <span class="hljs-number">1</span>) : [],
          <span class="hljs-attr">disabledMinutes</span>: <span class="hljs-function"><span class="hljs-params">selectedHour</span> =&gt;</span> selectedHour === date.<span class="hljs-title function_">getHours</span>() &amp;&amp; date.<span class="hljs-title function_">getMinutes</span>() ? <span class="hljs-title function_">list</span>(<span class="hljs-number">0</span>, date.<span class="hljs-title function_">getMinutes</span>() - <span class="hljs-number">1</span>) : [],
          <span class="hljs-attr">disabledSeconds</span>: <span class="hljs-function">(<span class="hljs-params">selectedHour, selectedMinute</span>) =&gt;</span> selectedHour === date.<span class="hljs-title function_">getHours</span>() &amp;&amp; selectedMinute === date.<span class="hljs-title function_">getMinutes</span>() &amp;&amp; date.<span class="hljs-title function_">getSeconds</span>() ? <span class="hljs-title function_">list</span>(<span class="hljs-number">0</span>, date.<span class="hljs-title function_">getSeconds</span>()) : []
        };
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> {
          <span class="hljs-attr">disabledHours</span>: <span class="hljs-function">() =&gt;</span> [],
          <span class="hljs-attr">disabledMinutes</span>: <span class="hljs-function">() =&gt;</span> [],
          <span class="hljs-attr">disabledSeconds</span>: <span class="hljs-function">() =&gt;</span> []
        };
      }
    },
    <span class="hljs-attr">onFocus</span>: <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">setType</span>(<span class="hljs-string">&#x27;date2time&#x27;</span>);
    },
    <span class="hljs-attr">onChange</span>: <span class="hljs-function"><span class="hljs-params">time</span> =&gt;</span> {
      <span class="hljs-title function_">setType</span>(<span class="hljs-string">&#x27;date2time&#x27;</span>);
      <span class="hljs-keyword">if</span> (time) {
        <span class="hljs-title function_">setExpire</span>(<span class="hljs-function"><span class="hljs-params">expire</span> =&gt;</span> {
          expire.<span class="hljs-property">date</span>.<span class="hljs-title function_">setHours</span>(time.<span class="hljs-title function_">hour</span>());
          expire.<span class="hljs-property">date</span>.<span class="hljs-title function_">setMinutes</span>(time.<span class="hljs-title function_">minute</span>());
          expire.<span class="hljs-property">date</span>.<span class="hljs-title function_">setSeconds</span>(time.<span class="hljs-title function_">second</span>());
          expire.<span class="hljs-property">millisecond</span> = expire.<span class="hljs-property">date</span>.<span class="hljs-title function_">getTime</span>() - <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
          <span class="hljs-keyword">return</span> expire;
        });
      }
    }
  }))), <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Row</span>, <span class="hljs-literal">null</span>, [{
    <span class="hljs-attr">addonAfter</span>: <span class="hljs-string">&#x27;日&#x27;</span>,
    <span class="hljs-attr">rate</span>: <span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>,
    <span class="hljs-attr">max</span>: <span class="hljs-literal">undefined</span>,
    <span class="hljs-attr">fun</span>: <span class="hljs-function"><span class="hljs-params">millisecond</span> =&gt;</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(millisecond / (<span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>))
  }, {
    <span class="hljs-attr">addonAfter</span>: <span class="hljs-string">&#x27;时&#x27;</span>,
    <span class="hljs-attr">rate</span>: <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>,
    <span class="hljs-attr">max</span>: <span class="hljs-number">24</span>,
    <span class="hljs-attr">fun</span>: <span class="hljs-function"><span class="hljs-params">millisecond</span> =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(millisecond).<span class="hljs-title function_">getUTCHours</span>()
  }, {
    <span class="hljs-attr">addonAfter</span>: <span class="hljs-string">&#x27;分&#x27;</span>,
    <span class="hljs-attr">rate</span>: <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>,
    <span class="hljs-attr">max</span>: <span class="hljs-number">60</span>,
    <span class="hljs-attr">fun</span>: <span class="hljs-function"><span class="hljs-params">millisecond</span> =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(millisecond).<span class="hljs-title function_">getUTCMinutes</span>()
  }, {
    <span class="hljs-attr">addonAfter</span>: <span class="hljs-string">&#x27;秒&#x27;</span>,
    <span class="hljs-attr">rate</span>: <span class="hljs-number">1000</span>,
    <span class="hljs-attr">max</span>: <span class="hljs-number">60</span>,
    <span class="hljs-attr">fun</span>: <span class="hljs-function"><span class="hljs-params">millisecond</span> =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(millisecond).<span class="hljs-title function_">getUTCSeconds</span>()
  }].<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Col</span>, {
    <span class="hljs-attr">span</span>: <span class="hljs-number">6</span>
  }, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Input</span>, {
    <span class="hljs-attr">addonAfter</span>: item.<span class="hljs-property">addonAfter</span>,
    <span class="hljs-attr">value</span>: item.<span class="hljs-title function_">fun</span>(expire.<span class="hljs-property">millisecond</span>),
    <span class="hljs-attr">onFocus</span>: <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">setType</span>(<span class="hljs-string">&#x27;time2date&#x27;</span>);
    },
    <span class="hljs-attr">onChange</span>: <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
      <span class="hljs-keyword">let</span> value = e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>;
      <span class="hljs-title function_">setType</span>(<span class="hljs-string">&#x27;time2date&#x27;</span>);
      <span class="hljs-keyword">let</span> addMillisecond = <span class="hljs-number">0</span>;
      <span class="hljs-keyword">if</span> (value === <span class="hljs-string">&#x27;&#x27;</span>) {
        <span class="hljs-comment">// 清空, 清空所有</span>
        addMillisecond = -item.<span class="hljs-title function_">fun</span>(expire.<span class="hljs-property">millisecond</span>) * item.<span class="hljs-property">rate</span>;
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/^[0-9]*$/</span>.<span class="hljs-title function_">test</span>(value)) {
        addMillisecond = ((item.<span class="hljs-property">max</span> ? <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(<span class="hljs-title class_">Number</span>(value), item.<span class="hljs-property">max</span>) : <span class="hljs-title class_">Number</span>(value)) - item.<span class="hljs-title function_">fun</span>(expire.<span class="hljs-property">millisecond</span>)) * item.<span class="hljs-property">rate</span>;
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (value === <span class="hljs-string">&#x27;0&#x27;</span>) {
        <span class="hljs-comment">// 0</span>
        addMillisecond = -item.<span class="hljs-title function_">fun</span>(expire.<span class="hljs-property">millisecond</span>) * item.<span class="hljs-property">rate</span>;
      } <span class="hljs-keyword">else</span> {<span class="hljs-comment">// 不是非负整数 =&gt; 不改变(变为上一次的值)</span>
      }
      <span class="hljs-title function_">setExpire</span>(<span class="hljs-function"><span class="hljs-params">expire</span> =&gt;</span> {
        expire.<span class="hljs-property">millisecond</span> += addMillisecond;
        expire.<span class="hljs-property">date</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() + expire.<span class="hljs-property">millisecond</span>);
        <span class="hljs-keyword">return</span> expire;
      });
    }
  })))));
}
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/view/setting.view.tsx</span>





<span class="hljs-keyword">function</span> <span class="hljs-title function_">SettingView</span>(<span class="hljs-params">props</span>) {
  <span class="hljs-keyword">const</span> {
    setting,
    updateBox
  } = props;
  <span class="hljs-keyword">const</span> [settings, setSettings] = <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">useState</span>([]);
  <span class="hljs-keyword">const</span> [inputValue, setInputValue] = <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;&#x27;</span>);
  <span class="hljs-keyword">const</span> [hide, setHide] = <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>);
  <span class="hljs-keyword">const</span> [hideAdvance, setHideAdvance] = <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>);
  <span class="hljs-keyword">const</span> [expireTime, setExpireTime] = <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">useState</span>();
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">updateSettings</span> = (<span class="hljs-params"></span>) =&gt; {
    <span class="hljs-title class_">Settings</span>.<span class="hljs-title function_">selectSettingData</span>(setting.<span class="hljs-property">key</span>).<span class="hljs-title function_">then</span>(setSettings);
  };
  <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">updateSettings</span>();
  }, []);
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>((<span class="hljs-title function_">external_React_default</span>()).<span class="hljs-property">Fragment</span>, <span class="hljs-literal">null</span>, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Card</span>, <span class="hljs-literal">null</span>, settings.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">setting</span> =&gt;</span> !hide || !setting.<span class="hljs-property">hide</span>).<span class="hljs-title function_">sort</span>(<span class="hljs-function"><span class="hljs-params">setting</span> =&gt;</span> setting.<span class="hljs-property">hide</span> ? <span class="hljs-number">1</span> : -<span class="hljs-number">1</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">setting</span> =&gt;</span> <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Tag</span>, {
    <span class="hljs-attr">closable</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">key</span>: setting.<span class="hljs-property">key</span>,
    <span class="hljs-attr">style</span>: {
      <span class="hljs-attr">userSelect</span>: <span class="hljs-string">&#x27;none&#x27;</span>,
      <span class="hljs-attr">maxWidth</span>: <span class="hljs-string">&#x27;300px&#x27;</span>,
      <span class="hljs-attr">whiteSpace</span>: <span class="hljs-string">&#x27;normal&#x27;</span>
    },
    <span class="hljs-attr">color</span>: setting.<span class="hljs-property">hide</span> ? <span class="hljs-string">&#x27;#00000080&#x27;</span> : <span class="hljs-literal">undefined</span>,
    <span class="hljs-attr">onDoubleClick</span>: <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title class_">Settings</span>.<span class="hljs-title function_">updateSettingData</span>(props.<span class="hljs-property">setting</span>.<span class="hljs-property">key</span>, {
        <span class="hljs-attr">key</span>: setting.<span class="hljs-property">key</span>,
        <span class="hljs-attr">hide</span>: !setting.<span class="hljs-property">hide</span>
      });
      <span class="hljs-title function_">updateSettings</span>();
    },
    <span class="hljs-attr">onAuxClick</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">setInputValue</span>(setting.<span class="hljs-property">key</span>),
    <span class="hljs-attr">onClose</span>: <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title class_">Settings</span>.<span class="hljs-title function_">deleteSettingData</span>(props.<span class="hljs-property">setting</span>.<span class="hljs-property">key</span>, setting.<span class="hljs-property">key</span>);
      <span class="hljs-title function_">updateSettings</span>();
      <span class="hljs-title function_">updateBox</span>();
    }
  }, setting.<span class="hljs-property">key</span>))), <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Row</span>, <span class="hljs-literal">null</span>, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Col</span>, {
    <span class="hljs-attr">span</span>: <span class="hljs-number">18</span>
  }, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Input</span>, {
    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;text&#x27;</span>,
    <span class="hljs-attr">value</span>: inputValue,
    <span class="hljs-attr">placeholder</span>: setting.<span class="hljs-property">name</span>,
    <span class="hljs-attr">allowClear</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">onChange</span>: <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> <span class="hljs-title function_">setInputValue</span>(e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>)
  })), <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Col</span>, {
    <span class="hljs-attr">span</span>: <span class="hljs-number">3</span>
  }, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Button</span>, {
    <span class="hljs-attr">block</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">icon</span>: <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_icons_namespaceObject.<span class="hljs-property">PlusOutlined</span>, <span class="hljs-literal">null</span>),
    <span class="hljs-comment">// 输入框为空 或者 输入框与已有配置相同  disabled</span>
    <span class="hljs-attr">disabled</span>: !inputValue || settings.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">setting</span> =&gt;</span> setting.<span class="hljs-property">key</span> === inputValue).<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>,
    <span class="hljs-attr">onClick</span>: <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-comment">// 添加 保存到GM</span>
      <span class="hljs-keyword">if</span> (inputValue) {
        <span class="hljs-title class_">Settings</span>.<span class="hljs-title function_">insertSettingData</span>(setting.<span class="hljs-property">key</span>, {
          <span class="hljs-attr">key</span>: inputValue,
          expireTime
        });
      }
      <span class="hljs-title function_">setInputValue</span>(<span class="hljs-string">&#x27;&#x27;</span>);
      <span class="hljs-title function_">updateSettings</span>();
      <span class="hljs-title function_">updateBox</span>();
    }
  })), <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Col</span>, {
    <span class="hljs-attr">span</span>: <span class="hljs-number">3</span>
  }, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Button</span>, {
    <span class="hljs-attr">block</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">icon</span>: hide ? <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_icons_namespaceObject.<span class="hljs-property">EyeOutlined</span>, <span class="hljs-literal">null</span>) : <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_icons_namespaceObject.<span class="hljs-property">EyeInvisibleOutlined</span>, <span class="hljs-literal">null</span>),
    <span class="hljs-attr">onClick</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">setHide</span>(!hide)
  }))), !hideAdvance &amp;&amp; <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(<span class="hljs-title class_">AdvanceSettingView</span>, {
    <span class="hljs-attr">expireTime</span>: <span class="hljs-function"><span class="hljs-params">expireTime</span> =&gt;</span> <span class="hljs-title function_">setExpireTime</span>(expireTime)
  }), <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Divider</span>, <span class="hljs-literal">null</span>, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_icons_namespaceObject.<span class="hljs-property">CaretDownOutlined</span>, {
    <span class="hljs-attr">rotate</span>: hideAdvance ? <span class="hljs-number">0</span> : <span class="hljs-number">180</span>,
    <span class="hljs-attr">onClick</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">setHideAdvance</span>(<span class="hljs-function"><span class="hljs-params">hide</span> =&gt;</span> !hide)
  })));
}
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/utils/promise-util.ts</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">abortPromise</span>(<span class="hljs-params">p1</span>) {
  <span class="hljs-keyword">let</span> abort;
  <span class="hljs-keyword">const</span> p2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> abort = reject);
  <span class="hljs-keyword">const</span> p = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">race</span>([p1, p2]);
  <span class="hljs-keyword">return</span> [p, abort];
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">finalPromise</span>(<span class="hljs-params">p, key</span>) {
  <span class="hljs-keyword">if</span> (!promise_util_map.<span class="hljs-title function_">has</span>(key)) {
    promise_util_map.<span class="hljs-title function_">set</span>(key, []);
  }
  <span class="hljs-keyword">let</span> promise;
  <span class="hljs-keyword">while</span> (promise = promise_util_map.<span class="hljs-title function_">get</span>(key)?.<span class="hljs-title function_">pop</span>()) {
    promise[<span class="hljs-number">1</span>](<span class="hljs-string">&#x27;too late&#x27;</span>);
  }
  promise = <span class="hljs-title function_">abortPromise</span>(p);
  promise_util_map.<span class="hljs-title function_">get</span>(key)?.<span class="hljs-title function_">push</span>(promise);
  <span class="hljs-keyword">return</span> promise[<span class="hljs-number">0</span>];
}
<span class="hljs-keyword">const</span> promise_util_map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/view/special/uid-username-search.view.tsx</span>





<span class="hljs-keyword">function</span> <span class="hljs-title function_">UidUsernameSearchView</span>(<span class="hljs-params">props</span>) {
  <span class="hljs-keyword">const</span> {
    commit,
    functions
  } = props;
  <span class="hljs-keyword">const</span> uu = <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">useState</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">UidUsername</span>())[<span class="hljs-number">0</span>];
  <span class="hljs-keyword">const</span> [uid, setUid] = <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;&#x27;</span>);
  <span class="hljs-keyword">const</span> [username, setUsername] = <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">useState</span>(<span class="hljs-literal">undefined</span>);
  <span class="hljs-keyword">const</span> [userInfos, setUserInfos] = <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">useState</span>([]);
  <span class="hljs-keyword">const</span> [searchType, setSearchType] = <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;uid2username&#x27;</span>);
  <span class="hljs-keyword">const</span> [userInfoEnd, setUserInfoEnd] = <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">uid2username</span> = <span class="hljs-keyword">async</span> uid =&gt; {
    <span class="hljs-keyword">let</span> username = <span class="hljs-keyword">await</span> uu.<span class="hljs-title function_">uid2username</span>(uid);
    username = username === <span class="hljs-string">&#x27;&#x27;</span> ? <span class="hljs-literal">undefined</span> : username;
    <span class="hljs-keyword">return</span> username;
  };
  functions.<span class="hljs-property">setUid</span> = <span class="hljs-function"><span class="hljs-params">uid</span> =&gt;</span> {
    <span class="hljs-title function_">setUid</span>(uid);
    <span class="hljs-title function_">uid2username</span>(<span class="hljs-title class_">String</span>(uid)).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">username</span> =&gt;</span> {
      <span class="hljs-title function_">setUsername</span>(username);
      <span class="hljs-title function_">setSearchType</span>(<span class="hljs-string">&#x27;username2uid&#x27;</span>);
      username &amp;&amp; uu.<span class="hljs-title function_">username2infos</span>(username).<span class="hljs-title function_">then</span>(setUserInfos);
    });
  };
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>((<span class="hljs-title function_">external_React_default</span>()).<span class="hljs-property">Fragment</span>, <span class="hljs-literal">null</span>, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Col</span>, {
    <span class="hljs-attr">span</span>: <span class="hljs-number">18</span>
  }, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Row</span>, <span class="hljs-literal">null</span>, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Input</span>, {
    <span class="hljs-attr">size</span>: <span class="hljs-string">&#x27;small&#x27;</span>,
    <span class="hljs-attr">allowClear</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">value</span>: uid,
    <span class="hljs-attr">placeholder</span>: <span class="hljs-string">&#x27;uid&#x27;</span>,
    <span class="hljs-attr">onChange</span>: <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
      <span class="hljs-keyword">let</span> value = e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>;
      <span class="hljs-title function_">setSearchType</span>(<span class="hljs-string">&#x27;uid2username&#x27;</span>);
      <span class="hljs-keyword">if</span> (value === <span class="hljs-string">&#x27;&#x27;</span>) {
        <span class="hljs-comment">// 清空, 清空所有</span>
        <span class="hljs-title function_">setUid</span>(<span class="hljs-string">&#x27;&#x27;</span>);
        <span class="hljs-title function_">setUsername</span>(<span class="hljs-literal">undefined</span>);
        <span class="hljs-title function_">setUserInfos</span>([]);
        <span class="hljs-title function_">setUserInfoEnd</span>(<span class="hljs-literal">false</span>);
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/^[1-9](\d+)?$/</span>.<span class="hljs-title function_">test</span>(value)) {
        <span class="hljs-comment">// 手动更改uid后, 清空username选项</span>
        <span class="hljs-title function_">setUid</span>(<span class="hljs-title class_">String</span>(value));
        <span class="hljs-title function_">setUserInfos</span>([]);
        <span class="hljs-title function_">setUserInfoEnd</span>(<span class="hljs-literal">false</span>);
        <span class="hljs-title function_">finalPromise</span>(<span class="hljs-title function_">uid2username</span>(<span class="hljs-title class_">String</span>(value))).<span class="hljs-title function_">then</span>(setUsername);
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// 不是正整数 =&gt; 不改变(变为上一次的值)</span>
        <span class="hljs-title function_">setUid</span>(uid);
        <span class="hljs-comment">// 上一次是username搜索, 清空备选列</span>
        <span class="hljs-keyword">if</span> (searchType === <span class="hljs-string">&#x27;username2uid&#x27;</span>) {
          <span class="hljs-title function_">setUserInfos</span>([]);
          <span class="hljs-title function_">setUserInfoEnd</span>(<span class="hljs-literal">false</span>);
          <span class="hljs-title function_">finalPromise</span>(<span class="hljs-title function_">uid2username</span>(<span class="hljs-title class_">String</span>(value))).<span class="hljs-title function_">then</span>(setUsername);
        }
      }
    }
  })), <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Row</span>, <span class="hljs-literal">null</span>, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">AutoComplete</span>, {
    <span class="hljs-attr">size</span>: <span class="hljs-string">&#x27;small&#x27;</span>,
    <span class="hljs-attr">style</span>: {
      <span class="hljs-attr">width</span>: <span class="hljs-string">&#x27;100%&#x27;</span>
    },
    <span class="hljs-attr">showSearch</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">placeholder</span>: searchType === <span class="hljs-string">&#x27;uid2username&#x27;</span> &amp;&amp; uid !== <span class="hljs-string">&#x27;&#x27;</span> ? <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>((<span class="hljs-title function_">external_React_default</span>()).<span class="hljs-property">Fragment</span>, <span class="hljs-literal">null</span>, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_icons_namespaceObject.<span class="hljs-property">UserDeleteOutlined</span>, <span class="hljs-literal">null</span>), <span class="hljs-string">&quot; \u7528\u6237\u4E0D\u5B58\u5728 ( \u15DC \u2038 \u15DC )&quot;</span>) : <span class="hljs-string">&#x27;username&#x27;</span>,
    <span class="hljs-attr">allowClear</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">getPopupContainer</span>: <span class="hljs-function"><span class="hljs-params">target</span> =&gt;</span> target,
    <span class="hljs-attr">value</span>: username,
    <span class="hljs-attr">disabled</span>: searchType === <span class="hljs-string">&#x27;uid2username&#x27;</span> &amp;&amp; uid !== <span class="hljs-string">&#x27;&#x27;</span>,
    <span class="hljs-attr">onSearch</span>: <span class="hljs-function"><span class="hljs-params">keyword</span> =&gt;</span> {
      <span class="hljs-title function_">setSearchType</span>(<span class="hljs-string">&#x27;username2uid&#x27;</span>);
      <span class="hljs-title function_">setUid</span>(<span class="hljs-string">&#x27;&#x27;</span>);
      <span class="hljs-title function_">setUsername</span>(keyword);
      <span class="hljs-title function_">finalPromise</span>(uu.<span class="hljs-title function_">username2infos</span>(keyword)).<span class="hljs-title function_">then</span>(setUserInfos);
      <span class="hljs-title function_">setUserInfoEnd</span>(<span class="hljs-literal">false</span>);
    },
    <span class="hljs-attr">onSelect</span>: <span class="hljs-function"><span class="hljs-params">uid</span> =&gt;</span> {
      <span class="hljs-title function_">setSearchType</span>(<span class="hljs-string">&#x27;username2uid&#x27;</span>);
      <span class="hljs-title function_">setUid</span>(uid);
      <span class="hljs-title function_">uid2username</span>(uid).<span class="hljs-title function_">then</span>(setUsername);
    },
    <span class="hljs-attr">onPopupScroll</span>: <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
      <span class="hljs-keyword">let</span> target = e.<span class="hljs-property">target</span>;
      <span class="hljs-keyword">if</span> (target.<span class="hljs-property">scrollTop</span> + target.<span class="hljs-property">offsetHeight</span> === target.<span class="hljs-property">scrollHeight</span>) {
        <span class="hljs-comment">// 滑动到底部</span>
        <span class="hljs-keyword">if</span> (!userInfoEnd) {
          <span class="hljs-keyword">if</span> (username) {
            uu.<span class="hljs-title function_">username2infos</span>(username, userInfos.<span class="hljs-property">length</span> / <span class="hljs-number">20</span> + <span class="hljs-number">1</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">newInfos</span> =&gt;</span> {
              <span class="hljs-keyword">if</span> (newInfos.<span class="hljs-property">length</span> === <span class="hljs-number">0</span> || newInfos.<span class="hljs-property">length</span> % <span class="hljs-number">20</span> !== <span class="hljs-number">0</span>) {
                <span class="hljs-title function_">setUserInfoEnd</span>(<span class="hljs-literal">true</span>);
              }
              <span class="hljs-title function_">setUserInfos</span>([...userInfos, ...newInfos]);
            });
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-title function_">setUserInfoEnd</span>(<span class="hljs-literal">true</span>);
          }
        }
      }
    }
  }, userInfos.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">AutoComplete</span>.<span class="hljs-property">Option</span>, {
    <span class="hljs-attr">key</span>: result.<span class="hljs-property">uid</span>
  }, result.<span class="hljs-property">username</span>))))), <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Col</span>, {
    <span class="hljs-attr">span</span>: <span class="hljs-number">2</span>
  }, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Button</span>, {
    <span class="hljs-attr">size</span>: <span class="hljs-string">&#x27;small&#x27;</span>,
    <span class="hljs-attr">style</span>: {
      <span class="hljs-attr">width</span>: <span class="hljs-string">&#x27;100%&#x27;</span>,
      <span class="hljs-attr">height</span>: <span class="hljs-string">&#x27;100%&#x27;</span>
    },
    <span class="hljs-attr">block</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">disabled</span>: !uid || !username,
    <span class="hljs-attr">icon</span>: <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_icons_namespaceObject.<span class="hljs-property">PlusOutlined</span>, <span class="hljs-literal">null</span>),
    <span class="hljs-attr">onAuxClick</span>: <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">switch</span> (searchType) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;username2uid&#x27;</span>:
          <span class="hljs-comment">// 清空</span>
          <span class="hljs-title function_">setUid</span>(<span class="hljs-string">&#x27;&#x27;</span>);
          <span class="hljs-title function_">setUsername</span>(<span class="hljs-literal">undefined</span>);
          <span class="hljs-title function_">setUserInfos</span>([]);
          <span class="hljs-title function_">setUserInfoEnd</span>(<span class="hljs-literal">false</span>);
          <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;uid2username&#x27;</span>:
          <span class="hljs-comment">// 取消准备</span>
          <span class="hljs-title function_">setSearchType</span>(<span class="hljs-string">&#x27;username2uid&#x27;</span>);
          uu.<span class="hljs-title function_">username2infos</span>(username ?? <span class="hljs-string">&#x27;&#x27;</span>).<span class="hljs-title function_">then</span>(setUserInfos);
          <span class="hljs-title function_">setUserInfoEnd</span>(<span class="hljs-literal">false</span>);
          <span class="hljs-keyword">break</span>;
      }
    },
    <span class="hljs-attr">onClick</span>: <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">if</span> (uid) {
        <span class="hljs-comment">// 有输入uid再处理</span>
        <span class="hljs-keyword">switch</span> (searchType) {
          <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;username2uid&#x27;</span>:
            <span class="hljs-comment">// 准备</span>
            <span class="hljs-title function_">setSearchType</span>(<span class="hljs-string">&#x27;uid2username&#x27;</span>);
            <span class="hljs-keyword">break</span>;
          <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;uid2username&#x27;</span>:
            <span class="hljs-comment">// 添加</span>
            <span class="hljs-title function_">setUid</span>(<span class="hljs-string">&#x27;&#x27;</span>);
            <span class="hljs-title function_">setUsername</span>(<span class="hljs-literal">undefined</span>);
            <span class="hljs-title function_">setUserInfos</span>([]);
            <span class="hljs-title function_">setUserInfoEnd</span>(<span class="hljs-literal">false</span>);
            <span class="hljs-title function_">commit</span>(uid);
            <span class="hljs-keyword">break</span>;
        }
      }
    }
  })));
}
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/view/special/uid-username.view.tsx</span>






<span class="hljs-keyword">function</span> <span class="hljs-title function_">UidUsernameView</span>(<span class="hljs-params">props</span>) {
  <span class="hljs-keyword">const</span> {
    updateBox
  } = props;
  <span class="hljs-keyword">const</span> [settings, setSettings] = <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">useState</span>([]);
  <span class="hljs-keyword">const</span> [hide, setHide] = <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>); <span class="hljs-comment">// 是否显示隐藏的tag标签</span>
  <span class="hljs-keyword">const</span> [hideAdvance, setHideAdvance] = <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>);
  <span class="hljs-keyword">const</span> [expireTime, setExpireTime] = <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">useState</span>();
  <span class="hljs-keyword">const</span> usvFunctions = {};
  <span class="hljs-comment">/**
   * 更新配置展示
   */</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">updateSettings</span> = (<span class="hljs-params"></span>) =&gt; <span class="hljs-title class_">Settings</span>.<span class="hljs-title function_">selectSettingData</span>(<span class="hljs-string">&#x27;username&#x27;</span>).<span class="hljs-title function_">then</span>(setSettings);
  <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">updateSettings</span>();
  }, []);
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>((<span class="hljs-title function_">external_React_default</span>()).<span class="hljs-property">Fragment</span>, <span class="hljs-literal">null</span>, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Card</span>, <span class="hljs-literal">null</span>, settings.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> !hide || !item.<span class="hljs-property">hide</span>).<span class="hljs-title function_">sort</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">hide</span> ? <span class="hljs-number">1</span> : -<span class="hljs-number">1</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Tooltip</span>, {
    <span class="hljs-attr">title</span>: item.<span class="hljs-property">key</span>,
    <span class="hljs-attr">key</span>: item.<span class="hljs-property">key</span>,
    <span class="hljs-attr">getPopupContainer</span>: <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> e,
    <span class="hljs-attr">mouseEnterDelay</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">trigger</span>: <span class="hljs-string">&#x27;click&#x27;</span>,
    <span class="hljs-attr">showArrow</span>: <span class="hljs-literal">false</span>
  }, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Tag</span>, {
    <span class="hljs-attr">closable</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">style</span>: {
      <span class="hljs-attr">userSelect</span>: <span class="hljs-string">&#x27;none&#x27;</span>
    },
    <span class="hljs-attr">color</span>: item.<span class="hljs-property">hide</span> ? <span class="hljs-string">&#x27;#00000080&#x27;</span> : <span class="hljs-literal">undefined</span>,
    <span class="hljs-attr">onDoubleClick</span>: <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-comment">// 双击隐藏/显示</span>
      <span class="hljs-title class_">Settings</span>.<span class="hljs-title function_">updateSettingData</span>(<span class="hljs-string">&#x27;uid&#x27;</span>, {
        <span class="hljs-attr">key</span>: item.<span class="hljs-property">key</span>,
        <span class="hljs-attr">hide</span>: !item.<span class="hljs-property">hide</span>
      });
      <span class="hljs-title function_">updateSettings</span>();
    },
    <span class="hljs-attr">onAuxClick</span>: <span class="hljs-function">() =&gt;</span> {
      usvFunctions.<span class="hljs-property">setUid</span> &amp;&amp; usvFunctions.<span class="hljs-title function_">setUid</span>(item.<span class="hljs-property">key</span>);
    },
    <span class="hljs-attr">onClose</span>: <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-comment">// 删除, 删除uid</span>
      <span class="hljs-title class_">Settings</span>.<span class="hljs-title function_">deleteSettingData</span>(<span class="hljs-string">&#x27;uid&#x27;</span>, item.<span class="hljs-property">key</span>);
      <span class="hljs-title function_">updateSettings</span>();
      <span class="hljs-title function_">updateBox</span>();
    },
    <span class="hljs-attr">key</span>: item.<span class="hljs-property">username</span>
  }, item.<span class="hljs-property">username</span>)))), <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Row</span>, <span class="hljs-literal">null</span>, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(<span class="hljs-title class_">UidUsernameSearchView</span>, {
    <span class="hljs-attr">functions</span>: usvFunctions,
    <span class="hljs-attr">commit</span>: <span class="hljs-function"><span class="hljs-params">uid</span> =&gt;</span> {
      <span class="hljs-title class_">Settings</span>.<span class="hljs-title function_">insertSettingData</span>(<span class="hljs-string">&#x27;uid&#x27;</span>, {
        <span class="hljs-attr">key</span>: uid,
        expireTime
      });
      <span class="hljs-title function_">updateSettings</span>();
      <span class="hljs-title function_">updateBox</span>();
    }
  }), <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Col</span>, {
    <span class="hljs-attr">span</span>: <span class="hljs-number">2</span>
  }, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Button</span>, {
    <span class="hljs-attr">size</span>: <span class="hljs-string">&#x27;small&#x27;</span>,
    <span class="hljs-attr">style</span>: {
      <span class="hljs-attr">width</span>: <span class="hljs-string">&#x27;100%&#x27;</span>,
      <span class="hljs-attr">height</span>: <span class="hljs-string">&#x27;100%&#x27;</span>
    },
    <span class="hljs-attr">block</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">icon</span>: <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_icons_namespaceObject.<span class="hljs-property">SyncOutlined</span>, <span class="hljs-literal">null</span>),
    <span class="hljs-attr">onClick</span>: <span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-comment">// 刷新, uid排序</span>
      <span class="hljs-keyword">await</span> <span class="hljs-title class_">Settings</span>.<span class="hljs-title function_">selectSettingData</span>(<span class="hljs-string">&#x27;uid&#x27;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">array</span> =&gt;</span> <span class="hljs-title class_">Settings</span>.<span class="hljs-title function_">resetSettingData</span>(<span class="hljs-string">&#x27;uid&#x27;</span>, array.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">sd1, sd2</span>) =&gt;</span> <span class="hljs-title class_">Number</span>(sd1.<span class="hljs-property">key</span>) - <span class="hljs-title class_">Number</span>(sd2.<span class="hljs-property">key</span>))));
      <span class="hljs-title function_">GM_listValues</span>().<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">&#x27;uid_&#x27;</span>)).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> <span class="hljs-title function_">GM_deleteValue</span>(item));
      <span class="hljs-title function_">updateSettings</span>();
    }
  })), <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Col</span>, {
    <span class="hljs-attr">span</span>: <span class="hljs-number">2</span>
  }, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Button</span>, {
    <span class="hljs-attr">size</span>: <span class="hljs-string">&#x27;small&#x27;</span>,
    <span class="hljs-attr">style</span>: {
      <span class="hljs-attr">width</span>: <span class="hljs-string">&#x27;100%&#x27;</span>,
      <span class="hljs-attr">height</span>: <span class="hljs-string">&#x27;100%&#x27;</span>
    },
    <span class="hljs-attr">block</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">icon</span>: hide ? <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_icons_namespaceObject.<span class="hljs-property">EyeOutlined</span>, <span class="hljs-literal">null</span>) : <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_icons_namespaceObject.<span class="hljs-property">EyeInvisibleOutlined</span>, <span class="hljs-literal">null</span>),
    <span class="hljs-attr">onClick</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">setHide</span>(!hide)
  }))), !hideAdvance &amp;&amp; <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(<span class="hljs-title class_">AdvanceSettingView</span>, {
    <span class="hljs-attr">expireTime</span>: <span class="hljs-function"><span class="hljs-params">expireTime</span> =&gt;</span> <span class="hljs-title function_">setExpireTime</span>(expireTime)
  }), <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Divider</span>, <span class="hljs-literal">null</span>, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_icons_namespaceObject.<span class="hljs-property">CaretDownOutlined</span>, {
    <span class="hljs-attr">rotate</span>: hideAdvance ? <span class="hljs-number">0</span> : <span class="hljs-number">180</span>,
    <span class="hljs-attr">onClick</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">setHideAdvance</span>(<span class="hljs-function"><span class="hljs-params">hide</span> =&gt;</span> !hide)
  })));
}
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/view/display-type.view.tsx</span>



<span class="hljs-keyword">function</span> <span class="hljs-title function_">DisplayTypeView</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> [displayType, setDisplayType] = <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">useState</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-title class_">DisplayStyleId</span>)?.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-title class_">DisplayStyleAttribute</span>));
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>((<span class="hljs-title function_">external_React_default</span>()).<span class="hljs-property">Fragment</span>, <span class="hljs-literal">null</span>, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Card</span>, {
    <span class="hljs-attr">style</span>: {
      <span class="hljs-attr">height</span>: <span class="hljs-string">&#x27;100%&#x27;</span>
    },
    <span class="hljs-attr">bodyStyle</span>: {
      <span class="hljs-attr">display</span>: <span class="hljs-string">&#x27;flex&#x27;</span>,
      <span class="hljs-attr">alignItems</span>: <span class="hljs-string">&#x27;center&#x27;</span>,
      <span class="hljs-attr">height</span>: <span class="hljs-string">&#x27;100%&#x27;</span>
    }
  }, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Tooltip</span>, {
    <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;切换至&#x27;</span> + (displayType === <span class="hljs-string">&#x27;hide&#x27;</span> ? <span class="hljs-string">&#x27;debug&#x27;</span> : <span class="hljs-string">&#x27;hide&#x27;</span>),
    <span class="hljs-attr">getPopupContainer</span>: <span class="hljs-function"><span class="hljs-params">target</span> =&gt;</span> target
  }, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Button</span>, {
    <span class="hljs-attr">style</span>: {
      <span class="hljs-attr">width</span>: <span class="hljs-string">&#x27;100px&#x27;</span>
    },
    <span class="hljs-attr">onClick</span>: <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">let</span> element = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-title class_">DisplayStyleId</span>);
      <span class="hljs-keyword">const</span> displayType = element.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-title class_">DisplayStyleAttribute</span>) === <span class="hljs-string">&#x27;hide&#x27;</span> ? <span class="hljs-string">&#x27;debug&#x27;</span> : <span class="hljs-string">&#x27;hide&#x27;</span>;
      element.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-title class_">DisplayStyleAttribute</span>, displayType);
      element.<span class="hljs-property">innerHTML</span> = <span class="hljs-title class_">CssInnerHtml</span>[displayType];
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">window</span>.<span class="hljs-property">frames</span>.<span class="hljs-property">length</span>; i++) {
        <span class="hljs-keyword">try</span> {
          <span class="hljs-variable language_">window</span>.<span class="hljs-property">frames</span>[i].<span class="hljs-property">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-title class_">DisplayStyleId</span>).<span class="hljs-property">innerHTML</span> = <span class="hljs-title class_">CssInnerHtml</span>[displayType];
        } <span class="hljs-keyword">catch</span> (ignore) {}
      }
      <span class="hljs-title function_">setDisplayType</span>(displayType);
    }
  }, displayType))));
}
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/view/box.view.tsx</span>







<span class="hljs-keyword">function</span> <span class="hljs-title function_">BoxView</span>(<span class="hljs-params">props</span>) {
  <span class="hljs-keyword">const</span> {
    pageMap
  } = props;
  <span class="hljs-keyword">const</span> mainRef = <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>);
  <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> page <span class="hljs-keyword">of</span> props.<span class="hljs-property">pageMap</span>.<span class="hljs-title function_">values</span>()) {
        <span class="hljs-keyword">if</span> (page.<span class="hljs-property">working</span>) {
          page.<span class="hljs-title function_">stop</span>();
        }
      }
    };
  });
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">updateBox</span>(<span class="hljs-params"></span>) {
    <span class="hljs-comment">// 需要更改所有内容, 需要放在外面</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> page <span class="hljs-keyword">of</span> pageMap.<span class="hljs-title function_">values</span>()) {
      <span class="hljs-keyword">if</span> (page.<span class="hljs-property">working</span>) {
        page.<span class="hljs-title function_">stop</span>();
        page.<span class="hljs-title function_">start</span>();
      }
    }
  }
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>((<span class="hljs-title function_">external_React_default</span>()).<span class="hljs-property">Fragment</span>, <span class="hljs-literal">null</span>, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">ConfigProvider</span>, {
    <span class="hljs-attr">theme</span>: {
      <span class="hljs-attr">token</span>: {
        <span class="hljs-attr">colorPrimary</span>: <span class="hljs-string">&#x27;pink&#x27;</span>
      }
    }
  }, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;div&quot;</span>, {
    <span class="hljs-attr">ref</span>: mainRef,
    <span class="hljs-attr">style</span>: {
      <span class="hljs-attr">display</span>: <span class="hljs-string">&#x27;none&#x27;</span>,
      <span class="hljs-attr">position</span>: <span class="hljs-string">&#x27;absolute&#x27;</span>,
      <span class="hljs-attr">top</span>: <span class="hljs-string">&#x27;10px&#x27;</span>,
      <span class="hljs-attr">right</span>: <span class="hljs-string">&#x27;400px&#x27;</span>,
      <span class="hljs-attr">zIndex</span>: <span class="hljs-number">99999</span>
    }
  }, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;div&quot;</span>, {
    <span class="hljs-attr">style</span>: {
      <span class="hljs-attr">position</span>: <span class="hljs-string">&#x27;fixed&#x27;</span>,
      <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">&#x27;white&#x27;</span>,
      <span class="hljs-attr">border</span>: <span class="hljs-string">&#x27;5px groove pink&#x27;</span>,
      <span class="hljs-attr">width</span>: <span class="hljs-string">&#x27;350px&#x27;</span>
    }
  }, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>((<span class="hljs-title function_">external_React_default</span>()).<span class="hljs-property">Fragment</span>, <span class="hljs-literal">null</span>, [...pageMap.<span class="hljs-title function_">values</span>()].<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">page</span> =&gt;</span> page.<span class="hljs-title function_">isCurrent</span>()).<span class="hljs-property">length</span> !== <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Row</span>, <span class="hljs-literal">null</span>, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Col</span>, {
    <span class="hljs-attr">span</span>: <span class="hljs-number">14</span>
  },
  <span class="hljs-comment">// 页面</span>
  [...pageMap.<span class="hljs-title function_">values</span>()].<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">page</span> =&gt;</span> page.<span class="hljs-title function_">isCurrent</span>()).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">page</span> =&gt;</span> <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(<span class="hljs-title class_">PageView</span>, {
    <span class="hljs-attr">key</span>: page.<span class="hljs-property">key</span>,
    <span class="hljs-attr">page</span>: page
  }))), <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Col</span>, {
    <span class="hljs-attr">span</span>: <span class="hljs-number">10</span>
  }, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(<span class="hljs-title class_">DisplayTypeView</span>, <span class="hljs-literal">null</span>))), <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Tabs</span>, {
    <span class="hljs-attr">defaultActiveKey</span>: <span class="hljs-string">&#x27;uid&#x27;</span>,
    <span class="hljs-attr">items</span>: [{
      <span class="hljs-attr">key</span>: <span class="hljs-string">&#x27;uid&#x27;</span>,
      <span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;uid&#x27;</span>,
      <span class="hljs-attr">children</span>: <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(<span class="hljs-title class_">UidUsernameView</span>, {
        <span class="hljs-attr">updateBox</span>: updateBox
      })
    }, ...[...<span class="hljs-title class_">Settings</span>.<span class="hljs-title function_">getSystemSettings</span>().<span class="hljs-title function_">values</span>()].<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">setting</span> =&gt;</span> {
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">key</span>: setting.<span class="hljs-property">key</span>,
        <span class="hljs-attr">label</span>: setting.<span class="hljs-property">name</span>,
        <span class="hljs-attr">children</span>: <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(<span class="hljs-title class_">SettingView</span>, {
          <span class="hljs-attr">key</span>: setting.<span class="hljs-property">key</span>,
          <span class="hljs-attr">setting</span>: setting,
          <span class="hljs-attr">updateBox</span>: updateBox
        })
      };
    })]
  }), <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Row</span>, <span class="hljs-literal">null</span>, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Col</span>, {
    <span class="hljs-attr">span</span>: <span class="hljs-number">8</span>
  }), <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Col</span>, {
    <span class="hljs-attr">span</span>: <span class="hljs-number">8</span>
  }), <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Col</span>, {
    <span class="hljs-attr">span</span>: <span class="hljs-number">8</span>
  }, <span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(external_antd_namespaceObject.<span class="hljs-property">Button</span>, {
    <span class="hljs-attr">block</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">onClick</span>: <span class="hljs-function">() =&gt;</span> {
      mainRef.<span class="hljs-property">current</span>.<span class="hljs-property">style</span>.<span class="hljs-title function_">setProperty</span>(<span class="hljs-string">&#x27;display&#x27;</span>, <span class="hljs-string">&#x27;none&#x27;</span>);
    }
  }, <span class="hljs-string">&quot;\u9690\u85CF\u83DC\u5355&quot;</span>))))))));
}
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/init/create-box.tsx</span>




<span class="hljs-comment">/**
 * 创建div 添加react组件
 * <span class="hljs-doctag">@returns</span> <span class="hljs-variable">root</span>
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createBox</span>(<span class="hljs-params">pageMap, root = {
  root: <span class="hljs-literal">undefined</span>
}</span>) {
  <span class="hljs-keyword">if</span> (root.<span class="hljs-property">root</span>) {
    root.<span class="hljs-property">root</span>.<span class="hljs-title function_">unmount</span>();
  }
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> page <span class="hljs-keyword">of</span> pageMap.<span class="hljs-title function_">values</span>()) {
    page.<span class="hljs-title function_">arrive</span>(<span class="hljs-variable language_">window</span>);
  }
  <span class="hljs-keyword">let</span> div;
  <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-title class_">AppId</span>)) {
    div = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;div&#x27;</span>);
    div.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&quot;id&quot;</span>, <span class="hljs-title class_">AppId</span>);
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(div);
  }
  root.<span class="hljs-property">root</span> = (<span class="hljs-number">0</span>,client<span class="hljs-comment">/* createRoot */</span>.<span class="hljs-property">s</span>)(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-title class_">AppId</span>));
  root.<span class="hljs-property">root</span>.<span class="hljs-title function_">render</span>(<span class="hljs-title function_">external_React_default</span>().<span class="hljs-title function_">createElement</span>(<span class="hljs-title class_">BoxView</span>, {
    <span class="hljs-attr">pageMap</span>: pageMap
  }));
  <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">leave</span>(<span class="hljs-string">`#<span class="hljs-subst">${AppId}</span>`</span>, {
      <span class="hljs-attr">fireOnAttributesModification</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">onceOnly</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">existing</span>: <span class="hljs-literal">false</span>
    }, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
      <span class="hljs-title function_">createBox</span>(pageMap, root);
    });
  };
}
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/init/create-display-style.tsx</span>

<span class="hljs-comment">/**
 * 创建hideStyle
 * 返回监听方法
 * <span class="hljs-doctag">@param</span> <span class="hljs-variable">type</span>
 * <span class="hljs-doctag">@param</span> <span class="hljs-variable">document</span>
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createDisplayStyle</span>(<span class="hljs-params">type, <span class="hljs-variable language_">document</span></span>) {
  <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-title class_">DisplayStyleId</span>)) {
    <span class="hljs-keyword">let</span> element = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;style&#x27;</span>);
    element.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;id&#x27;</span>, <span class="hljs-title class_">DisplayStyleId</span>);
    element.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;type&#x27;</span>, <span class="hljs-string">&#x27;text/css&#x27;</span>);
    element.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-title class_">DisplayStyleAttribute</span>, type);
    element.<span class="hljs-property">innerHTML</span> = <span class="hljs-title class_">CssInnerHtml</span>[type];
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(element);
  }
  <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">leave</span>(<span class="hljs-string">`#<span class="hljs-subst">${DisplayStyleId}</span>`</span>, {
      <span class="hljs-attr">fireOnAttributesModification</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">onceOnly</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">existing</span>: <span class="hljs-literal">false</span>
    }, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
      <span class="hljs-title function_">createDisplayStyle</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-title class_">DisplayStyleAttribute</span>) ?? <span class="hljs-string">&#x27;hide&#x27;</span>, <span class="hljs-variable language_">document</span>);
    });
  };
}
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/init/iframes.tsx</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">iframes</span>(<span class="hljs-params">pageMap</span>) {
  <span class="hljs-keyword">let</span> framesData = [];
  <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">window</span>.<span class="hljs-property">frames</span>.<span class="hljs-property">length</span>; i++) {
      <span class="hljs-keyword">let</span> frame = <span class="hljs-variable language_">window</span>.<span class="hljs-property">frames</span>[i];
      <span class="hljs-comment">// 第一次</span>
      <span class="hljs-keyword">if</span> (!framesData[i] || framesData[i].<span class="hljs-property">frame</span> !== frame) {
        <span class="hljs-keyword">let</span> frameData = {};
        framesData[i] = frameData;
        frameData.<span class="hljs-property">frame</span> = frame;
      }
      <span class="hljs-comment">// 不跨域且dom改变了</span>
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">if</span> (frame.<span class="hljs-property">document</span> &amp;&amp; framesData[i].<span class="hljs-property">document</span> !== frame.<span class="hljs-property">document</span>) {
          framesData[i].<span class="hljs-property">document</span> = frame.<span class="hljs-property">document</span>;
          <span class="hljs-title function_">createDisplayStyle</span>(<span class="hljs-string">&#x27;hide&#x27;</span>, frame.<span class="hljs-property">document</span>);
          <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> page <span class="hljs-keyword">of</span> pageMap.<span class="hljs-title function_">values</span>()) {
            page.<span class="hljs-title function_">stop</span>();
            page.<span class="hljs-title function_">start</span>();
          }
        }
      } <span class="hljs-keyword">catch</span> (ignore) {}
    }
  }, <span class="hljs-number">500</span>);
}
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/init/global.ts</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">globalInit</span>(<span class="hljs-params"></span>) {
  <span class="hljs-comment">// 取消插件内部的浏览器右键菜单事件</span>
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">oncontextmenu</span> = <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {
    <span class="hljs-keyword">if</span> (event.<span class="hljs-property">srcElement</span> &amp;&amp; event.<span class="hljs-property">srcElement</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Node</span>) {
      <span class="hljs-keyword">return</span> !<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-title class_">AppId</span>)?.<span class="hljs-title function_">contains</span>(event.<span class="hljs-property">srcElement</span>);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  };
}
;<span class="hljs-comment">// CONCATENATED MODULE: ./src/main.tsx</span>








(<span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-comment">// 全局配置</span>
  <span class="hljs-title function_">globalInit</span>();
  <span class="hljs-comment">// 检查版本是否更新 更新配置</span>
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">checkVersion</span>();
  <span class="hljs-comment">// 读取配置生成 PageMap</span>
  <span class="hljs-keyword">let</span> pageMap = <span class="hljs-title function_">readEtc</span>();
  <span class="hljs-comment">// 创建ui-box</span>
  <span class="hljs-title function_">createBox</span>(pageMap)();
  <span class="hljs-comment">// 创建隐藏元素的style标签</span>
  <span class="hljs-title function_">createDisplayStyle</span>(<span class="hljs-string">&#x27;hide&#x27;</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">document</span>)();
  <span class="hljs-comment">// 追加页面iframe内部屏蔽</span>
  <span class="hljs-title function_">iframes</span>(pageMap);
  <span class="hljs-comment">// 油猴菜单展示/隐藏配置</span>
  <span class="hljs-title function_">GM_registerMenuCommand</span>(<span class="hljs-string">&#x27;脚本配置&#x27;</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">let</span> main = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">`#<span class="hljs-subst">${AppId}</span>&gt;div`</span>);
    main.<span class="hljs-property">style</span>.<span class="hljs-title function_">setProperty</span>(<span class="hljs-string">&#x27;display&#x27;</span>, main.<span class="hljs-property">style</span>?.<span class="hljs-title function_">getPropertyValue</span>(<span class="hljs-string">&#x27;display&#x27;</span>) === <span class="hljs-string">&#x27;none&#x27;</span> ? <span class="hljs-string">&#x27;&#x27;</span> : <span class="hljs-string">&#x27;none&#x27;</span>);
  });
})();
})();

<span class="hljs-comment">/******/</span> })()
;
</code></pre>

</body>
</html>